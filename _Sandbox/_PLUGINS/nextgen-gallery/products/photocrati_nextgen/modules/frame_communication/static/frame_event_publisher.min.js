"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){var n=function(e){if("object"!==_typeof(e.document))throw Error("Cookies.js requires a `window` with a `document` object");var n=function e(t,n,i){return 1===arguments.length?e.get(t):e.set(t,n,i)};return n._document=e.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={path:"/",secure:!1},n.get=function(e){return n._cachedDocumentCookie!==n._document.cookie&&n._renewCache(),e=n._cache[n._cacheKeyPrefix+e],e===t?t:decodeURIComponent(e)},n.set=function(e,i,o){return o=n._getExtendedOptions(o),o.expires=n._getExpiresDate(i===t?-1:o.expires),n._document.cookie=n._generateCookieString(e,i,o),n},n.expire=function(e,i){return n.set(e,t,i)},n._getExtendedOptions=function(e){return{path:e&&e.path||n.defaults.path,domain:e&&e.domain||n.defaults.domain,expires:e&&e.expires||n.defaults.expires,secure:e&&e.secure!==t?e.secure:n.defaults.secure}},n._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},n._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=1/0===e?n._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!n._isValidDate(e))throw Error("`expires` parameter cannot be converted to a valid Date instance");return e},n._generateCookieString=function(e,t,n){return e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{},e=e+"="+t+(n.path?";path="+n.path:""),e+=n.domain?";domain="+n.domain:"",e+=n.expires?";expires="+n.expires.toUTCString():"",e+=n.secure?";secure":""},n._getCacheFromString=function(e){var i={};e=e?e.split("; "):[];for(var o=0;o<e.length;o++){var r=n._getKeyValuePairFromCookieString(e[o]);i[n._cacheKeyPrefix+r.key]===t&&(i[n._cacheKeyPrefix+r.key]=r.value)}return i},n._getKeyValuePairFromCookieString=function(e){var t,n=e.indexOf("="),n=0>n?e.length:n,i=e.substr(0,n);try{t=decodeURIComponent(i)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+i+'"',e)}return{key:t,value:e.substr(n+1)}},n._renewCache=function(){n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie},n._areEnabled=function(){var e="1"===n.set("cookies.js",1).get("cookies.js");return n.expire("cookies.js"),e},n.enabled=n._areEnabled(),n},i="object"===_typeof(e.document)?n(e):n;"function"==typeof define&&define.amd?define(function(){return i}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?("object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)&&(exports=module.exports=i),exports.Cookies=i):e.Cookies=i}("undefined"==typeof window?void 0:window),window.Frame_Event_Publisher={id:window.name,cookie_name:"X-Frame-Events",received:[],initialized:!1,children:{},window:!1,ajax_handlers_setup:!1,is_parent:function(){return window.parent.document===window.document},is_child:function(){return!this.is_parent()},setup_ajax_handlers:function(){if(!this.ajax_handlers_setup){var e=this;jQuery(document).ajaxComplete(function(t,n,i){setTimeout(function(){e.ajax_handler()},0)})}},ajax_handler:function(){this.broadcast(this.get_events(document.cookie))},initialize:function(){return this.setup_ajax_handlers(),void 0!==window.frame_event_publisher_domain&&(Cookies.defaults.domain=window.frame_event_publisher_domain),this.window=window,void 0!==this.window.id&&null!=this.window.id.length&&this.window.id.length>0?this.id=this.window.id:this.id,this.received=this.get_events(document.cookie),this.initialized=!0,this.is_parent()&&this.emit(this.received,!0),this.received},register_child:function(e){this.children[e.id]=e},broadcast:function(e,t){this.initialized||(e=this.initialize()),"Unknown"==this.id?(this.initialized=!1,setTimeout(function(){this.broadcast(e,t)},100)):this.is_child()?(arguments.length<=1&&(t=window),this.find_parent(t).register_child(t.Frame_Event_Publisher),this.notify_parent(e,t)):(0==arguments.length&&(e=this.received),this.notify_children(e))},notify_parent:function(e,t){this.find_parent(t).broadcast(e,t)},notify_children:function(e){this.emit(e);for(var t in this.children){var n=this.children[t];try{n.emit(e)}catch(e){"undefined"!=typeof console&&console.log(e),delete this.children.index}}},find_parent:function(e){var t=e;try{for(;t.document!==t.parent.document;)t=t.parent}catch(e){"undefined"!=typeof console&&console.log(e)}return t.Frame_Event_Publisher},emit:function(e,t){void 0===t&&(t=!1);for(var n in e){var i=e[n];t||this.has_received_event(n)||("undefined"!=typeof console&&console.log("Emitting "+n+":"+i.event+" to "+this.id),this.trigger_event(n,e[n]))}},has_received_event:function(e){return void 0!=this.received[e]},trigger_event:function(e,t){var n=t.context+":"+t.event;t.id=e,"undefined"!=typeof window&&jQuery(window).trigger(n,t),this.received[e]=t},get_events:function(e){for(var t={},n=unescape(e).split(" "),i=0;i<n.length;i++){var o=n[i],r=o.match(/X-Frame-Events_([^=]+)=(.*)/);if(r){var c=r[1],a=r[2].replace(/;$/,"");try{t[c]=JSON.parse(a)}catch(e){}var d="X-Frame-Events_"+c;this.delete_cookie(d)}}return t},delete_cookie:function(e){Cookies.expire(e)},listen_for:function(e,t){var n=this;jQuery(window).on(e,function(e,i){var o=(i.context,i.id);n.has_received_event(o)||(t.call(n,i),n.received[o]=i)})}},jQuery(function(e){Frame_Event_Publisher.broadcast()});