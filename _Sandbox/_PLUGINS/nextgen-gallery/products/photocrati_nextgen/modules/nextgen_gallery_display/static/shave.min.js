"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,e.shave=t())}(void 0,function(){function e(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t||isNaN(t))throw Error("maxHeight is required");var n="string"==typeof e?document.querySelectorAll(e):e;if(n){var i=o.character||"â€¦",r=o.classname||"js-shave",s="boolean"!=typeof o.spaces||o.spaces,a='<span class="js-shave-char">'.concat(i,"</span>");"length"in n||(n=[n]);for(var c=0;c<n.length;c+=1){var f=n[c],l=f.style,d=f.querySelector(".".concat(r)),h=void 0===f.textContent?"innerText":"textContent";d&&(f.removeChild(f.querySelector(".js-shave-char")),f[h]=f[h]);var p=f[h],u=s?p.split(" "):p;if(!(u.length<2)){var y=l.height;l.height="auto";var m=l.maxHeight;if(l.maxHeight="none",f.offsetHeight<=t)l.height=y,l.maxHeight=m;else{for(var v=u.length-1,g=0,b=void 0;g<v;)b=g+v+1>>1,f[h]=s?u.slice(0,b).join(" "):u.slice(0,b),f.insertAdjacentHTML("beforeend",a),f.offsetHeight>t?v=b-1:g=b;f[h]=s?u.slice(0,v).join(" "):u.slice(0,v),f.insertAdjacentHTML("beforeend",a);var x=s?" ".concat(u.slice(v).join(" ")):u.slice(v),j=document.createTextNode(x),H=document.createElement("span");H.classList.add(r),H.style.display="none",H.appendChild(j),f.insertAdjacentElement("beforeend",H),l.height=y,l.maxHeight=m}}}}}return e});