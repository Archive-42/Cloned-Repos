"use strict";function adjust_height_for_frame(e,t,i){if(!/crios|iP(hone|od|ad)/i.test(navigator.userAgent))return void 0===i||i(e,t);var a=jQuery(t.frameElement),n=a.contents().height()/3,o=a.contents().find("#wpbody").height(),s=jQuery(e.document).height(),d=a.height();if(0===o&&(o=a.contents().height()),n<o&&(n=o),n<s&&(n=s),d<n){var r=a.attr("id");if(r&&0===r.indexOf("ngg-iframe-")){var c=r.substr(11);c&&jQuery("#"+c).height(n)}}return void 0===i||i(e,t,n)}function close_attach_to_post_window(){if(is_block_editor()){var e=parent.document.getElementById(window.name),t=new Event("NGG_Close_Modal");e.dispatchEvent(t)}else{var i=jQuery(top.document).find("#TB_window iframe").attr("src");i&&i.match("attach_to_post")?top.tb_remove():top.tinyMCE.activeEditor.windowManager.close(window)}}function insert_into_editor(e,t){if(is_block_editor()){var i=parent.document.getElementById(window.name),a=new CustomEvent("NGG_Insert_Gallery",{detail:{shortcode:e}});i.dispatchEvent(a)}else if(is_visual_editor()){var n=top.tinyMCE.activeEditor;n.selection.getNode().outerHTML.indexOf(t)>=0?jQuery(n.selection.getNode()).attr("data-shortcode",e.substring(1,e.length-1)):n.execCommand("mceInsertContent",!1,e),n.selection.collapse(!1)}else if(myField=top.document.getElementById("content"),myValue=e,document.selection)myField.trigger("focus"),sel=document.selection.createRange(),sel.text=myValue;else if(myField.selectionStart||"0"===myField.selectionStart){var o=myField.selectionStart,s=myField.selectionEnd;myField.value=myField.value.substring(0,o)+myValue+myField.value.substring(s,myField.value.length)}else myField.value+=myValue}function is_visual_editor(){return 0===jQuery(top.document).find(".html-active:visible").length}function is_block_editor(){return void 0!==window.name&&"add-ngg-gallery-block-iframe"===window.name}function ngg_get_measures_for_frame(e){var t=jQuery(e),i=t.attr("id"),a={};if(i&&0===i.indexOf("ngg-iframe-")){if(i.substr(11)){var n=jQuery(document);a.scrollTop=n.scrollTop()-40,window.parent?a.scrollHeight=jQuery(window.parent.document).find(".ngg_attach_to_post_window").height()-40:a.scrollHeight=n.height(),void 0!==window.console&&console.log(a)}}return a}(void 0).id="ngg-attach_to_post",jQuery(function(e){if(/crios|iP(hone|od|ad)/i.test(navigator.userAgent)&&e("#attach_to_post_tabs").addClass("ngg_atp_ios_detected"),e("#attach_to_post_tabs").ngg_tabs({onShowTab:function(t){navigator.appVersion.match(/Chrome\/(69|7)/)&&("displayed_tab"!=t.attr("id")?e("#attach_to_post_tabs").addClass("chrome_70_hack_frames").removeClass("chrome_70_hack_noframes"):e("#attach_to_post_tabs").removeClass("chrome_70_hack_frames").addClass("chrome_70_hack_noframes"))}}),e(".ngg_page_content_menu a").on("click",function(){"preview_tab"===e(this).attr("data-id")&&e("#preview_area").trigger("opened")}),e(".accordion").accordion({clearStyle:!0,autoHeight:!1,heightStyle:"content"}),e(".ui-tabs-nav li:first-of-type a").addClass("active_tab"),e(".ui-tabs-nav a").on("click",function(t){e(".ui-tabs-nav a").removeClass("active_tab"),e(this).addClass("active_tab");var i=t.target;if(e(i).parent().hasClass("ui-state-active")){var a=e(i.hash+" iframe");a.length>0&&a[0].contentDocument.location!=a.attr("src")&&(a[0].contentDocument.location=a.attr("src"))}}),e(this).on("keydown",function(e){return 27===e.keyCode&&close_attach_to_post_window(),!0}),e("body").css({position:"static",visibility:"visible"}).animate({opacity:1}),e("#displayed_tab .ngg_igw_video_open").on("click",function(t){e("#displayed_tab .ngg_igw_video_inner").append('<iframe class="ngg_igw_video_iframe" width="1050" height="590" src="https://www.youtube.com/embed/mNEnY23i9DE?rel=0" frameborder="0" allowfullscreen></iframe>'),e("#displayed_tab .ngg_igw_video_inner").css("display","block"),e("#displayed_tab .ngg_igw_video_open").css("display","none")}),e("#displayed_tab .ngg_igw_video_close").on("click",function(t){e("#displayed_tab .ngg_igw_video_iframe").remove(),e("#displayed_tab .ngg_igw_video_inner").css("display","none"),e("#displayed_tab .ngg_igw_video_open").css("display","block")}),e(".ngg_page_content_menu a").on("click",function(t){"choose_display"==e(this).attr("data-id")?e("#displayed_tab .ngg_igw_video_open").css("display","block"):(e("#displayed_tab .ngg_igw_video_open").css("display","none"),e("#displayed_tab .ngg_igw_video_inner").css("display","none"))}),is_block_editor()){var t=parent.document.getElementById(window.name),i=new Event("NGG_Iframe_Ready");t.dispatchEvent(i)}});