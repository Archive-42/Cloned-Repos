<h1 id="input-components">Input Components</h1>
<p>An <code>Input</code> component displays an input, or a dropdown list, a list of radio buttons, etc. Such components allow to edit a record property, and are common in the <code>&lt;Edit&gt;</code>, <code>&lt;Create&gt;</code>, and <code>&lt;Filter&gt;</code> views.</p>
<pre class="jsx"><code>// in src/posts.js
import * as React from &quot;react&quot;;
import { Edit, SimpleForm, ReferenceInput, SelectInput, TextInput, required } from &#39;react-admin&#39;;

export const PostEdit = (props) =&gt; (
    &lt;Edit title={&lt;PostTitle /&gt;} {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;TextInput disabled source=&quot;id&quot; /&gt;
            &lt;ReferenceInput label=&quot;User&quot; source=&quot;userId&quot; reference=&quot;users&quot; validate={[required()]}&gt;
                &lt;SelectInput optionText=&quot;name&quot; /&gt;
            &lt;/ReferenceInput&gt;
            &lt;TextInput source=&quot;title&quot; label=&quot;Post title&quot; validate={[required()]} /&gt;
            &lt;TextInput multiline source=&quot;body&quot; initialValue=&quot;Lorem Ipsum&quot; /&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);</code></pre>
<h2 id="common-input-props">Common Input Props</h2>
<p>All input components accept the following props:</p>
<table>
<colgroup>
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 13%" />
<col style="width: 3%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>source</code></td>
<td>Required</td>
<td><code>string</code></td>
<td>-</td>
<td>Name of the entity property to use for the input value</td>
</tr>
<tr class="even">
<td><code>label</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>-</td>
<td>Input label. In i18n apps, the label is passed to the <code>translate</code> function. Defaults to the humanized <code>source</code> when omitted.</td>
</tr>
<tr class="odd">
<td><code>validate</code></td>
<td>Optional</td>
<td><code>Function</code> | <code>array</code></td>
<td>-</td>
<td>Validation rules for the current property. See the <a href="./CreateEdit.md#validation">Validation Documentation</a> for details.</td>
</tr>
<tr class="even">
<td><code>helperText</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>-</td>
<td>Text to be displayed under the input</td>
</tr>
<tr class="odd">
<td><code>fullWidth</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If <code>true</code>, the input will expand to fill the form width</td>
</tr>
<tr class="even">
<td><code>className</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>-</td>
<td>Class name (usually generated by JSS) to customize the look and feel of the field element itself</td>
</tr>
<tr class="odd">
<td><code>formClassName</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>-</td>
<td>Class name to be applied to the container of the input (e.g. the <code>&lt;div&gt;</code> forming each row in <code>&lt;SimpleForm&gt;</code>)</td>
</tr>
</tbody>
</table>
<pre class="jsx"><code>&lt;TextInput source=&quot;zb_title&quot; label=&quot;Title&quot; initialValue=&quot;Foo&quot; /&gt;</code></pre>
<p>React-admin uses <a href="https://final-form.org/docs/react-final-form/getting-started">react-final-form</a> to control form inputs. Each input component also accepts all react-final-form <a href="https://final-form.org/docs/react-final-form/types/FieldProps">FieldProps</a>, including:</p>
<table>
<colgroup>
<col style="width: 5%" />
<col style="width: 3%" />
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>initialValue</code></td>
<td>Optional</td>
<td><code>mixed</code></td>
<td>-</td>
<td>Value to be set when the property is <code>null</code> or <code>undefined</code></td>
</tr>
<tr class="even">
<td><code>format</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td>-</td>
<td>Callback taking the value from the form state and the name of the field, and returns the input value. See the <a href="./Inputs.md#transforming-input-value-tofrom-record">Transforming Input Value</a> section.</td>
</tr>
<tr class="odd">
<td><code>parse</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td>-</td>
<td>Callback taking the input value and name of the field, and returns the value you want stored in the form state. See the <a href="./Inputs.md#transforming-input-value-tofrom-record">Transforming Input Value</a> section.</td>
</tr>
</tbody>
</table>
<p>Additional props are passed down to the underlying component (usually a material-ui component). For instance, when setting the <code>className</code> prop on a <code>TextInput</code> component, the underlying material-ui <code>&lt;TextField&gt;</code> receives it, and renders with custom styles. You can also set the underlying component <code>variant</code> and <code>margin</code> that way.</p>
<p><strong>Tip</strong>: If you edit a record with a complex structure, you can use a path as the <code>source</code> parameter. For instance, if the API returns the following ‘book’ record:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1234</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;War and Peace&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="dt">&quot;author&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">        <span class="dt">&quot;firstName&quot;</span><span class="fu">:</span> <span class="st">&quot;Leo&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">        <span class="dt">&quot;lastName&quot;</span><span class="fu">:</span> <span class="st">&quot;Tolstoi&quot;</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="fu">}</span></a></code></pre></div>
<p>Then you can display a text input to edit the author first name as follows:</p>
<pre class="jsx"><code>&lt;TextInput source=&quot;author.firstName&quot; /&gt;</code></pre>
<p><strong>Tip</strong>: If your interface has to support multiple languages, don’t use the <code>label</code> prop, and put the localized labels in a dictionary instead. See the <a href="./Translation.md#translating-resource-and-field-names">Translation documentation</a> for details.</p>
<p><strong>Tip</strong>: For compatibility reasons, input components also accept the <code>defaultValue</code> prop - which is simply copied as the <code>initialValue</code> prop.</p>
<h2 id="basic-inputs">Basic Inputs</h2>
<h3 id="booleaninput-and-nullablebooleaninput"><code>&lt;BooleanInput&gt;</code> and <code>&lt;NullableBooleanInput&gt;</code></h3>
<p><code>&lt;BooleanInput /&gt;</code> is a toggle button allowing you to attribute a <code>true</code> or <code>false</code> value to a record field.</p>
<pre class="jsx"><code>import { BooleanInput } from &#39;react-admin&#39;;

&lt;BooleanInput label=&quot;Commentable&quot; source=&quot;commentable&quot; /&gt;</code></pre>
<figure>
<img src="./img/boolean-input.png" alt="BooleanInput" /><figcaption>BooleanInput</figcaption>
</figure>
<p>This input does not handle <code>null</code> values. You would need the <code>&lt;NullableBooleanInput /&gt;</code> component if you have to handle non-set booleans.</p>
<p>You can use the <code>options</code> prop to pass any option supported by the Material UI’s <code>Switch</code> components. For example, here’s how to set a custom checked icon:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>import { BooleanInput } from &#39;react-admin&#39;;
import FavoriteIcon from &#39;@material-ui/icons/Favorite&#39;;

&lt;BooleanInput
    source=&quot;favorite&quot;
    options={{
        checkedIcon: &lt;FavoriteIcon /&gt;,
    }}
/&gt;</code></pre>
<p>{% endraw %}</p>
<figure>
<img src="./img/custom-switch-icon.png" alt="CustomBooleanInputCheckIcon" /><figcaption>CustomBooleanInputCheckIcon</figcaption>
</figure>
<p>Refer to <a href="https://material-ui.com/api/switch">Material UI Switch documentation</a> for more details.</p>
<p><code>&lt;NullableBooleanInput /&gt;</code> renders as a dropdown list, allowing choosing between <code>true</code>, <code>false</code>, and <code>null</code> values.</p>
<h4 id="css-api">CSS API</h4>
<table>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>input</code></td>
<td>Applied to the underlying Material UI’s <code>TextField</code> component</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;NullableBooleanInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaNullableBooleanInput</code> key.</p>
<pre class="jsx"><code>import { NullableBooleanInput } from &#39;react-admin&#39;;

&lt;NullableBooleanInput label=&quot;Commentable&quot; source=&quot;commentable&quot; /&gt;</code></pre>
<figure>
<img src="./img/nullable-boolean-input.png" alt="NullableBooleanInput" /><figcaption>NullableBooleanInput</figcaption>
</figure>
<p>The labels of the options can be customized for the entire application by overriding the translation.</p>
<pre class="jsx"><code>import polyglotI18nProvider from &#39;ra-i18n-polyglot&#39;;
import englishMessages from &#39;ra-language-english&#39;;

englishMessages.ra.boolean.null = &#39;Null label&#39;;
englishMessages.ra.boolean.false = &#39;False label&#39;;
englishMessages.ra.boolean.true = &#39;True label&#39;;
const i18nProvider = polyglotI18nProvider(() =&gt; englishMessages, &#39;en&#39;);

&lt;Admin i18nProvider={i18nProvider}&gt;&lt;/Admin&gt;</code></pre>
<p>Additionally, individual instances of <code>NullableBooleanInput</code> may be customized by setting the <code>nullLabel</code>, <code>falseLabel</code> and <code>trueLabel</code> properties. Values specified for those properties will be translated by react-admin.</p>
<pre class="jsx"><code>import { NullableBooleanInput } from &#39;react-admin&#39;;

&lt;NullableBooleanInput
    label=&quot;Commentable&quot;
    source=&quot;commentable&quot;
    nullLabel=&quot;Either&quot;
    falseLabel=&quot;No&quot;
    trueLabel=&quot;Yes&quot;
/&gt;</code></pre>
<figure>
<img src="./img/nullable-boolean-input-null-label.png" alt="NullableBooleanInput" /><figcaption>NullableBooleanInput</figcaption>
</figure>
<p><code>&lt;BooleanInput&gt;</code> and <code>&lt;NullableBooleanInput&gt;</code> also accept the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h3 id="dateinput"><code>&lt;DateInput&gt;</code></h3>
<p>Ideal for editing dates, <code>&lt;DateInput&gt;</code> renders an HTML <code>&lt;input type="date"&gt;</code> element, that most browsers display as a standard <a href="https://material-ui.com/components/pickers/#date-pickers">Date Picker</a>. That means the appearance of <code>&lt;DateInput&gt;</code> depends on the browser, and falls back to a text input on Safari. The date formatting in this input depends on the user’s locale.</p>
<pre class="jsx"><code>import { DateInput } from &#39;react-admin&#39;;

&lt;DateInput source=&quot;published_at&quot; /&gt;</code></pre>
<figure>
<img src="./img/date-input.gif" alt="DateInput" /><figcaption>DateInput</figcaption>
</figure>
<p><code>&lt;DateInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<p><strong>Tip</strong>: For a material-ui styled <code>&lt;DateInput&gt;</code> component, check out <a href="https://github.com/vascofg/react-admin-date-inputs">vascofg/react-admin-date-inputs</a>.</p>
<h3 id="datetimeinput"><code>&lt;DateTimeInput&gt;</code></h3>
<p>An input for editing dates with time. <code>&lt;DateTimeInput&gt;</code> renders a standard browser <a href="https://material-ui.com/components/pickers/#date-amp-time-pickers">Date and Time Picker</a>, so the appearance depends on the browser (and falls back to a text input on safari).</p>
<pre class="jsx"><code>import { DateTimeInput } from &#39;react-admin&#39;;

&lt;DateTimeInput source=&quot;published_at&quot; /&gt;</code></pre>
<p><code>&lt;DateTimeInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<p><strong>Tip</strong>: For a material-ui styled <code>&lt;DateTimeInput&gt;</code> component, check out <a href="https://github.com/vascofg/react-admin-date-inputs">vascofg/react-admin-date-inputs</a>.</p>
<h3 id="imageinput"><code>&lt;ImageInput&gt;</code></h3>
<p><code>&lt;ImageInput&gt;</code> allows to upload some pictures using <a href="https://github.com/okonet/react-dropzone">react-dropzone</a>.</p>
<figure>
<img src="./img/image-input.png" alt="ImageInput" /><figcaption>ImageInput</figcaption>
</figure>
<h4 id="properties">Properties</h4>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 2%" />
<col style="width: 7%" />
<col style="width: 9%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>accept</code></td>
<td>Optional</td>
<td><code>string | string[]</code></td>
<td>-</td>
<td>Accepted file type(s), e. g. ’image/*,.pdf’. If left empty, all file types are accepted. Equivalent of the <code>accept</code> attribute of an <code>&lt;input type="file"&gt;</code>. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept for syntax and examples.</td>
</tr>
<tr class="even">
<td><code>children</code></td>
<td>Optional</td>
<td><code>ReactNode</code></td>
<td>-</td>
<td>Element used to display the preview of an image (cloned several times if the select accepts multiple files).</td>
</tr>
<tr class="odd">
<td><code>minSize</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td>0</td>
<td>Minimum image size (in bytes), e.g. 5000 form 5KB</td>
</tr>
<tr class="even">
<td><code>maxSize</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td><code>Infinity</code></td>
<td>Maximum image size (in bytes), e.g. 5000000 for 5MB</td>
</tr>
<tr class="odd">
<td><code>multiple</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Set to true if the input should accept a list of images, false if it should only accept one image</td>
</tr>
<tr class="even">
<td><code>labelSingle</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>‘ra.input.image. upload_single’</td>
<td>Invite displayed in the drop zone if the input accepts one image</td>
</tr>
<tr class="odd">
<td><code>labelMultiple</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>‘ra.input.file. upload_multiple’</td>
<td>Invite displayed in the drop zone if the input accepts several images</td>
</tr>
<tr class="even">
<td><code>placeholder</code></td>
<td>Optional</td>
<td><code>string</code> | <code>ReactNode</code></td>
<td>-</td>
<td>Invite displayed in the drop zone, overrides <code>labelSingle</code> and <code>labelMultiple</code></td>
</tr>
<tr class="odd">
<td><code>options</code></td>
<td>Optional</td>
<td><code>Object</code></td>
<td><code>{}</code></td>
<td>Additional options passed to react-dropzone’s <code>useDropzone()</code> hook. See <a href="https://github.com/react-dropzone/react-dropzone/blob/master/src/index.js">the react-dropzone source</a> for details .</td>
</tr>
</tbody>
</table>
<p><code>&lt;ImageInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-1">CSS API</h4>
<table>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>root</code></td>
<td>Styles pass to the underlying <code>FileInput</code> component</td>
</tr>
<tr class="even">
<td><code>dropZone</code></td>
<td>Styles pass to the underlying <code>FileInput</code> component</td>
</tr>
<tr class="odd">
<td><code>preview</code></td>
<td>Styles pass to the underlying <code>FileInput</code> component</td>
</tr>
<tr class="even">
<td><code>removeButton</code></td>
<td>Styles pass to the underlying <code>FileInput</code> component</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;ImageInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaImageInput</code> key.</p>
<h4 id="usage">Usage</h4>
<p>Files are accepted or rejected based on the <code>accept</code>, <code>multiple</code>, <code>minSize</code> and <code>maxSize</code> props. <code>accept</code> must be a valid <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">MIME type</a> according to <a href="https://www.w3.org/wiki/HTML/Elements/input/file">input element specification</a> or a valid file extension. If <code>multiple</code> is set to false and additional files are dropped, all files besides the first will be rejected. Any file which does not have a size in the [<code>minSize</code>, <code>maxSize</code>] range, will be rejected as well.</p>
<p><code>&lt;ImageInput&gt;</code> delegates the preview of currently selected images to its child. <code>&lt;ImageInput&gt;</code> clones its child as many times as there are selected images, passing the image as the <code>record</code> prop. To preview a simple list of image thumbnails, you can use <code>&lt;ImageField&gt;</code> as child, as follows:</p>
<pre class="jsx"><code>&lt;ImageInput source=&quot;pictures&quot; label=&quot;Related pictures&quot; accept=&quot;image/*&quot;&gt;
    &lt;ImageField source=&quot;src&quot; title=&quot;title&quot; /&gt;
&lt;/ImageInput&gt;</code></pre>
<p>Writing a custom preview component is quite straightforward: it’s a standard <a href="./Fields.md#writing-your-own-field-component">field</a>.</p>
<p>When receiving <strong>new</strong> images, <code>ImageInput</code> will add a <code>rawFile</code> property to the object passed as the <code>record</code> prop of children. This <code>rawFile</code> is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/File">File</a> instance of the newly added file. This can be useful to display information about size or mimetype inside a custom field.</p>
<p>The <code>ImageInput</code> component accepts an <code>options</code> prop, allowing to set the <a href="https://react-dropzone.netlify.com/#proptypes">react-dropzone properties</a>.</p>
<p>If the default Dropzone label doesn’t fit with your need, you can pass a <code>placeholder</code> prop to overwrite it. The value can be anything React can render (<code>PropTypes.node</code>):</p>
<pre class="jsx"><code>&lt;ImageInput source=&quot;pictures&quot; label=&quot;Related pictures&quot; accept=&quot;image/*&quot; placeholder={&lt;p&gt;Drop your file here&lt;/p&gt;}&gt;
    &lt;ImageField source=&quot;src&quot; title=&quot;title&quot; /&gt;
&lt;/ImageInput&gt;</code></pre>
<p>Note that the image upload returns a <a href="https://developer.mozilla.org/en/docs/Web/API/File">File</a> object. It is your responsibility to handle it depending on your API behavior. You can for instance encode it in base64, or send it as a multi-part form data. Check <a href="./DataProviders.md#extending-a-data-provider-example-of-file-upload">this example</a> for base64 encoding data by extending the REST Client.</p>
<h3 id="fileinput"><code>&lt;FileInput&gt;</code></h3>
<p><code>&lt;FileInput&gt;</code> allows uploading files using <a href="https://github.com/okonet/react-dropzone">react-dropzone</a>.</p>
<figure>
<img src="./img/file-input.png" alt="FileInput" /><figcaption>FileInput</figcaption>
</figure>
<h4 id="properties-1">Properties</h4>
<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 1%" />
<col style="width: 4%" />
<col style="width: 7%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>accept</code></td>
<td>Optional</td>
<td><code>string | string[]</code></td>
<td>-</td>
<td>Accepted file type(s), e. g. ’application/json,video/*’ or ‘application/vnd.openxmlformats-officedocument.spreadsheetml.sheet’. If left empty, all file types are accepted. Equivalent of the <code>accept</code> attribute of an <code>&lt;input type="file"&gt;</code>. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept for syntax and examples.</td>
</tr>
<tr class="even">
<td><code>children</code></td>
<td>Optional</td>
<td><code>ReactNode</code></td>
<td>-</td>
<td>Element used to display the preview of a file (cloned several times if the select accepts multiple files).</td>
</tr>
<tr class="odd">
<td><code>minSize</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td>0</td>
<td>Minimum file size (in bytes), e.g. 5000 form 5KB</td>
</tr>
<tr class="even">
<td><code>maxSize</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td><code>Infinity</code></td>
<td>Maximum file size (in bytes), e.g. 5000000 for 5MB</td>
</tr>
<tr class="odd">
<td><code>multiple</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Set to true if the input should accept a list of files, false if it should only accept one file</td>
</tr>
<tr class="even">
<td><code>labelSingle</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>‘ra.input.file. upload_single’</td>
<td>Invite displayed in the drop zone if the input accepts one file</td>
</tr>
<tr class="odd">
<td><code>labelMultiple</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>‘ra.input.file. upload_several’</td>
<td>Invite displayed in the drop zone if the input accepts several files</td>
</tr>
<tr class="even">
<td><code>placeholder</code></td>
<td>Optional</td>
<td><code>string | ReactNode</code></td>
<td>-</td>
<td>Invite displayed in the drop zone, overrides <code>labelSingle</code> and <code>labelMultiple</code></td>
</tr>
<tr class="odd">
<td><code>options</code></td>
<td>Optional</td>
<td><code>Object</code></td>
<td><code>{}</code></td>
<td>Additional options passed to react-dropzone’s <code>useDropzone()</code> hook. See <a href="https://github.com/react-dropzone/react-dropzone/blob/master/src/index.js">the react-dropzone source</a> for details .</td>
</tr>
</tbody>
</table>
<p><code>&lt;FileInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-2">CSS API</h4>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>root</code></td>
<td>Applied to the underlying <code>Labeled</code> component</td>
</tr>
<tr class="even">
<td><code>dropZone</code></td>
<td>Applied to the main container of the component</td>
</tr>
<tr class="odd">
<td><code>preview</code></td>
<td>Applied to each children</td>
</tr>
<tr class="even">
<td><code>removeButton</code></td>
<td>Applied to each of the Material UI’s <code>IconButton</code> component used as remove button</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;FileInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaFileInput</code> key.</p>
<h4 id="usage-1">Usage</h4>
<p>Files are accepted or rejected based on the <code>accept</code>, <code>multiple</code>, <code>minSize</code> and <code>maxSize</code> props. <code>accept</code> must be a valid <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">MIME type</a> according to <a href="https://www.w3.org/wiki/HTML/Elements/input/file">input element specification</a> or a valid file extension. If <code>multiple</code> is set to false and additional files are dropped, all files besides the first will be rejected. Any file which does not have a size in the [<code>minSize</code>, <code>maxSize</code>] range, will be rejected as well.</p>
<p><code>FileInput</code> delegates the preview of currently selected files to its child. <code>FileInput</code> clones its child as many times as there are selected files, passing the file as the <code>record</code> prop. To preview a simple list of files names, you can use <code>&lt;FileField&gt;</code> as child, as follows:</p>
<pre class="jsx"><code>&lt;FileInput source=&quot;files&quot; label=&quot;Related files&quot; accept=&quot;application/pdf&quot;&gt;
    &lt;FileField source=&quot;src&quot; title=&quot;title&quot; /&gt;
&lt;/FileInput&gt;</code></pre>
<p>Writing a custom preview component is quite straightforward: it’s a standard <a href="./Fields.md#writing-your-own-field-component">field</a>.</p>
<p>When receiving <strong>new</strong> files, <code>FileInput</code> will add a <code>rawFile</code> property to the object passed as the <code>record</code> prop of children. This <code>rawFile</code> is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/File">File</a> instance of the newly added file. This can be useful to display information about size or mimetype inside a custom field.</p>
<p>The <code>FileInput</code> component accepts an <code>options</code> prop into which you can pass all the <a href="https://react-dropzone.netlify.com/#proptypes">react-dropzone properties</a>.</p>
<p>If the default Dropzone label doesn’t fit with your need, you can pass a <code>placeholder</code> prop to overwrite it. The value can be anything React can render (<code>PropTypes.node</code>):</p>
<pre class="jsx"><code>&lt;FileInput source=&quot;files&quot; label=&quot;Related files&quot; accept=&quot;application/pdf&quot; placeholder={&lt;p&gt;Drop your file here&lt;/p&gt;}&gt;
    &lt;ImageField source=&quot;src&quot; title=&quot;title&quot; /&gt;
&lt;/FileInput&gt;</code></pre>
<p>Note that the file upload returns a <a href="https://developer.mozilla.org/en/docs/Web/API/File">File</a> object. It is your responsibility to handle it depending on your API behavior. You can for instance encode it in base64, or send it as a multi-part form data. Check <a href="./DataProviders.md#extending-a-data-provider-example-of-file-upload">this example</a> for base64 encoding data by extending the REST Client.</p>
<h3 id="markdowninput"><code>&lt;MarkdownInput&gt;</code></h3>
<p>This <a href="https://marmelab.com/ra-enterprise">Enterprise Edition</a><img class="icon" src="./img/premium.svg" /> component allows to edit and preview Markdown data, based on <a href="https://nhn.github.io/tui.editor/latest/ToastUIEditor">the Toast UI editor</a>.</p>
<pre class="jsx"><code>import { Edit, SimpleForm, TextInput } from &#39;react-admin&#39;;
import { MarkdownInput } from &#39;@react-admin/ra-markdown&#39;;

const PostEdit = props =&gt; (
    &lt;Edit {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;TextInput source=&quot;title&quot; /&gt;
            &lt;MarkdownInput source=&quot;description&quot; /&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);</code></pre>
<p>Check <a href="https://marmelab.com/ra-enterprise/modules/ra-markdown">the <code>ra-markdown</code> documentation</a> for more details.</p>
<h3 id="numberinput"><code>&lt;NumberInput&gt;</code></h3>
<p><code>&lt;NumberInput&gt;</code> translates to an HTML <code>&lt;input type="number"&gt;</code>. It is necessary for numeric values because of a <a href="https://github.com/facebook/react/issues/1425">known React bug</a>, which prevents using the more generic <a href="#textinput"><code>&lt;TextInput&gt;</code></a> in that case.</p>
<pre class="jsx"><code>import { NumberInput } from &#39;react-admin&#39;;

&lt;NumberInput source=&quot;nb_views&quot; /&gt;</code></pre>
<h4 id="properties-2">Properties</h4>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 5%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>max</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td>’’</td>
<td>The maximum value to accept for this input</td>
</tr>
<tr class="even">
<td><code>min</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td>’’</td>
<td>The minimum value to accept for this input</td>
</tr>
<tr class="odd">
<td><code>step</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td><code>any</code></td>
<td>A stepping interval to use when using up and down arrows to adjust the value, as well as for validation</td>
</tr>
</tbody>
</table>
<p><code>&lt;NumberInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="usage-2">Usage</h4>
<p>You can customize the <code>step</code> props (which defaults to “any”). For instance, to restrict the value to integers, ise a value of 1 for the <code>step</code>:</p>
<pre class="jsx"><code>&lt;NumberInput source=&quot;nb_views&quot; step={1} /&gt;</code></pre>
<h3 id="passwordinput"><code>&lt;PasswordInput&gt;</code></h3>
<p><code>&lt;PasswordInput&gt;</code> works like the <a href="#textinput"><code>&lt;TextInput&gt;</code></a> but overwrites its <code>type</code> prop to <code>password</code> or <code>text</code> in accordance with a visibility button, hidden by default.</p>
<pre class="jsx"><code>import { PasswordInput } from &#39;react-admin&#39;;
&lt;PasswordInput source=&quot;password&quot; /&gt;</code></pre>
<figure>
<img src="./img/password-input.png" alt="Password Input" /><figcaption>Password Input</figcaption>
</figure>
<p>It is possible to change the default behavior and display the value by default via the <code>initiallyVisible</code> prop:</p>
<pre class="jsx"><code>import { PasswordInput } from &#39;react-admin&#39;;
&lt;PasswordInput source=&quot;password&quot; initiallyVisible /&gt;</code></pre>
<figure>
<img src="./img/password-input-visible.png" alt="Password Input (visible)" /><figcaption>Password Input (visible)</figcaption>
</figure>
<p><strong>Tip</strong>: It is possible to set the <a href="https://developer.mozilla.org/fr/docs/Web/HTML/Attributs/autocomplete"><code>autocomplete</code> attribute</a> by injecting an input props:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;PasswordInput source=&quot;password&quot; inputProps={{ autocomplete: &#39;current-password&#39; }} /&gt;</code></pre>
<p>{% endraw %}</p>
<h3 id="richtextinput"><code>&lt;RichTextInput&gt;</code></h3>
<p><code>&lt;RichTextInput&gt;</code> is the ideal component if you want to allow your users to edit some HTML contents. It is powered by <a href="https://quilljs.com/">Quill</a>.</p>
<p><strong>Note</strong>: Due to its size, <code>&lt;RichTextInput&gt;</code> is not bundled by default with react-admin. You must install it first, using npm:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" title="1"><span class="ex">npm</span> install ra-input-rich-text</a></code></pre></div>
<p>Then use it as a normal input component:</p>
<pre class="jsx"><code>import RichTextInput from &#39;ra-input-rich-text&#39;;

&lt;RichTextInput source=&quot;body&quot; /&gt;</code></pre>
<figure>
<img src="./img/rich-text-input.png" alt="RichTextInput" /><figcaption>RichTextInput</figcaption>
</figure>
<p>You can customize the rich text editor toolbar using the <code>toolbar</code> attribute, as described on the <a href="https://quilljs.com/docs/modules/toolbar/">Quill official toolbar documentation</a>.</p>
<pre class="jsx"><code>&lt;RichTextInput source=&quot;body&quot; toolbar={[ [&#39;bold&#39;, &#39;italic&#39;, &#39;underline&#39;, &#39;link&#39;] ]} /&gt;</code></pre>
<p>If you need to add Quill <code>modules</code> or <code>themes</code>, you can do so by passing them in the <code>options</code> prop.</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;RichTextInput
    source=&quot;body&quot;
    options={{
        modules: {
            history: { // History module
                delay: 2000,
                maxStack: 500,
                userOnly: true
            }
        },
        theme: &quot;snow&quot;
    }}
/&gt;</code></pre>
<p>{% endraw %}</p>
<p>If you need more customization, you can access the quill object through the <code>configureQuill</code> callback that will be called just after its initialization.</p>
<pre class="jsx"><code>const configureQuill = quill =&gt; quill.getModule(&#39;toolbar&#39;).addHandler(&#39;bold&#39;, function (value) {
    this.quill.format(&#39;bold&#39;, value)
});

// ...

&lt;RichTextInput source=&quot;text&quot; configureQuill={configureQuill}/&gt;</code></pre>
<p><code>&lt;RichTextInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h3 id="textinput"><code>&lt;TextInput&gt;</code></h3>
<p><code>&lt;TextInput&gt;</code> is the most common input. It is used for texts, emails, URL or passwords. In translates to an HTML <code>&lt;input&gt;</code> tag.</p>
<pre class="jsx"><code>import { TextInput } from &#39;react-admin&#39;;

&lt;TextInput source=&quot;title&quot; /&gt;</code></pre>
<figure>
<img src="./img/text-input.png" alt="TextInput" /><figcaption>TextInput</figcaption>
</figure>
<h4 id="properties-3">Properties</h4>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 7%" />
<col style="width: 8%" />
<col style="width: 6%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>resettable</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If <code>true</code>, display a button to reset the changes in this input value</td>
</tr>
<tr class="even">
<td><code>type</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>text</code></td>
<td>Type attribute passed to the <code>&lt;input&gt;</code> element</td>
</tr>
</tbody>
</table>
<p><code>&lt;TextInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="usage-3">Usage</h4>
<p>You can choose a specific input type using the <code>type</code> attribute, for instance <code>text</code> (the default), <code>email</code>, <code>url</code>, or <code>password</code>:</p>
<pre class="jsx"><code>&lt;TextInput label=&quot;Email Address&quot; source=&quot;email&quot; type=&quot;email&quot; /&gt;</code></pre>
<p>You can make the <code>TextInput</code> expandable using the <code>multiline</code> prop for multiline text values. It renders as an auto expandable textarea.</p>
<pre class="jsx"><code>&lt;TextInput multiline source=&quot;body&quot; /&gt;</code></pre>
<p>You can make the <code>TextInput</code> component resettable using the <code>resettable</code> prop. This will add a reset button which will be displayed only when the field has a value and is focused.</p>
<pre class="jsx"><code>import { TextInput } from &#39;react-admin&#39;;

&lt;TextInput source=&quot;title&quot; resettable /&gt;</code></pre>
<figure>
<img src="./img/resettable-text-input.png" alt="resettable TextInput" /><figcaption>resettable TextInput</figcaption>
</figure>
<p><strong>Warning</strong>: Do not use <code>type="number"</code>, or you’ll receive a string as value (this is a <a href="https://github.com/facebook/react/issues/1425">known React bug</a>). Instead, use <a href="#numberinput"><code>&lt;NumberInput&gt;</code></a>.</p>
<h2 id="choice-inputs">Choice Inputs</h2>
<h3 id="autocompleteinput"><code>&lt;AutocompleteInput&gt;</code></h3>
<p>To let users choose a value in a list using a dropdown with autocompletion, use <code>&lt;AutocompleteInput&gt;</code>. It renders using <a href="https://github.com/downshift-js/downshift">downshift</a> and a <code>fuzzySearch</code> filter. Set the <code>choices</code> attribute to determine the options list (with <code>id</code>, <code>name</code> tuples).</p>
<pre class="jsx"><code>import { AutocompleteInput } from &#39;react-admin&#39;;

&lt;AutocompleteInput source=&quot;category&quot; choices={[
    { id: &#39;programming&#39;, name: &#39;Programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;Lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;Photography&#39; },
]} /&gt;</code></pre>
<h4 id="properties-4">Properties</h4>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 8%" />
<col style="width: 14%" />
<col style="width: 12%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>allowEmpty</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If <code>false</code> and the <code>searchText</code> typed did not match any suggestion, the <code>searchText</code> will revert to the current value when the field is blurred. If <code>true</code> and the <code>searchText</code> is set to <code>''</code> then the field will set the input value to <code>null</code>.</td>
</tr>
<tr class="even">
<td><code>clearAlwaysVisible</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>When <code>resettable</code> is true, set this prop to <code>true</code> to have the Reset button visible even when the field is empty</td>
</tr>
<tr class="odd">
<td><code>choices</code></td>
<td>Required</td>
<td><code>Object[]</code></td>
<td><code>-</code></td>
<td>List of items to autosuggest</td>
</tr>
<tr class="even">
<td><code>emptyValue</code></td>
<td>Optional</td>
<td><code>any</code></td>
<td><code>''</code></td>
<td>The value to use for the empty element</td>
</tr>
<tr class="odd">
<td><code>emptyText</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>''</code></td>
<td>The text to use for the empty element</td>
</tr>
<tr class="even">
<td><code>matchSuggestion</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td><code>-</code></td>
<td>Required if <code>optionText</code> is a React element. Function returning a boolean indicating whether a choice matches the filter. <code>(filter, choice) =&gt; boolean</code></td>
</tr>
<tr class="odd">
<td><code>optionText</code></td>
<td>Optional</td>
<td><code>string</code> | <code>Function</code> | <code>Component</code></td>
<td><code>name</code></td>
<td>Field name of record to display in the suggestion item or function which accepts the correct record as argument (<code>(record)=&gt; {string}</code>)</td>
</tr>
<tr class="even">
<td><code>optionValue</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>id</code></td>
<td>Field name of record containing the value to use as input value</td>
</tr>
<tr class="odd">
<td><code>inputText</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td><code>-</code></td>
<td>If <code>optionText</code> is a custom Component, this function is needed to determine the text displayed for the current selection.</td>
</tr>
<tr class="even">
<td><code>resettable</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Display a button to reset the text filter. Useful when using <code>&lt;AutocompleteInput&gt;</code> inside <code>&lt;Filter&gt;</code></td>
</tr>
<tr class="odd">
<td><code>setFilter</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td><code>null</code></td>
<td>A callback to inform the <code>searchText</code> has changed and new <code>choices</code> can be retrieved based on this <code>searchText</code>. Signature <code>searchText =&gt; void</code>. This function is automatically setup when using <code>ReferenceInput</code>.</td>
</tr>
<tr class="even">
<td><code>shouldRenderSuggestions</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td><code>() =&gt; true</code></td>
<td>A function that returns a <code>boolean</code> to determine whether or not suggestions are rendered. Use this when working with large collections of data to improve performance and user experience. This function is passed into the underlying react-autosuggest component. Ex.<code>(value) =&gt; value.trim() &gt; 2</code></td>
</tr>
<tr class="odd">
<td><code>suggestionLimit</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td><code>null</code></td>
<td>Limits the numbers of suggestions that are shown in the dropdown list</td>
</tr>
</tbody>
</table>
<p><code>&lt;AutocompleteInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-3">CSS API</h4>
<table>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>container</code></td>
<td>Applied to the root element</td>
</tr>
<tr class="even">
<td><code>suggestionsContainer</code></td>
<td>Applied to the suggestions container</td>
</tr>
</tbody>
</table>
<p>The suggestions container has a <code>z-index</code> of 2. When using <code>&lt;AutocompleteInput&gt;</code> in a <code>&lt;Dialog&gt;</code>, this will cause suggestions to appear beneath the Dialog. The solution is to override the <code>suggestionsContainer</code> class name, as follows:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode diff"><code class="sourceCode diff"><a class="sourceLine" id="cb32-1" title="1">import { AutocompleteInput } from &#39;react-admin&#39;;</a>
<a class="sourceLine" id="cb32-2" title="2"><span class="st">-import { Dialog } from &#39;@material-ui/core&#39;;</span></a>
<a class="sourceLine" id="cb32-3" title="3"><span class="va">+import { Dialog, withStyles } from &#39;@material-ui/core&#39;;</span></a>
<a class="sourceLine" id="cb32-4" title="4"></a>
<a class="sourceLine" id="cb32-5" title="5"><span class="va">+const AutocompleteInputInDialog = withStyles({</span></a>
<a class="sourceLine" id="cb32-6" title="6"><span class="va">+    suggestionsContainer: { zIndex: 2000 },</span></a>
<a class="sourceLine" id="cb32-7" title="7"><span class="va">+})(AutocompleteInput);</span></a>
<a class="sourceLine" id="cb32-8" title="8"></a>
<a class="sourceLine" id="cb32-9" title="9">const EditForm = () =&gt; (</a>
<a class="sourceLine" id="cb32-10" title="10">    &lt;Dialog open&gt;</a>
<a class="sourceLine" id="cb32-11" title="11">        ...</a>
<a class="sourceLine" id="cb32-12" title="12"><span class="st">-       &lt;AutocompleteInput source=&quot;foo&quot; choices={[...]}&gt;</span></a>
<a class="sourceLine" id="cb32-13" title="13"><span class="va">+       &lt;AutocompleteInputInDialog source=&quot;foo&quot; choices={[...]}&gt;</span></a>
<a class="sourceLine" id="cb32-14" title="14">    &lt;/Dialog&gt;</a>
<a class="sourceLine" id="cb32-15" title="15">)</a></code></pre></div>
<p>To override the style of all instances of <code>&lt;AutocompleteInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaAutocompleteInput</code> key.</p>
<h4 id="usage-4">Usage</h4>
<p>You can customize the properties to use for the option name and value, thanks to the <code>optionText</code> and <code>optionValue</code> attributes:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
];
&lt;AutocompleteInput source=&quot;author_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p><code>optionText</code> also accepts a function, so you can shape the option text at will:</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const optionRenderer = choice =&gt; `${choice.first_name} ${choice.last_name}`;
&lt;AutocompleteInput source=&quot;author_id&quot; choices={choices} optionText={optionRenderer} /&gt;</code></pre>
<p><code>optionText</code> also accepts a custom Component. However, as the underlying Autocomplete component requires that the current selection is a string, if you opt for a Component, you must pass a function as the <code>inputText</code> prop. This function should return text representation of the current selection:</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39;, avatar:&#39;/pengouin&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39;, avatar:&#39;/panda&#39; },
];
const OptionRenderer = choice =&gt; (
    &lt;span&gt;
        &lt;img src={choice.avatar} /&gt;
        {choice.first_name} {choice.last_name}
    &lt;/span&gt;
);
const inputText = choice =&gt; `${choice.first_name} ${choice.last_name}`;
&lt;AutocompleteInput
    source=&quot;author_id&quot;
    choices={choices}
    optionText={&lt;OptionRenderer /&gt;}
    inputText={inputText}
/&gt;</code></pre>
<p>The choices are translated by default, so you can use translation identifiers as choices:</p>
<pre class="jsx"><code>const choices = [
   { id: &#39;M&#39;, name: &#39;myroot.gender.male&#39; },
   { id: &#39;F&#39;, name: &#39;myroot.gender.female&#39; },
];</code></pre>
<p>However, in some cases (e.g. inside a <code>&lt;ReferenceInput&gt;</code>), you may not want the choice to be translated. In that case, set the <code>translateChoice</code> prop to <code>false</code>.</p>
<pre class="jsx"><code>&lt;AutocompleteInput source=&quot;gender&quot; choices={choices} translateChoice={false}/&gt;</code></pre>
<p>If you want to limit the initial choices shown to the current value only, you can set the <code>limitChoicesToValue</code> prop.</p>
<p>When dealing with a large amount of <code>choices</code> you may need to limit the number of suggestions that are rendered in order to maintain usable performance. The <code>shouldRenderSuggestions</code> is an optional prop that allows you to set conditions on when to render suggestions. An easy way to improve performance would be to skip rendering until the user has entered 2 or 3 characters in the search box. This lowers the result set significantly, and might be all you need (depending on your data set). Ex. <code>&lt;AutocompleteInput shouldRenderSuggestions={(val) =&gt; { return val.trim().length &gt; 2 }} /&gt;</code> would not render any suggestions until the 3rd character has been entered. This prop is passed to the underlying <code>react-autosuggest</code> component and is documented <a href="https://github.com/moroshko/react-autosuggest#should-render-suggestions-prop">here</a>.</p>
<p><code>&lt;AutocompleteInput&gt;</code> renders a <a href="https://material-ui.com/api/text-field/">material-ui <code>&lt;TextField&gt;</code> component</a>. Use the <code>options</code> attribute to override any of the <code>&lt;TextField&gt;</code> attributes:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;AutocompleteInput source=&quot;category&quot; options={{
    color: &#39;secondary&#39;,
}} /&gt;</code></pre>
<p>{% endraw %}</p>
<p><strong>Tip</strong>: If you want to populate the <code>choices</code> attribute with a list of related records, you should decorate <code>&lt;AutocompleteInput&gt;</code> with <a href="#referenceinput"><code>&lt;ReferenceInput&gt;</code></a>, and leave the <code>choices</code> empty:</p>
<pre class="jsx"><code>import { AutocompleteInput, ReferenceInput } from &#39;react-admin&#39;;

&lt;ReferenceInput label=&quot;Post&quot; source=&quot;post_id&quot; reference=&quot;posts&quot;&gt;
    &lt;AutocompleteInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<p>Lastly, would you need to override the props of the suggestion’s container (a <code>Popper</code> element), you can specify them using the <code>options.suggestionsContainerProps</code>. For example:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;AutocompleteInput source=&quot;category&quot; options={{
    suggestionsContainerProps: {
        disablePortal: true,
}}} /&gt;</code></pre>
<p>{% endraw %}</p>
<p><strong>Tip</strong>: <code>&lt;AutocompleteInput&gt;</code> is a stateless component, so it only allows to <em>filter</em> the list of choices, not to <em>extend</em> it. If you need to populate the list of choices based on the result from a <code>fetch</code> call (and if <a href="#referenceinput"><code>&lt;ReferenceInput&gt;</code></a> doesn’t cover your need), you’ll have to <a href="#writing-your-own-input-component">write your own Input component</a> based on material-ui <code>&lt;AutoComplete&gt;</code> component.</p>
<h3 id="radiobuttongroupinput"><code>&lt;RadioButtonGroupInput&gt;</code></h3>
<p>If you want to let the user choose a value among a list of possible values that are always shown (instead of hiding them behind a dropdown list, as in <a href="#selectinput"><code>&lt;SelectInput&gt;</code></a>), <code>&lt;RadioButtonGroupInput&gt;</code> is the right component. Set the <code>choices</code> attribute to determine the options (with <code>id</code>, <code>name</code> tuples):</p>
<pre class="jsx"><code>import { RadioButtonGroupInput } from &#39;react-admin&#39;;

&lt;RadioButtonGroupInput source=&quot;category&quot; choices={[
    { id: &#39;programming&#39;, name: &#39;Programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;Lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;Photography&#39; },
]} /&gt;</code></pre>
<figure>
<img src="./img/radio-button-group-input.png" alt="RadioButtonGroupInput" /><figcaption>RadioButtonGroupInput</figcaption>
</figure>
<h4 id="properties-5">Properties</h4>
<table>
<colgroup>
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 13%" />
<col style="width: 3%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>choices</code></td>
<td>Required</td>
<td><code>Object[]</code></td>
<td>-</td>
<td>List of items to show as options</td>
</tr>
<tr class="even">
<td><code>options</code></td>
<td>Optional</td>
<td><code>Object</code></td>
<td>-</td>
<td>Props to pass to the underlying <code>&lt;RadioButtonGroup&gt;</code> element</td>
</tr>
<tr class="odd">
<td><code>optionText</code></td>
<td>Optional</td>
<td><code>string</code> | <code>Function</code></td>
<td><code>name</code></td>
<td>Field name of record to display in the suggestion item or function which accepts the current record as argument (<code>record =&gt; {string}</code>)</td>
</tr>
<tr class="even">
<td><code>optionValue</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>id</code></td>
<td>Field name of record containing the value to use as input value</td>
</tr>
<tr class="odd">
<td><code>row</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Display options in a compact row.</td>
</tr>
<tr class="even">
<td><code>translateChoice</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Whether the choices should be translated</td>
</tr>
</tbody>
</table>
<p><code>&lt;RadioButtonGroupInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-4">CSS API</h4>
<table>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>label</code></td>
<td>Applied to the underlying Material UI’s <code>FormLabel</code> component</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;RadioButtonGroupInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaRadioButtonGroupInput</code> key.</p>
<h4 id="usage-5">Usage</h4>
<p>You can customize the properties to use for the option name and value, thanks to the <code>optionText</code> and <code>optionValue</code> attributes:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
];
&lt;RadioButtonGroupInput source=&quot;author_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p><code>optionText</code> also accepts a function, so you can shape the option text at will:</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const optionRenderer = choice =&gt; `${choice.first_name} ${choice.last_name}`;
&lt;RadioButtonGroupInput source=&quot;author_id&quot; choices={choices} optionText={optionRenderer} /&gt;</code></pre>
<p><code>optionText</code> also accepts a React Element, that will be cloned and receive the related choice as the <code>record</code> prop. You can use Field components there.</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const FullNameField = ({ record }) =&gt; &lt;span&gt;{record.first_name} {record.last_name}&lt;/span&gt;;
&lt;RadioButtonGroupInput source=&quot;gender&quot; choices={choices} optionText={&lt;FullNameField /&gt;}/&gt;</code></pre>
<p>The choices are translated by default, so you can use translation identifiers as choices:</p>
<pre class="jsx"><code>const choices = [
   { id: &#39;M&#39;, name: &#39;myroot.gender.male&#39; },
   { id: &#39;F&#39;, name: &#39;myroot.gender.female&#39; },
];</code></pre>
<p>However, in some cases (e.g. inside a <code>&lt;ReferenceInput&gt;</code>), you may not want the choice to be translated. In that case, set the <code>translateChoice</code> prop to <code>false</code>.</p>
<pre class="jsx"><code>&lt;RadioButtonGroupInput source=&quot;gender&quot; choices={choices} translateChoice={false}/&gt;</code></pre>
<p>Lastly, use the <code>options</code> attribute if you want to override any of Material UI’s <code>&lt;RadioButtonGroup&gt;</code> attributes:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;RadioButtonGroupInput source=&quot;category&quot; options={{
    labelPosition: &#39;right&#39;
}} /&gt;</code></pre>
<p>{% endraw %}</p>
<p>Refer to <a href="https://material-ui.com/api/radio-group">Material UI RadioGroup documentation</a> for more details.</p>
<p><strong>Tip</strong>: If you want to populate the <code>choices</code> attribute with a list of related records, you should decorate <code>&lt;RadioButtonGroupInput&gt;</code> with <a href="#referenceinput"><code>&lt;ReferenceInput&gt;</code></a>, and leave the <code>choices</code> empty:</p>
<pre class="jsx"><code>import { RadioButtonGroupInput, ReferenceInput } from &#39;react-admin&#39;;

&lt;ReferenceInput label=&quot;Author&quot; source=&quot;author_id&quot; reference=&quot;authors&quot;&gt;
    &lt;RadioButtonGroupInput optionText=&quot;last_name&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<h3 id="selectinput"><code>&lt;SelectInput&gt;</code></h3>
<p>To let users choose a value in a list using a dropdown, use <code>&lt;SelectInput&gt;</code>. It renders using <a href="https://material-ui.com/api/select">Material ui’s <code>&lt;Select&gt;</code></a>. Set the <code>choices</code> attribute to determine the options (with <code>id</code>, <code>name</code> tuples):</p>
<pre class="jsx"><code>import { SelectInput } from &#39;react-admin&#39;;

&lt;SelectInput source=&quot;category&quot; choices={[
    { id: &#39;programming&#39;, name: &#39;Programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;Lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;Photography&#39; },
]} /&gt;</code></pre>
<figure>
<img src="./img/select-input.gif" alt="SelectInput" /><figcaption>SelectInput</figcaption>
</figure>
<h4 id="properties-6">Properties</h4>
<table>
<colgroup>
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 13%" />
<col style="width: 3%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>allowEmpty</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If true, the first option is an empty one</td>
</tr>
<tr class="even">
<td><code>choices</code></td>
<td>Required</td>
<td><code>Object[]</code></td>
<td>-</td>
<td>List of items to show as options</td>
</tr>
<tr class="odd">
<td><code>emptyText</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td>’’</td>
<td>The text to display for the empty option</td>
</tr>
<tr class="even">
<td><code>options</code></td>
<td>Optional</td>
<td><code>Object</code></td>
<td>-</td>
<td>Props to pass to the underlying <code>&lt;SelectInput&gt;</code> element</td>
</tr>
<tr class="odd">
<td><code>optionText</code></td>
<td>Optional</td>
<td><code>string</code> | <code>Function</code></td>
<td><code>name</code></td>
<td>Field name of record to display in the suggestion item or function which accepts the current record as argument (<code>record =&gt; {string}</code>)</td>
</tr>
<tr class="even">
<td><code>optionValue</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>id</code></td>
<td>Field name of record containing the value to use as input value</td>
</tr>
<tr class="odd">
<td><code>resettable</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If <code>true</code>, display a button to reset the changes in this input value</td>
</tr>
<tr class="even">
<td><code>translateChoice</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Whether the choices should be translated</td>
</tr>
</tbody>
</table>
<p><code>&lt;SelectInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-5">CSS API</h4>
<table>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>input</code></td>
<td>Applied to the underlying <code>ResettableTextField</code> component</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;SelectInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaSelectInput</code> key.</p>
<h4 id="usage-6">Usage</h4>
<p>You can customize the properties to use for the option name and value, thanks to the <code>optionText</code> and <code>optionValue</code> attributes:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
];
&lt;SelectInput source=&quot;author_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p><code>optionText</code> also accepts a function, so you can shape the option text at will:</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const optionRenderer = choice =&gt; `${choice.first_name} ${choice.last_name}`;
&lt;SelectInput source=&quot;author_id&quot; choices={choices} optionText={optionRenderer} /&gt;</code></pre>
<p><code>optionText</code> also accepts a React Element, that will be cloned and receive the related choice as the <code>record</code> prop. You can use Field components there.</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const FullNameField = ({ record }) =&gt; &lt;span&gt;{record.first_name} {record.last_name}&lt;/span&gt;;
&lt;SelectInput source=&quot;gender&quot; choices={choices} optionText={&lt;FullNameField /&gt;}/&gt;</code></pre>
<p>Enabling the <code>allowEmpty</code> props adds an empty choice (with a default <code>''</code> value, which you can overwrite with the <code>emptyValue</code> prop) on top of the options. You can furthermore customize the <code>MenuItem</code> for the empty choice by using the <code>emptyText</code> prop, which can receive either a string or a React Element, which doesn’t receive any props.</p>
<pre class="jsx"><code>&lt;SelectInput source=&quot;category&quot; allowEmpty emptyValue={null} choices={[
    { id: &#39;programming&#39;, name: &#39;Programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;Lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;Photography&#39; },
]} /&gt;</code></pre>
<p>The choices are translated by default, so you can use translation identifiers as choices:</p>
<pre class="jsx"><code>const choices = [
   { id: &#39;M&#39;, name: &#39;myroot.gender.male&#39; },
   { id: &#39;F&#39;, name: &#39;myroot.gender.female&#39; },
];</code></pre>
<p>However, in some cases, you may not want the choice to be translated. In that case, set the <code>translateChoice</code> prop to <code>false</code>.</p>
<pre class="jsx"><code>&lt;SelectInput source=&quot;gender&quot; choices={choices} translateChoice={false}/&gt;</code></pre>
<p>Note that <code>translateChoice</code> is set to <code>false</code> when <code>&lt;SelectInput&gt;</code> is a child of <code>&lt;ReferenceInput&gt;</code>.</p>
<p>Lastly, use the <code>options</code> attribute if you want to override any of Material UI’s <code>&lt;SelectField&gt;</code> attributes:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;SelectInput source=&quot;category&quot; options={{
    maxHeight: 200
}} /&gt;</code></pre>
<p>{% endraw %}</p>
<p>Refer to <a href="https://material-ui.com/api/select">Material UI Select documentation</a> for more details.</p>
<p><strong>Tip</strong>: If you want to populate the <code>choices</code> attribute with a list of related records, you should decorate <code>&lt;SelectInput&gt;</code> with <a href="#referenceinput"><code>&lt;ReferenceInput&gt;</code></a>, and leave the <code>choices</code> empty:</p>
<pre class="jsx"><code>import { SelectInput, ReferenceInput } from &#39;react-admin&#39;;

&lt;ReferenceInput label=&quot;Author&quot; source=&quot;author_id&quot; reference=&quot;authors&quot;&gt;
    &lt;SelectInput optionText=&quot;last_name&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<p>If, instead of showing choices as a dropdown list, you prefer to display them as a list of radio buttons, try the <a href="#radiobuttongroupinput"><code>&lt;RadioButtonGroupInput&gt;</code></a>. And if the list is too big, prefer the <a href="#autocompleteinput"><code>&lt;AutocompleteInput&gt;</code></a>.</p>
<p>You can make the <code>SelectInput</code> component resettable using the <code>resettable</code> prop. This will add a reset button which will be displayed only when the field has a value.</p>
<figure>
<img src="./img/resettable-select-input.png" alt="resettable SelectInput" /><figcaption>resettable SelectInput</figcaption>
</figure>
<p>You can set disabled values by setting the <code>disabled</code> property of one item:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
    { _id: 1, full_name: &#39;System Administrator&#39;, sex: &#39;F&#39;, disabled: true },
];
&lt;SelectInput source=&quot;author_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p>You can use a custom field name by setting <code>disableValue</code> prop:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
    { _id: 987, full_name: &#39;Jack Harden&#39;, sex: &#39;M&#39;, not_available: true },
];
&lt;SelectInput source=&quot;contact_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; disableValue=&quot;not_available&quot; /&gt;</code></pre>
<h2 id="array-inputs">Array Inputs</h2>
<h3 id="arrayinput"><code>&lt;ArrayInput&gt;</code></h3>
<p>To edit arrays of data embedded inside a record, <code>&lt;ArrayInput&gt;</code> creates a list of sub-forms.</p>
<pre class="jsx"><code>import { ArrayInput, SimpleFormIterator, DateInput, TextInput } from &#39;react-admin&#39;;

&lt;ArrayInput source=&quot;backlinks&quot;&gt;
    &lt;SimpleFormIterator&gt;
        &lt;DateInput source=&quot;date&quot; /&gt;
        &lt;TextInput source=&quot;url&quot; /&gt;
    &lt;/SimpleFormIterator&gt;
&lt;/ArrayInput&gt;</code></pre>
<figure>
<img src="./img/array-input.png" alt="ArrayInput" /><figcaption>ArrayInput</figcaption>
</figure>
<p><code>&lt;ArrayInput&gt;</code> allows editing of embedded arrays, like the <code>backlinks</code> field in the following <code>post</code> record:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb61-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb61-2" title="2">  <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">123</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb61-3" title="3">  <span class="dt">&quot;backlinks&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb61-4" title="4">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb61-5" title="5">            <span class="dt">&quot;date&quot;</span><span class="fu">:</span> <span class="st">&quot;2012-08-10T00:00:00.000Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb61-6" title="6">            <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;http://example.com/foo/bar.html&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb61-7" title="7">        <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb61-8" title="8">        <span class="fu">{</span></a>
<a class="sourceLine" id="cb61-9" title="9">            <span class="dt">&quot;date&quot;</span><span class="fu">:</span> <span class="st">&quot;2012-08-14T00:00:00.000Z&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb61-10" title="10">            <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;https://blog.johndoe.com/2012/08/12/foobar.html&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb61-11" title="11">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb61-12" title="12">   <span class="ot">]</span></a>
<a class="sourceLine" id="cb61-13" title="13"><span class="fu">}</span></a></code></pre></div>
<p><code>&lt;ArrayInput&gt;</code> expects a single child, which must be a <em>form iterator</em> component. A form iterator is a component accepting a <code>fields</code> object as passed by <a href="https://github.com/final-form/react-final-form-arrays#fieldarrayrenderprops">react-final-form-array</a>, and defining a layout for an array of fields. For instance, the <code>&lt;SimpleFormIterator&gt;</code> component displays an array of react-admin Inputs in an unordered list (<code>&lt;ul&gt;</code>), one sub-form by list item (<code>&lt;li&gt;</code>). It also provides controls for adding and removing a sub-record (a backlink in this example).</p>
<p>You can pass <code>disableAdd</code> and <code>disableRemove</code> as props of <code>SimpleFormIterator</code>, to disable <code>ADD</code> and <code>REMOVE</code> button respectively. Default value of both is <code>false</code>.</p>
<pre class="jsx"><code>import { ArrayInput, SimpleFormIterator, DateInput, TextInput } from &#39;react-admin&#39;;

&lt;ArrayInput source=&quot;backlinks&quot;&gt;
    &lt;SimpleFormIterator disableRemove &gt;
        &lt;DateInput source=&quot;date&quot; /&gt;
        &lt;TextInput source=&quot;url&quot; /&gt;
    &lt;/SimpleFormIterator&gt;
&lt;/ArrayInput&gt;</code></pre>
<p>You can also use <code>addButton</code> and <code>removeButton</code> props to pass your custom add and remove buttons to <code>SimpleFormIterator</code>.</p>
<pre class="jsx"><code>import { ArrayInput, SimpleFormIterator, DateInput, TextInput } from &#39;react-admin&#39;;

&lt;ArrayInput source=&quot;backlinks&quot;&gt;
    &lt;SimpleFormIterator addButton={&lt;CustomAddButton /&gt;} removeButton={&lt;CustomRemoveButton /&gt;}&gt;
        &lt;DateInput source=&quot;date&quot; /&gt;
        &lt;TextInput source=&quot;url&quot; /&gt;
    &lt;/SimpleFormIterator&gt;
&lt;/ArrayInput&gt;</code></pre>
<p><strong>Note</strong>: <code>SimpleFormIterator</code> only accepts <code>Input</code> components as children. If you want to use some <code>Fields</code> instead, you have to use a <code>&lt;FormDataConsumer&gt;</code> to get the correct source, as follows:</p>
<pre class="jsx"><code>import { ArrayInput, SimpleFormIterator, DateInput, TextInput, FormDataConsumer } from &#39;react-admin&#39;;

&lt;ArrayInput source=&quot;backlinks&quot;&gt;
    &lt;SimpleFormIterator disableRemove &gt;
        &lt;DateInput source=&quot;date&quot; /&gt;
        &lt;FormDataConsumer&gt;
            {({ getSource, scopedFormData }) =&gt; {
                return (
                    &lt;TextField
                        source={getSource(&#39;url&#39;)}
                        record={scopedFormData}
                    /&gt;
                );
            }}
        &lt;/FormDataConsumer&gt;
    &lt;/SimpleFormIterator&gt;
&lt;/ArrayInput&gt;</code></pre>
<p><code>&lt;ArrayInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a> (except <code>format</code> and <code>parse</code>).</p>
<p><strong>Important</strong>: Note that asynchronous validators are not supported on the <code>ArrayInput</code> component due to a limitation of <a href="https://github.com/final-form/react-final-form-arrays">react-final-form-arrays</a>.</p>
<h3 id="autocompletearrayinput"><code>&lt;AutocompleteArrayInput&gt;</code></h3>
<p>To let users choose multiple values in a list using a dropdown with autocompletion, use <code>&lt;AutocompleteArrayInput&gt;</code>. It renders using <a href="https://github.com/downshift-js/downshift">downshift</a> and a <code>fuzzySearch</code> filter. Set the <code>choices</code> attribute to determine the options list (with <code>id</code>, <code>name</code> tuples).</p>
<pre class="jsx"><code>import { AutocompleteArrayInput } from &#39;react-admin&#39;;

&lt;AutocompleteArrayInput source=&quot;category&quot; choices={[
    { id: &#39;programming&#39;, name: &#39;Programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;Lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;Photography&#39; },
]} /&gt;</code></pre>
<h4 id="properties-7">Properties</h4>
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 2%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>allowEmpty</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If <code>true</code>, the first option is an empty one</td>
</tr>
<tr class="even">
<td><code>allowDuplicates</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If <code>true</code>, the options can be selected several times</td>
</tr>
<tr class="odd">
<td><code>choices</code></td>
<td>Required</td>
<td><code>Object[]</code></td>
<td>-</td>
<td>List of items to autosuggest</td>
</tr>
<tr class="even">
<td><code>matchSuggestion</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td>-</td>
<td>Required if <code>optionText</code> is a React element. Function returning a boolean indicating whether a choice matches the filter. <code>(filter, choice) =&gt; boolean</code></td>
</tr>
<tr class="odd">
<td><code>optionValue</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>id</code></td>
<td>Field name of record containing the value to use as input value</td>
</tr>
<tr class="even">
<td><code>optionText</code></td>
<td>Optional</td>
<td><code>string</code> | <code>Function</code></td>
<td><code>name</code></td>
<td>Field name of record to display in the suggestion item or function which accepts the current record as argument (<code>record =&gt; {string}</code>)</td>
</tr>
<tr class="odd">
<td><code>setFilter</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td><code>null</code></td>
<td>A callback to inform the <code>searchText</code> has changed and new <code>choices</code> can be retrieved based on this <code>searchText</code>. Signature <code>searchText =&gt; void</code>. This function is automatically setup when using <code>ReferenceInput</code>.</td>
</tr>
<tr class="even">
<td><code>shouldRenderSuggestions</code></td>
<td>Optional</td>
<td><code>Function</code></td>
<td><code>() =&gt; true</code></td>
<td>A function that returns a <code>boolean</code> to determine whether or not suggestions are rendered. Use this when working with large collections of data to improve performance and user experience. This function is passed into the underlying react-autosuggest component. Ex.<code>(value) =&gt; value.trim() &gt; 2</code></td>
</tr>
<tr class="odd">
<td><code>source</code></td>
<td>Required</td>
<td><code>string</code></td>
<td>-</td>
<td>Name of field to edit, its type should match the type retrieved from <code>optionValue</code></td>
</tr>
<tr class="even">
<td><code>suggestionLimit</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td><code>null</code></td>
<td>Limits the numbers of suggestions that are shown in the dropdown list</td>
</tr>
</tbody>
</table>
<p><code>&lt;AutocompleteArrayInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-6">CSS API</h4>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>container</code></td>
<td>Applied to the container of the underlying Material UI’s <code>TextField</code> component input</td>
</tr>
<tr class="even">
<td><code>suggestionsContainer</code></td>
<td>Applied to the suggestions container</td>
</tr>
<tr class="odd">
<td><code>chip</code></td>
<td>Applied to each Material UI’s <code>Chip</code> component used as selected item</td>
</tr>
<tr class="even">
<td><code>chipContainerFilled</code></td>
<td>Applied to each container of each Material UI’s <code>Chip</code> component used as selected item when <code>variant</code> prop is <code>filled</code></td>
</tr>
<tr class="odd">
<td><code>chipContainerOutlined</code></td>
<td>Applied to each container of each <code>Chip</code> component used as selected item when <code>variant</code> prop is <code>outlined</code></td>
</tr>
<tr class="even">
<td><code>inputRoot</code></td>
<td>Styles pass as the <code>root</code> class of the underlying Material UI’s <code>TextField</code> component input</td>
</tr>
<tr class="odd">
<td><code>inputRootFilled</code></td>
<td>Styles pass as the <code>root</code> class of the underlying Material UI’s <code>TextField</code> component input when <code>variant</code> prop is <code>filled</code></td>
</tr>
<tr class="even">
<td><code>inputInput</code></td>
<td>Styles pass as the <code>input</code> class of the underlying Material UI’s <code>TextField</code> component input</td>
</tr>
</tbody>
</table>
<p>The suggestions container has a <code>z-index</code> of 2. When using <code>&lt;AutocompleteArrayInput&gt;</code> in a <code>&lt;Dialog&gt;</code>, this will cause suggestions to appear beneath the Dialog. The solution is to override the <code>suggestionsContainer</code> class name, as follows:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode diff"><code class="sourceCode diff"><a class="sourceLine" id="cb66-1" title="1">import { AutocompleteArrayInput } from &#39;react-admin&#39;;</a>
<a class="sourceLine" id="cb66-2" title="2"><span class="st">-import { Dialog } from &#39;@material-ui/core&#39;;</span></a>
<a class="sourceLine" id="cb66-3" title="3"><span class="va">+import { Dialog, withStyles } from &#39;@material-ui/core&#39;;</span></a>
<a class="sourceLine" id="cb66-4" title="4"></a>
<a class="sourceLine" id="cb66-5" title="5"><span class="va">+const AutocompleteArrayInputInDialog = withStyles({</span></a>
<a class="sourceLine" id="cb66-6" title="6"><span class="va">+    suggestionsContainer: { zIndex: 2000 },</span></a>
<a class="sourceLine" id="cb66-7" title="7"><span class="va">+})(AutocompleteArrayInput);</span></a>
<a class="sourceLine" id="cb66-8" title="8"></a>
<a class="sourceLine" id="cb66-9" title="9">const EditForm = () =&gt; (</a>
<a class="sourceLine" id="cb66-10" title="10">    &lt;Dialog open&gt;</a>
<a class="sourceLine" id="cb66-11" title="11">        ...</a>
<a class="sourceLine" id="cb66-12" title="12"><span class="st">-       &lt;AutocompleteArrayInput source=&quot;foo&quot; choices={[...]}&gt;</span></a>
<a class="sourceLine" id="cb66-13" title="13"><span class="va">+       &lt;AutocompleteArrayInputInDialog source=&quot;foo&quot; choices={[...]}&gt;</span></a>
<a class="sourceLine" id="cb66-14" title="14">    &lt;/Dialog&gt;</a>
<a class="sourceLine" id="cb66-15" title="15">)</a></code></pre></div>
<p>To override the style of all instances of <code>&lt;AutocompleteArrayInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaAutocompleteArrayInput</code> key.</p>
<h4 id="usage-7">Usage</h4>
<p>You can customize the properties to use for the option name and value, thanks to the <code>optionText</code> and <code>optionValue</code> attributes:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
];
&lt;AutocompleteArrayInput source=&quot;author_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p><code>optionText</code> also accepts a function, so you can shape the option text at will:</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const optionRenderer = choice =&gt; `${choice.first_name} ${choice.last_name}`;
&lt;AutocompleteArrayInput source=&quot;author_id&quot; choices={choices} optionText={optionRenderer} /&gt;</code></pre>
<p>The choices are translated by default, so you can use translation identifiers as choices:</p>
<pre class="jsx"><code>const choices = [
   { id: &#39;M&#39;, name: &#39;myroot.gender.male&#39; },
   { id: &#39;F&#39;, name: &#39;myroot.gender.female&#39; },
];</code></pre>
<p>However, in some cases (e.g. inside a <code>&lt;ReferenceInput&gt;</code>), you may not want the choice to be translated. In that case, set the <code>translateChoice</code> prop to <code>false</code>.</p>
<pre class="jsx"><code>&lt;AutocompleteArrayInput source=&quot;gender&quot; choices={choices} translateChoice={false}/&gt;</code></pre>
<p>When dealing with a large amount of <code>choices</code> you may need to limit the number of suggestions that are rendered in order to maintain usable performance. The <code>shouldRenderSuggestions</code> is an optional prop that allows you to set conditions on when to render suggestions. An easy way to improve performance would be to skip rendering until the user has entered 2 or 3 characters in the search box. This lowers the result set significantly, and might be all you need (depending on your data set). Ex. <code>&lt;AutocompleteArrayInput shouldRenderSuggestions={(val) =&gt; { return val.trim().length &gt; 2 }} /&gt;</code> would not render any suggestions until the 3rd character has been entered. This prop is passed to the underlying <code>react-autosuggest</code> component and is documented <a href="https://github.com/moroshko/react-autosuggest#should-render-suggestions-prop">here</a>.</p>
<p>Lastly, <code>&lt;AutocompleteArrayInput&gt;</code> renders a <a href="https://material-ui.com/api/text-field/">material-ui <code>&lt;TextField&gt;</code> component</a>. Use the <code>options</code> attribute to override any of the <code>&lt;TextField&gt;</code> attributes:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;AutocompleteArrayInput source=&quot;category&quot; options={{
    color: &#39;secondary&#39;,
}} /&gt;</code></pre>
<p>{% endraw %}</p>
<p><strong>Tip</strong>: Like many other inputs, <code>&lt;AutocompleteArrayInput&gt;</code> accept a <code>fullWidth</code> prop. <strong>Tip</strong>: If you want to populate the <code>choices</code> attribute with a list of related records, you should decorate <code>&lt;AutocompleteArrayInput&gt;</code> with <a href="#referenceinput"><code>&lt;ReferenceArrayInput&gt;</code></a>, and leave the <code>choices</code> empty:</p>
<pre class="jsx"><code>import { AutocompleteArrayInput, ReferenceArrayInput } from &#39;react-admin&#39;;

&lt;ReferenceArrayInput label=&quot;Tags&quot; reference=&quot;tags&quot; source=&quot;tags&quot;&gt;
    &lt;AutocompleteArrayInput /&gt;
&lt;/ReferenceArrayInput&gt;</code></pre>
<p>If you need to override the props of the suggestion’s container (a <code>Popper</code> element), you can specify them using the <code>options.suggestionsContainerProps</code>. For example:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;AutocompleteArrayInput source=&quot;category&quot; options={{
    suggestionsContainerProps: {
        disablePortal: true,
}}} /&gt;</code></pre>
<p>{% endraw %}</p>
<p><strong>Tip</strong>: <code>&lt;ReferenceArrayInput&gt;</code> is a stateless component, so it only allows to <em>filter</em> the list of choices, not to <em>extend</em> it. If you need to populate the list of choices based on the result from a <code>fetch</code> call (and if <a href="#referencearrayinput"><code>&lt;ReferenceArrayInput&gt;</code></a> doesn’t cover your need), you’ll have to <a href="#writing-your-own-input-component">write your own Input component</a> based on <a href="https://github.com/TeamWertarbyte/material-ui-chip-input">material-ui-chip-input</a>.</p>
<p><strong>Tip</strong>: React-admin’s <code>&lt;AutocompleteInput&gt;</code> has only a capital A, while material-ui’s <code>&lt;AutoComplete&gt;</code> has a capital A and a capital C. Don’t mix up the components!</p>
<h3 id="checkboxgroupinput"><code>&lt;CheckboxGroupInput&gt;</code></h3>
<p>If you want to let the user choose multiple values among a list of possible values by showing them all, <code>&lt;CheckboxGroupInput&gt;</code> is the right component. Set the <code>choices</code> attribute to determine the options (with <code>id</code>, <code>name</code> tuples):</p>
<pre class="jsx"><code>import { CheckboxGroupInput } from &#39;react-admin&#39;;

&lt;CheckboxGroupInput source=&quot;category&quot; choices={[
    { id: &#39;programming&#39;, name: &#39;Programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;Lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;Photography&#39; },
]} /&gt;</code></pre>
<figure>
<img src="./img/checkbox-group-input.png" alt="CheckboxGroupInput" /><figcaption>CheckboxGroupInput</figcaption>
</figure>
<h4 id="properties-8">Properties</h4>
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 4%" />
<col style="width: 13%" />
<col style="width: 3%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>choices</code></td>
<td>Required</td>
<td><code>Object[]</code></td>
<td>-</td>
<td>List of choices</td>
</tr>
<tr class="even">
<td><code>optionText</code></td>
<td>Optional</td>
<td><code>string</code> | <code>Function</code></td>
<td><code>name</code></td>
<td>Field name of record to display in the suggestion item or function which accepts the correct record as argument (<code>record =&gt; {string}</code>)</td>
</tr>
<tr class="odd">
<td><code>optionValue</code></td>
<td>Optional</td>
<td><code>string</code></td>
<td><code>id</code></td>
<td>Field name of record containing the value to use as input value</td>
</tr>
<tr class="even">
<td><code>row</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Display group of elements in a compact row.</td>
</tr>
</tbody>
</table>
<p>Refer to <a href="https://material-ui.com/api/checkbox/">Material UI Checkbox documentation</a> for more details.</p>
<p><code>&lt;CheckboxGroupInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="css-api-7">CSS API</h4>
<table>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>root</code></td>
<td>Applied to the root element</td>
</tr>
<tr class="even">
<td><code>label</code></td>
<td>Applied to the underlying Material UI’s <code>FormLabel</code> component</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;CheckboxGroupInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaCheckboxGroupInput</code> key.</p>
<h4 id="usage-8">Usage</h4>
<p>You can customize the properties to use for the option name and value, thanks to the <code>optionText</code> and <code>optionValue</code> attributes:</p>
<pre class="jsx"><code>const choices = [
    { _id: 123, full_name: &#39;Leo Tolstoi&#39;, sex: &#39;M&#39; },
    { _id: 456, full_name: &#39;Jane Austen&#39;, sex: &#39;F&#39; },
];
&lt;CheckboxGroupInput source=&quot;author_id&quot; choices={choices} optionText=&quot;full_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p><code>optionText</code> also accepts a function, so you can shape the option text at will:</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const optionRenderer = choice =&gt; `${choice.first_name} ${choice.last_name}`;
&lt;CheckboxGroupInput source=&quot;author_id&quot; choices={choices} optionText={optionRenderer} /&gt;</code></pre>
<p><code>optionText</code> also accepts a React Element, that will be cloned and receive the related choice as the <code>record</code> prop. You can use Field components there.</p>
<pre class="jsx"><code>const choices = [
   { id: 123, first_name: &#39;Leo&#39;, last_name: &#39;Tolstoi&#39; },
   { id: 456, first_name: &#39;Jane&#39;, last_name: &#39;Austen&#39; },
];
const FullNameField = ({ record }) =&gt; &lt;span&gt;{record.first_name} {record.last_name}&lt;/span&gt;;
&lt;CheckboxGroupInput source=&quot;gender&quot; choices={choices} optionText={&lt;FullNameField /&gt;}/&gt;</code></pre>
<p>The choices are translated by default, so you can use translation identifiers as choices:</p>
<pre class="jsx"><code>const choices = [
    { id: &#39;programming&#39;, name: &#39;myroot.category.programming&#39; },
    { id: &#39;lifestyle&#39;, name: &#39;myroot.category.lifestyle&#39; },
    { id: &#39;photography&#39;, name: &#39;myroot.category.photography&#39; },
];</code></pre>
<p>However, in some cases (e.g. inside a <code>&lt;ReferenceInput&gt;</code>), you may not want the choice to be translated. In that case, set the <code>translateChoice</code> prop to <code>false</code>.</p>
<pre class="jsx"><code>&lt;CheckboxGroupInput source=&quot;gender&quot; choices={choices} translateChoice={false}/&gt;</code></pre>
<p>Lastly, use the <code>options</code> attribute if you want to override any of Material UI’s <code>&lt;Checkbox&gt;</code> attributes:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>import { FavoriteBorder, Favorite } from &#39;@material-ui/icons&#39;;

&lt;CheckboxGroupInput source=&quot;category&quot; options={{
    icon: &lt;FavoriteBorder /&gt;,
    checkedIcon: &lt;Favorite /&gt;
}} /&gt;</code></pre>
<p>{% endraw %}</p>
<h3 id="duallistinput"><code>&lt;DualListInput&gt;</code></h3>
<p>This <a href="https://marmelab.com/ra-enterprise">Enterprise Edition</a><img class="icon" src="./img/premium.svg" /> component allows to edit array values, one-to-many or many-to-many relationships by moving items from one list to another. It’s a good alternative to <code>&lt;SelectInput&gt;</code> for a small number of choices.</p>
<figure>
<img src="https://marmelab.com/ra-enterprise/modules/assets/ra-relationships-duallistinput.gif" alt="DualListInput" /><figcaption>DualListInput</figcaption>
</figure>
<pre class="jsx"><code>import { ReferenceInput } from &#39;react-admin&#39;;
import { DualListInput } from &#39;@react-admin/ra-relationships&#39;;

&lt;ReferenceInput label=&quot;Author&quot; source=&quot;author_id&quot; reference=&quot;authors&quot;&gt;
    &lt;DualListInput optionText=&quot;last_name&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<p>Check <a href="https://marmelab.com/ra-enterprise/modules/ra-relationships">the <code>ra-relationships</code> documentation</a> for more details.</p>
<h3 id="selectarrayinput"><code>&lt;SelectArrayInput&gt;</code></h3>
<p>To let users choose several values in a list using a dropdown, use <code>&lt;SelectArrayInput&gt;</code>. It renders using <a href="https://material-ui.com/api/select">Material ui’s <code>&lt;Select&gt;</code></a>. Set the <code>choices</code> attribute to determine the options (with <code>id</code>, <code>name</code> tuples):</p>
<h4 id="css-api-8">CSS API</h4>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="header">
<th>Rule name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>root</code></td>
<td>Applied to the root element</td>
</tr>
<tr class="even">
<td><code>chip</code></td>
<td>Applied to each Material UI’s <code>Chip</code> component used as selected item</td>
</tr>
<tr class="odd">
<td><code>chips</code></td>
<td>Applied to the container of Material UI’s <code>Chip</code> components used as selected items</td>
</tr>
</tbody>
</table>
<p>To override the style of all instances of <code>&lt;SelectArrayInput&gt;</code> using the <a href="https://material-ui.com/customization/globals/#css">material-ui style overrides</a>, use the <code>RaSelectArrayInput</code> key.</p>
<pre class="jsx"><code>import { SelectArrayInput } from &#39;react-admin&#39;;

&lt;SelectArrayInput label=&quot;Tags&quot; source=&quot;categories&quot; choices={[
    { id: &#39;music&#39;, name: &#39;Music&#39; },
    { id: &#39;photography&#39;, name: &#39;Photo&#39; },
    { id: &#39;programming&#39;, name: &#39;Code&#39; },
    { id: &#39;tech&#39;, name: &#39;Technology&#39; },
    { id: &#39;sport&#39;, name: &#39;Sport&#39; },
]} /&gt;</code></pre>
<figure>
<img src="./img/select-array-input.gif" alt="SelectArrayInput" /><figcaption>SelectArrayInput</figcaption>
</figure>
<p>You can also customize the properties to use for the option name and value, thanks to the <code>optionText</code> and <code>optionValue</code> attributes.</p>
<pre class="jsx"><code>const choices = [
   { _id: &#39;1&#39;, name: &#39;Book&#39;, plural_name: &#39;Books&#39; },
   { _id: &#39;2&#39;, name: &#39;Video&#39;, plural_name: &#39;Videos&#39; },
   { _id: &#39;3&#39;, name: &#39;Audio&#39;, plural_name: &#39;Audios&#39; },
];
&lt;SelectArrayInput source=&quot;categories&quot; choices={choices} optionText=&quot;plural_name&quot; optionValue=&quot;_id&quot; /&gt;</code></pre>
<p><code>optionText</code> also accepts a function, so you can shape the option text at will:</p>
<pre class="jsx"><code>const choices = [
   { id: &#39;1&#39;, name: &#39;Book&#39;, quantity: 23 },
   { id: &#39;2&#39;, name: &#39;Video&#39;, quantity: 56 },
   { id: &#39;3&#39;, name: &#39;Audio&#39;, quantity: 12 },
];
const optionRenderer = choice =&gt; `${choice.name} (${choice.quantity})`;
&lt;SelectArrayInput source=&quot;categories&quot; choices={choices} optionText={optionRenderer} /&gt;</code></pre>
<p>The choices are translated by default, so you can use translation identifiers as choices:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">const</span> choices <span class="op">=</span> [</a>
<a class="sourceLine" id="cb85-2" title="2">   <span class="op">{</span> <span class="dt">id</span><span class="op">:</span> <span class="st">&#39;books&#39;</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;myroot.category.books&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb85-3" title="3">   <span class="op">{</span> <span class="dt">id</span><span class="op">:</span> <span class="st">&#39;sport&#39;</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;myroot.category.sport&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb85-4" title="4">]<span class="op">;</span></a></code></pre></div>
<p>Lastly, use the <code>options</code> attribute if you want to override any of the <code>&lt;Select&gt;</code> attributes:</p>
<p>{% raw %}</p>
<pre class="jsx"><code>&lt;SelectArrayInput source=&quot;category&quot; options={{ fullWidth: true }} /&gt;</code></pre>
<p>{% endraw %}</p>
<p>Refer to <a href="https://material-ui.com/api/select">the Select documentation</a> for more details.</p>
<p>The <code>SelectArrayInput</code> component <strong>cannot</strong> be used inside a <code>ReferenceInput</code> but can be used inside a <code>ReferenceArrayInput</code>.</p>
<pre class="jsx"><code>import * as React from &quot;react&quot;;
import {
    ChipField,
    Create,
    DateInput,
    ReferenceArrayInput,
    SelectArrayInput,
    TextInput,
} from &#39;react-admin&#39;;

export const PostCreate = props =&gt; (
    &lt;Create {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;TextInput source=&quot;title&quot; /&gt;
            &lt;TextInput multiline source=&quot;body&quot; /&gt;
            &lt;DateInput source=&quot;published_at&quot; /&gt;

            &lt;ReferenceArrayInput reference=&quot;tags&quot; source=&quot;tags&quot;&gt;
                &lt;SelectArrayInput&gt;
                    &lt;ChipField source=&quot;name&quot; /&gt;
                &lt;/SelectArrayInput&gt;
            &lt;/ReferenceArrayInput&gt;
        &lt;/SimpleForm&gt;
    &lt;/Create&gt;
);</code></pre>
<p><strong>Tip</strong>: As it does not provide autocompletion, the <code>SelectArrayInput</code> might not be suited when the referenced resource has a lot of items.</p>
<p><code>&lt;SelectArrayInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h2 id="reference-inputs">Reference Inputs</h2>
<h3 id="referencearrayinput"><code>&lt;ReferenceArrayInput&gt;</code></h3>
<p>Use <code>&lt;ReferenceArrayInput&gt;</code> to edit an array of reference values, i.e. to let users choose a list of values (usually foreign keys) from another REST endpoint.</p>
<p><code>&lt;ReferenceArrayInput&gt;</code> fetches the related resources (using <code>dataProvider.getMany()</code>) as well as possible resources (using <code>dataProvider.getList()</code>) in the reference endpoint.</p>
<p>For instance, if the post object has many tags, a post resource may look like:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb88-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb88-2" title="2">    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1234</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb88-3" title="3">    <span class="dt">&quot;tag_ids&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="dv">1</span><span class="ot">,</span> <span class="dv">23</span><span class="ot">,</span> <span class="dv">4</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb88-4" title="4"><span class="fu">}</span></a></code></pre></div>
<p>Then <code>&lt;ReferenceArrayInput&gt;</code> would fetch a list of tag resources from these two calls:</p>
<pre><code>http://myapi.com/tags?id=[1,23,4]
http://myapi.com/tags?page=1&amp;perPage=25</code></pre>
<p>Once it receives the deduplicated reference resources, this component delegates rendering to a subcomponent, to which it passes the possible choices as the <code>choices</code> attribute.</p>
<p>This means you can use <code>&lt;ReferenceArrayInput&gt;</code> with <a href="#selectarrayinput"><code>&lt;SelectArrayInput&gt;</code></a>, or with the component of your choice, provided it supports the <code>choices</code> attribute.</p>
<p>The component expects a <code>source</code> and a <code>reference</code> attributes. For instance, to make the <code>tag_ids</code> for a <code>post</code> editable:</p>
<pre class="jsx"><code>import { ReferenceArrayInput, SelectArrayInput } from &#39;react-admin&#39;;

&lt;ReferenceArrayInput source=&quot;tag_ids&quot; reference=&quot;tags&quot;&gt;
    &lt;SelectArrayInput optionText=&quot;name&quot; /&gt;
&lt;/ReferenceArrayInput&gt;</code></pre>
<figure>
<img src="./img/select-array-input.gif" alt="SelectArrayInput" /><figcaption>SelectArrayInput</figcaption>
</figure>
<p><strong>Note</strong>: You <strong>must</strong> add a <code>&lt;Resource&gt;</code> for the reference resource - react-admin needs it to fetch the reference data. You can omit the list prop in this reference if you want to hide it in the sidebar menu.</p>
<pre class="jsx"><code>&lt;Admin dataProvider={myDataProvider}&gt;
    &lt;Resource name=&quot;posts&quot; list={PostList} edit={PostEdit} /&gt;
    &lt;Resource name=&quot;tags&quot; /&gt;
&lt;/Admin&gt;</code></pre>
<p>Set the <code>allowEmpty</code> prop when you want to add an empty choice with a value of <code>null</code> in the choices list. Disabling <code>allowEmpty</code> does not mean that the input will be required. If you want to make the input required, you must add a validator as indicated in <a href="./CreateEdit.md#validation">Validation Documentation</a>. Enabling the <code>allowEmpty</code> props just adds an empty choice (with <code>null</code> value) on top of the options, and makes the value nullable.</p>
<pre class="jsx"><code>import { ReferenceArrayInput, SelectArrayInput } from &#39;react-admin&#39;;

&lt;ReferenceArrayInput source=&quot;tag_ids&quot; reference=&quot;tags&quot; allowEmpty&gt;
    &lt;SelectArrayInput optionText=&quot;name&quot; /&gt;
&lt;/ReferenceArrayInput&gt;</code></pre>
<p><strong>Tip</strong>: <code>allowEmpty</code> is set by default for all Input components children of the <code>&lt;Filter&gt;</code> component</p>
<p>You can tweak how this component fetches the possible values using the <code>perPage</code>, <code>sort</code>, and <code>filter</code> props.</p>
<p>{% raw %}</p>
<pre class="jsx"><code>// by default, fetches only the first 25 values. You can extend this limit
// by setting the `perPage` prop.
&lt;ReferenceArrayInput
     source=&quot;tag_ids&quot;
     reference=&quot;tags&quot;
     perPage={100}&gt;
    &lt;SelectArrayInput optionText=&quot;name&quot; /&gt;
&lt;/ReferenceArrayInput&gt;

// by default, orders the possible values by id desc. You can change this order
// by setting the `sort` prop (an object with `field` and `order` properties).
&lt;ReferenceArrayInput
     source=&quot;tag_ids&quot;
     reference=&quot;tags&quot;
     sort={{ field: &#39;title&#39;, order: &#39;ASC&#39; }}&gt;
    &lt;SelectArrayInput optionText=&quot;name&quot; /&gt;
&lt;/ReferenceArrayInput&gt;

// you can filter the query used to populate the possible values. Use the
// `filter` prop for that.
&lt;ReferenceArrayInput
     source=&quot;tag_ids&quot;
     reference=&quot;tags&quot;
     filter={{ is_published: true }}&gt;
    &lt;SelectArrayInput optionText=&quot;name&quot; /&gt;
&lt;/ReferenceArrayInput&gt;</code></pre>
<p>{% endraw %}</p>
<p><code>&lt;ReferenceArrayInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h3 id="referenceinput"><code>&lt;ReferenceInput&gt;</code></h3>
<p>Use <code>&lt;ReferenceInput&gt;</code> for foreign-key values, for instance, to edit the <code>post_id</code> of a <code>comment</code> resource. This component fetches the related record (using <code>dataProvider.getMany()</code>) as well as possible choices (using <code>dataProvider.getList()</code> in the reference resource), then delegates rendering to a subcomponent, to which it passes the possible choices as the <code>choices</code> attribute.</p>
<p>This means you can use <code>&lt;ReferenceInput&gt;</code> with any of <a href="#selectinput"><code>&lt;SelectInput&gt;</code></a>, <a href="#autocompleteinput"><code>&lt;AutocompleteInput&gt;</code></a>, or <a href="#radiobuttongroupinput"><code>&lt;RadioButtonGroupInput&gt;</code></a>, or even with the component of your choice, provided it supports the <code>choices</code> attribute.</p>
<p>The component expects a <code>source</code> and a <code>reference</code> attributes. For instance, to make the <code>post_id</code> for a <code>comment</code> editable:</p>
<pre class="jsx"><code>import { ReferenceInput, SelectInput } from &#39;react-admin&#39;;

&lt;ReferenceInput label=&quot;Post&quot; source=&quot;post_id&quot; reference=&quot;posts&quot;&gt;
    &lt;SelectInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<figure>
<img src="./img/reference-input.gif" alt="ReferenceInput" /><figcaption>ReferenceInput</figcaption>
</figure>
<p><strong>Note</strong>: You <strong>must</strong> add a <code>&lt;Resource&gt;</code> for the reference resource - react-admin needs it to fetch the reference data. You <em>can</em> omit the <code>list</code> prop in this reference if you want to hide it in the sidebar menu.</p>
<pre class="jsx"><code>&lt;Admin dataProvider={myDataProvider}&gt;
    &lt;Resource name=&quot;comments&quot; list={CommentList} /&gt;
    &lt;Resource name=&quot;posts&quot; /&gt;
&lt;/Admin&gt;</code></pre>
<h4 id="properties-9">Properties</h4>
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 3%" />
<col style="width: 19%" />
<col style="width: 16%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="header">
<th>Prop</th>
<th>Required</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>allowEmpty</code></td>
<td>Optional</td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>If true, add an empty item to the list of choices to allow for empty value</td>
</tr>
<tr class="even">
<td><code>filter</code></td>
<td>Optional</td>
<td><code>Object</code></td>
<td><code>{}</code></td>
<td>Permanent filters to use for getting the suggestion list</td>
</tr>
<tr class="odd">
<td><code>filterToQuery</code></td>
<td>Optional</td>
<td><code>string</code> =&gt; <code>Object</code></td>
<td><code>searchText =&gt; ({ q: [searchText] })</code></td>
<td>How to transform the searchText (passed e.g. by an <code>&lt;AutocompleteArrayInput&gt;</code>) into a parameter for the data provider</td>
</tr>
<tr class="even">
<td><code>perPage</code></td>
<td>Optional</td>
<td><code>number</code></td>
<td>25</td>
<td>Number of suggestions to show</td>
</tr>
<tr class="odd">
<td><code>reference</code></td>
<td>Required</td>
<td><code>string</code></td>
<td>’’</td>
<td>Name of the reference resource, e.g. ‘posts’.</td>
</tr>
<tr class="even">
<td><code>sort</code></td>
<td>Optional</td>
<td><code>{ field: String, order: 'ASC' or 'DESC' }</code></td>
<td><code>{ field: 'id', order: 'DESC' }</code></td>
<td>How to order the list of suggestions</td>
</tr>
</tbody>
</table>
<p><code>&lt;ReferenceInput&gt;</code> also accepts the <a href="./Inputs.md#common-input-props">common input props</a>.</p>
<h4 id="usage-9">Usage</h4>
<p>Set the <code>allowEmpty</code> prop when you want to add an empty choice with a value of <code>null</code> in the choices list. Disabling <code>allowEmpty</code> does not mean that the input will be required. If you want to make the input required, you must add a validator as indicated in <a href="./CreateEdit.md#validation">Validation Documentation</a>. Enabling the <code>allowEmpty</code> props just adds an empty choice (with <code>null</code> value) on top of the options, and makes the value nullable.</p>
<pre class="jsx"><code>import { ReferenceInput, SelectInput } from &#39;react-admin&#39;;

&lt;ReferenceInput label=&quot;Post&quot; source=&quot;post_id&quot; reference=&quot;posts&quot; allowEmpty&gt;
    &lt;SelectInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<p><strong>Tip</strong>: <code>allowEmpty</code> is set by default for all Input components children of the <code>&lt;Filter&gt;</code> component:</p>
<pre class="jsx"><code>const CommentFilter = (props) =&gt; (
    &lt;Filter {...props}&gt;
        &lt;ReferenceInput label=&quot;Post&quot; source=&quot;post_id&quot; reference=&quot;posts&quot;&gt; // no need for allowEmpty
            &lt;SelectInput optionText=&quot;title&quot; /&gt;
        &lt;/ReferenceInput&gt;
    &lt;/Filter&gt;
);</code></pre>
<p>You can tweak how this component fetches the possible values using the <code>perPage</code>, <code>sort</code>, and <code>filter</code> props.</p>
<p>{% raw %}</p>
<pre class="jsx"><code>// by default, fetches only the first 25 values. You can extend this limit
// by setting the `perPage` prop.
&lt;ReferenceInput
     source=&quot;post_id&quot;
     reference=&quot;posts&quot;
     perPage={100}&gt;
    &lt;SelectInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;

// by default, orders the possible values by id desc. You can change this order
// by setting the `sort` prop (an object with `field` and `order` properties).
&lt;ReferenceInput
     source=&quot;post_id&quot;
     reference=&quot;posts&quot;
     sort={{ field: &#39;title&#39;, order: &#39;ASC&#39; }}&gt;
    &lt;SelectInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;

// you can filter the query used to populate the possible values. Use the
// `filter` prop for that.
&lt;ReferenceInput
     source=&quot;post_id&quot;
     reference=&quot;posts&quot;
     filter={{ is_published: true }}&gt;
    &lt;SelectInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<p>{% endraw %}</p>
<p>The child component may further filter results (that’s the case, for instance, for <code>&lt;AutocompleteInput&gt;</code>). ReferenceInput passes a <code>setFilter</code> function as prop to its child component. It uses the value to create a filter for the query - by default <code>{ q: [searchText] }</code>. You can customize the mapping <code>searchText =&gt; searchQuery</code> by setting a custom <code>filterToQuery</code> function prop:</p>
<pre class="jsx"><code>&lt;ReferenceInput
     source=&quot;post_id&quot;
     reference=&quot;posts&quot;
     filterToQuery={searchText =&gt; ({ title: searchText })}&gt;
    &lt;AutocompleteInput optionText=&quot;title&quot; /&gt;
&lt;/ReferenceInput&gt;</code></pre>
<p>The child component receives the following props from <code>&lt;ReferenceInput&gt;</code>:</p>
<ul>
<li><code>loading</code>: whether the request for possible values is loading or not</li>
<li><code>filter</code>: the current filter of the request for possible values. Defaults to <code>{}</code>.</li>
<li><code>pagination</code>: the current pagination of the request for possible values. Defaults to <code>{ page: 1, perPage: 25 }</code>.</li>
<li><code>sort</code>: the current sorting of the request for possible values. Defaults to <code>{ field: 'id', order: 'DESC' }</code>.</li>
<li><code>error</code>: the error message if the form validation failed for that input</li>
<li><code>warning</code>: the warning message if the form validation failed for that input</li>
<li><code>onChange</code>: function to call when the value changes</li>
<li><code>setFilter</code>: function to call to update the filter of the request for possible values</li>
<li><code>setPagination</code>: : function to call to update the pagination of the request for possible values</li>
<li><code>setSort</code>: function to call to update the sorting of the request for possible values</li>
</ul>
<p><strong>Tip</strong>: Why does <code>&lt;ReferenceInput&gt;</code> use the <code>dataProvider.getMany()</code> method with a single value <code>[id]</code> instead of <code>dataProvider.getOne()</code> to fetch the record for the current value? Because when there are many <code>&lt;ReferenceInput&gt;</code> for the same resource in a form (for instance when inside an <code>&lt;ArrayInput&gt;</code>), react-admin <em>aggregates</em> the calls to <code>dataProvider.getMany()</code> into a single one with <code>[id1, id2, ...]</code>. This speeds up the UI and avoids hitting the API too much.</p>
<h3 id="referencemanytomanyinput"><code>&lt;ReferenceManyToManyInput&gt;</code></h3>
<p>This <a href="https://marmelab.com/ra-enterprise">Enterprise Edition</a><img class="icon" src="./img/premium.svg" /> component allows to create, edit or remove relationships between two resources sharing an associative table. The changes in the associative table are sent to the dataProvider when the user submits the form, so that they can cancel the changes before submission.</p>
<p>In this example, <code>artists.id</code> matches <code>performances.artist_id</code>, and <code>performances.event_id</code> matches <code>events.id</code>:</p>
<pre><code>┌────────────┐       ┌──────────────┐      ┌────────┐
│ artists    │       │ performances │      │ events │
│------------│       │--------------│      │--------│
│ id         │───┐   │ id           │      │ id     │
│ first_name │   └──╼│ artist_id    │   ┌──│ name   │
│ last_name  │       │ event_id     │╾──┘  │        │
└────────────┘       └──────────────┘      └────────┘</code></pre>
<p>The form displays the events name in a <code>&lt;SelectArrayInput&gt;</code>:</p>
<pre class="jsx"><code>import * as React from &#39;react&#39;;
import { Edit, SelectArrayInput, SimpleForm, TextInput } from &#39;react-admin&#39;;
import { ReferenceManyToManyInput, useReferenceManyToManyUpdate } from &#39;@react-admin/ra-many-to-many&#39;;

/**
 * Decorate &lt;SimpleForm&gt; to override the default save function.
 * This is necessary to save changes in the associative table
 * only on submission.
 */
const ArtistEditForm = props =&gt; {
    const save = useReferenceManyToManyUpdate({
        basePath: props.basePath,
        record: props.record,
        redirect: props.redirect || &#39;list&#39;,
        reference: &#39;events&#39;,
        resource: props.resource,
        source: &#39;id&#39;,
        through: &#39;performances&#39;,
        undoable: props.undoable,
        using: &#39;artist_id,event_id&#39;,
    });

    return &lt;SimpleForm {...props} save={save} /&gt;;
};

const ArtistEdit = props =&gt; (
    &lt;Edit {...props}&gt;
        &lt;ArtistEditForm&gt;
            &lt;TextInput disabled source=&quot;id&quot; /&gt;
            &lt;TextInput source=&quot;first_name&quot; /&gt;
            &lt;TextInput source=&quot;last_name&quot; /&gt;
            &lt;ReferenceManyToManyInput
                source=&quot;id&quot;
                reference=&quot;events&quot;
                through=&quot;performances&quot;
                using=&quot;artist_id,event_id&quot;
                fullWidth
                label=&quot;Performances&quot;
            &gt;
                &lt;SelectArrayInput optionText=&quot;name&quot; /&gt;
            &lt;/ReferenceManyToManyInput&gt;
        &lt;/ArtistEditForm&gt;
    &lt;/Edit&gt;
);

export default ArtistEdit;</code></pre>
<p>Check <a href="https://marmelab.com/ra-enterprise/modules/ra-relationships#referencemanytomanyinput">the <code>ra-relationships</code> documentation</a> for more details.</p>
<h2 id="translatable-inputs">Translatable Inputs</h2>
<p>You may have inputs which are translated in multiple languages and want users to edit translations for each language separately. To display them, you can use the <code>&lt;TranslatableInputs&gt;</code> component, which expects the translatable values to have the following structure:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb102-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb102-2" title="2">    <span class="dt">name</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb102-3" title="3">        <span class="dt">en</span><span class="op">:</span> <span class="st">&#39;The english value&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb102-4" title="4">        <span class="dt">fr</span><span class="op">:</span> <span class="st">&#39;The french value&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb102-5" title="5">        <span class="dt">tlh</span><span class="op">:</span> <span class="st">&#39;The klingon value&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb102-6" title="6">    <span class="op">},</span></a>
<a class="sourceLine" id="cb102-7" title="7">    <span class="dt">description</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb102-8" title="8">        <span class="dt">en</span><span class="op">:</span> <span class="st">&#39;The english value&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb102-9" title="9">        <span class="dt">fr</span><span class="op">:</span> <span class="st">&#39;The french value&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb102-10" title="10">        <span class="dt">tlh</span><span class="op">:</span> <span class="st">&#39;The klingon value&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb102-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb102-12" title="12"><span class="op">}</span></a></code></pre></div>
<p>This is how to use it:</p>
<pre class="jsx"><code>&lt;TranslatableInputs locales={[&#39;en&#39;, &#39;fr&#39;]}&gt;
    &lt;TextInput source=&quot;name&quot; /&gt;
    &lt;RichTextInput source=&quot;description&quot; /&gt;
&lt;/TranslatableInputs&gt;</code></pre>
<p>React-admin uses the user locale as the default locale in this field. You can override this setting using the <code>defaultLocale</code> prop.</p>
<pre class="jsx"><code>&lt;TranslatableInputs locales={[&#39;en&#39;, &#39;fr&#39;]} defaultLocale=&quot;fr&quot;&gt;
    &lt;TextInput source=&quot;name&quot; /&gt;
    &lt;RichTextInput source=&quot;description&quot; /&gt;
&lt;/TranslatableInputs&gt;</code></pre>
<p>By default, <code>&lt;TranslatableInputs&gt;</code> will allow users to select the displayed locale using Material-ui tabs with the locale code as their labels.</p>
<p>You may override the tabs labels using translation keys following this format: <code>ra.locales.[locale_code]</code>. For instance, <code>ra.locales.en</code> or <code>ra.locales.fr</code>.</p>
<p>You may override the language selector using the <code>selector</code> prop, which accepts a React element:</p>
<pre class="jsx"><code>const Selector = () =&gt; {
    const {
        locales,
        selectLocale,
        selectedLocale,
    } = useTranslatableContext();

    const handleChange = event =&gt; {
        selectLocale(event.target.value);
    };

    return (
        &lt;select
            aria-label=&quot;Select the locale&quot;
            onChange={handleChange}
            value={selectedLocale}
        &gt;
            {locales.map(locale =&gt; (
                &lt;option
                    key={locale}
                    value={locale}
                    // This allows to correctly link the containers for each locale to their labels
                    id={`translatable-header-${locale}`}
                &gt;
                    {locale}
                &lt;/option&gt;
            ))}
        &lt;/select&gt;
    );
};

&lt;TranslatableInputs
    record={record}
    resource=&quot;products&quot;
    basePath=&quot;/products&quot;
    locales={[&#39;en&#39;, &#39;fr&#39;]}
    selector={&lt;Selector /&gt;}
&gt;
    &lt;TextInput source=&quot;name&quot; /&gt;
    &lt;RichTextInput source=&quot;description&quot; /&gt;
&lt;/TranslatableInputs&gt;</code></pre>
<p>If you have multiple <code>TranslatableInputs</code> on the same page, you should specify a <code>groupKey</code> so that react-admin can create unique identifiers for accessibility.</p>
<pre class="jsx"><code>&lt;TranslatableInputs locales={[&#39;en&#39;, &#39;fr&#39;]} groupKey=&quot;essential-fields&quot;&gt;
    &lt;TextInput source=&quot;name&quot; /&gt;
    &lt;RichTextInput source=&quot;description&quot; /&gt;
&lt;/TranslatableInputs&gt;</code></pre>
<p>You can add validators to any of the inputs inside a <code>TranslatableInputs</code>. If an input has some validation error, the label of its parent tab will be highlighted as invalid:</p>
<pre class="jsx"><code>&lt;TranslatableInputs locales={[&#39;en&#39;, &#39;fr&#39;]}&gt;
    &lt;TextInput source=&quot;name&quot; validate={[required()]} /&gt;
    &lt;RichTextInput source=&quot;description&quot; validate={[maxLength(100)]} /&gt;
&lt;/TranslatableInputs&gt;</code></pre>
<h2 id="recipes">Recipes</h2>
<h3 id="transforming-input-value-tofrom-record">Transforming Input Value to/from Record</h3>
<p>The data format returned by the input component may not be what your API desires. Since React-admin uses react-final-form, we can use its <a href="https://final-form.org/docs/react-final-form/types/FieldProps#parse">parse</a> and <a href="https://final-form.org/docs/react-final-form/types/FieldProps#format">format</a> functions to transform the input value when saving to and loading from the record.</p>
<p>Mnemonic for the two functions:</p>
<ul>
<li><code>parse()</code>: input -&gt; record</li>
<li><code>format()</code>: record -&gt; input</li>
</ul>
<p>Say the user would like to input values of 0-100 to a percentage field but your API (hence record) expects 0-1.0. You can use simple <code>parse()</code> and <code>format()</code> functions to archive the transform:</p>
<pre class="jsx"><code>&lt;NumberInput source=&quot;percent&quot; format={v =&gt; v * 100} parse={v =&gt; parseFloat(v) / 100} label=&quot;Formatted number&quot; /&gt;</code></pre>
<p><code>&lt;DateInput&gt;</code> stores and returns a string. If you would like to store a JavaScript Date object in your record instead:</p>
<pre class="jsx"><code>const dateFormatter = v =&gt; {
  // v is a `Date` object
  if (!(v instanceof Date) || isNaN(v)) return;
  const pad = &#39;00&#39;;
  const yy = v.getFullYear().toString();
  const mm = (v.getMonth() + 1).toString();
  const dd = v.getDate().toString();
  return `${yy}-${(pad + mm).slice(-2)}-${(pad + dd).slice(-2)}`;
};

const dateParser = v =&gt; {
  // v is a string of &quot;YYYY-MM-DD&quot; format
  const match = /(\d{4})-(\d{2})-(\d{2})/.exec(v);
  if (match === null) return;
  const d = new Date(match[1], parseInt(match[2], 10) - 1, match[3]);
  if (isNaN(d)) return;
  return d;
};

&lt;DateInput source=&quot;isodate&quot; format={dateFormatter} parse={dateParser} /&gt;</code></pre>
<h3 id="linking-two-inputs">Linking Two Inputs</h3>
<p>Edition forms often contain linked inputs, e.g. country and city (the choices of the latter depending on the value of the former).</p>
<p>React-admin relies on <a href="https://final-form.org/docs/react-final-form/getting-started">react-final-form</a> for form handling. You can grab the current form values using react-final-form <a href="https://final-form.org/docs/react-final-form/api/useFormState">useFormState</a> hook.</p>
<pre class="jsx"><code>import * as React from &#39;react&#39;;
import { Edit, SimpleForm, SelectInput } from &#39;react-admin&#39;;
import { useFormState } from &#39;react-final-form&#39;;

const countries = [&#39;USA&#39;, &#39;UK&#39;, &#39;France&#39;];
const cities = {
    USA: [&#39;New York&#39;, &#39;Los Angeles&#39;, &#39;Chicago&#39;, &#39;Houston&#39;, &#39;Phoenix&#39;],
    UK: [&#39;London&#39;, &#39;Birmingham&#39;, &#39;Glasgow&#39;, &#39;Liverpool&#39;, &#39;Bristol&#39;],
    France: [&#39;Paris&#39;, &#39;Marseille&#39;, &#39;Lyon&#39;, &#39;Toulouse&#39;, &#39;Nice&#39;],
};
const toChoices = items =&gt; items.map(item =&gt; ({ id: item, name: item }));

const CityInput = props =&gt; {
    const { values } = useFormState();
    return (
        &lt;SelectInput
            choices={values.country ? toChoices(cities[values.country]) : []}
            {...props}
        /&gt;
    );
};

const OrderEdit = props =&gt; (
    &lt;Edit {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;SelectInput source=&quot;country&quot; choices={toChoices(countries)} /&gt;
            &lt;CityInput source=&quot;cities&quot; /&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);

export default OrderEdit;</code></pre>
<p>Alternatively, you can use the react-admin <code>&lt;FormDataConsumer&gt;</code> component, which grabs the form values, and passes them to a child function. As <code>&lt;FormDataConsumer&gt;</code> uses the render props pattern, you can avoid creating an intermediate component like the <code>&lt;CityInput&gt;</code> component above:</p>
<pre class="jsx"><code>import * as React from &#39;react&#39;;
import { Edit, SimpleForm, SelectInput, FormDataConsumer } from &#39;react-admin&#39;;

const OrderEdit = props =&gt; (
    &lt;Edit {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;SelectInput source=&quot;country&quot; choices={toChoices(countries)} /&gt;
            &lt;FormDataConsumer&gt;
                {({ formData, ...rest }) =&gt; (
                    &lt;SelectInput
                        source=&quot;cities&quot;
                        choices={
                            formData.country
                                ? toChoices(cities[formData.country])
                                : []
                        }
                        {...rest}
                    /&gt;
                )}
            &lt;/FormDataConsumer&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);</code></pre>
<p><strong>Tip</strong>: When using a <code>FormDataConsumer</code> inside an <code>ArrayInput</code>, the <code>FormDataConsumer</code> will provide three additional properties to its children function:</p>
<ul>
<li><code>scopedFormData</code>: an object containing the current values of the currently rendered item from the <code>ArrayInput</code></li>
<li><code>getSource</code>: a function which will translate the source into a valid one for the <code>ArrayInput</code></li>
</ul>
<p>And here is an example usage for <code>getSource</code> inside <code>&lt;ArrayInput&gt;</code>:</p>
<pre class="jsx"><code>import { FormDataConsumer } from &#39;react-admin&#39;;

const PostEdit = (props) =&gt; (
    &lt;Edit {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;ArrayInput source=&quot;authors&quot;&gt;
                &lt;SimpleFormIterator&gt;
                    &lt;TextInput source=&quot;name&quot; /&gt;
                    &lt;FormDataConsumer&gt;
                        {({
                            formData, // The whole form data
                            scopedFormData, // The data for this item of the ArrayInput
                            getSource, // A function to get the valid source inside an ArrayInput
                            ...rest
                        }) =&gt;
                            scopedFormData &amp;&amp; scopedFormData.name ? (
                                &lt;SelectInput
                                    source={getSource(&#39;role&#39;)} // Will translate to &quot;authors[0].role&quot;
                                    choices={[&#39;main&#39;, &#39;coauthor&#39;]}
                                    {...rest}
                                /&gt;
                            ) : null
                        }
                    &lt;/FormDataConsumer&gt;
                &lt;/SimpleFormIterator&gt;
            &lt;/ArrayInput&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);</code></pre>
<h3 id="hiding-inputs-based-on-other-inputs">Hiding Inputs Based On Other Inputs</h3>
<p>You may want to display or hide inputs base on the value of another input - for instance, show an <code>email</code> input only if the <code>hasEmail</code> boolean input has been ticked to <code>true</code>.</p>
<p>For such cases, you can use the approach described above, using the <code>&lt;FormDataConsumer&gt;</code> component.</p>
<pre class="jsx"><code>import { FormDataConsumer } from &#39;react-admin&#39;;

 const PostEdit = (props) =&gt; (
     &lt;Edit {...props}&gt;
         &lt;SimpleForm&gt;
             &lt;BooleanInput source=&quot;hasEmail&quot; /&gt;
             &lt;FormDataConsumer&gt;
                 {({ formData, ...rest }) =&gt; formData.hasEmail &amp;&amp;
                      &lt;TextInput source=&quot;email&quot; {...rest} /&gt;
                 }
             &lt;/FormDataConsumer&gt;
         &lt;/SimpleForm&gt;
     &lt;/Edit&gt;
 );</code></pre>
<p><strong>Tip</strong>: When using a <code>FormDataConsumer</code> you can define <a href="https://final-form.org/docs/react-final-form/types/FormProps#subscription">subscription</a> prop to pass to the <code>react-final-form</code></p>
<p>{% raw %}</p>
<pre class="jsx"><code>import { FormDataConsumer } from &#39;react-admin&#39;;

 const PostEdit = (props) =&gt; (
     &lt;Edit {...props}&gt;
         &lt;SimpleForm&gt;
             &lt;BooleanInput source=&quot;hasEmail&quot; /&gt;
             &lt;FormDataConsumer subscription={{ values: true }}&gt;
                 {({ formData, ...rest }) =&gt; formData.hasEmail &amp;&amp;
                      &lt;TextInput source=&quot;email&quot; {...rest} /&gt;
                 }
             &lt;/FormDataConsumer&gt;
         &lt;/SimpleForm&gt;
     &lt;/Edit&gt;
 );</code></pre>
<p>{% endraw %}</p>
<h2 id="writing-your-own-input-component">Writing Your Own Input Component</h2>
<p>If you need a more specific input type, you can write it directly in React. You’ll have to rely on react-final-form’s <a href="https://final-form.org/docs/react-final-form/api/Field">Field</a> component, or its <a href="https://final-form.org/docs/react-final-form/api/useField">useField</a> hook, to handle the value update cycle.</p>
<h3 id="using-field">Using <code>&lt;Field&gt;</code></h3>
<p>For instance, let’s write a component to edit the latitude and longitude of the current record:</p>
<pre class="jsx"><code>// in LatLongInput.js
import { Field } from &#39;react-final-form&#39;;
const LatLngInput = () =&gt; (
    &lt;span&gt;
        &lt;Field name=&quot;lat&quot; component=&quot;input&quot; type=&quot;number&quot; placeholder=&quot;latitude&quot; /&gt;
        &amp;nbsp;
        &lt;Field name=&quot;lng&quot; component=&quot;input&quot; type=&quot;number&quot; placeholder=&quot;longitude&quot; /&gt;
    &lt;/span&gt;
);
export default LatLngInput;

// in ItemEdit.js
const ItemEdit = (props) =&gt; (
    &lt;Edit {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;LatLngInput /&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);</code></pre>
<p><code>LatLngInput</code> takes no props, because the <code>&lt;Field&gt;</code> component can access the current record via the form context. The <code>name</code> prop serves as a selector for the record property to edit. All the props passed to <code>Field</code> except <code>name</code> and <code>component</code> are passed to the child component (an <code>&lt;input&gt;</code> in that example). Executing this component will render roughly the following code:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb116-1" title="1"><span class="kw">&lt;span&gt;</span></a>
<a class="sourceLine" id="cb116-2" title="2">    <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;latitude&quot;</span><span class="ot"> value=</span><span class="st">{record.lat}</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb116-3" title="3">    <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;longitude&quot;</span><span class="ot"> value=</span><span class="st">{record.lng}</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb116-4" title="4"><span class="kw">&lt;/span&gt;</span></a></code></pre></div>
<p><strong>Tip</strong>: React-final-form’s <code>&lt;Field&gt;</code> component supports dot notation in the <code>name</code> prop, to allow binding to nested values:</p>
<pre class="jsx"><code>const LatLongInput = () =&gt; (
    &lt;span&gt;
        &lt;Field name=&quot;position.lat&quot; component=&quot;input&quot; type=&quot;number&quot; placeholder=&quot;latitude&quot; /&gt;
        &amp;nbsp;
        &lt;Field name=&quot;position.lng&quot; component=&quot;input&quot; type=&quot;number&quot; placeholder=&quot;longitude&quot; /&gt;
    &lt;/span&gt;
);</code></pre>
<h3 id="using-labeled">Using <code>&lt;Labeled&gt;</code></h3>
<p>This component lacks a label. React-admin provides the <code>&lt;Labeled&gt;</code> component for that:</p>
<pre class="jsx"><code>// in LatLongInput.js
import { Field } from &#39;react-final-form&#39;;
import { Labeled } from &#39;react-admin&#39;;

const LatLngInput = () =&gt; (
    &lt;Labeled label=&quot;position&quot;&gt;
        &lt;span&gt;
            &lt;Field name=&quot;lat&quot; component=&quot;input&quot; type=&quot;number&quot; placeholder=&quot;latitude&quot; /&gt;
            &amp;nbsp;
            &lt;Field name=&quot;lng&quot; component=&quot;input&quot; type=&quot;number&quot; placeholder=&quot;longitude&quot; /&gt;
        &lt;/span&gt;
    &lt;/Labeled&gt;
);
export default LatLngInput;</code></pre>
<p>Now the component will render with a label:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb119-1" title="1"><span class="kw">&lt;label&gt;</span>Position<span class="kw">&lt;/label&gt;</span></a>
<a class="sourceLine" id="cb119-2" title="2"><span class="kw">&lt;span&gt;</span></a>
<a class="sourceLine" id="cb119-3" title="3">    <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;longitude&quot;</span><span class="ot"> value=</span><span class="st">{record.lat}</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb119-4" title="4">    <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;longitude&quot;</span><span class="ot"> value=</span><span class="st">{record.lng}</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb119-5" title="5"><span class="kw">&lt;/span&gt;</span></a></code></pre></div>
<h3 id="using-material-ui-field-components">Using Material-ui Field Components</h3>
<p>Instead of HTML <code>input</code> elements, you can use a material-ui component like <code>TextField</code>. To bind material-ui components to the form values, use the <code>useField()</code> hook:</p>
<pre class="jsx"><code>// in LatLongInput.js
import TextField from &#39;@material-ui/core/TextField&#39;;
import { useField } from &#39;react-final-form&#39;;

const BoundedTextField = ({ name, label }) =&gt; {
    const {
        input: { onChange },
        meta: { touched, error }
    } = useField(name);
    return (
        &lt;TextField
            name={name}
            label={label}
            onChange={onChange}
            error={!!(touched &amp;&amp; error)}
            helperText={touched &amp;&amp; error}
        /&gt;
    );
};
const LatLngInput = () =&gt; (
    &lt;span&gt;
        &lt;BoundedTextField name=&quot;lat&quot; label=&quot;latitude&quot; /&gt;
        &amp;nbsp;
        &lt;BoundedTextField name=&quot;lng&quot; label=&quot;longitude&quot; /&gt;
    &lt;/span&gt;
);</code></pre>
<p><strong>Tip</strong>: Material-ui’s <code>&lt;TextField&gt;</code> component already includes a label, so you don’t need to use <code>&lt;Labeled&gt;</code> in this case.</p>
<p><code>useField()</code> returns two values: <code>input</code> and <code>meta</code>. To learn more about these props, please refer to the <a href="https://final-form.org/docs/react-final-form/api/useField">useField</a> hook documentation in the react-final-form website.</p>
<p>Instead of HTML <code>input</code> elements or material-ui components, you can use react-admin input components, like <code>&lt;NumberInput&gt;</code> for instance. React-admin components already use <code>useField()</code>, and already include a label, so you don’t need either <code>useField()</code> or <code>&lt;Labeled&gt;</code> when using them:</p>
<pre class="jsx"><code>// in LatLongInput.js
import { NumberInput } from &#39;react-admin&#39;;
const LatLngInput = () =&gt; (
    &lt;span&gt;
        &lt;NumberInput source=&quot;lat&quot; label=&quot;latitude&quot; /&gt;
        &amp;nbsp;
        &lt;NumberInput source=&quot;lng&quot; label=&quot;longitude&quot; /&gt;
    &lt;/span&gt;
);
export default LatLngInput;</code></pre>
<h3 id="the-useinput-hook">The <code>useInput()</code> Hook</h3>
<p>React-admin adds functionality to react-final-form:</p>
<ul>
<li>handling of custom event emitters like <code>onChange</code>,</li>
<li>support for an array of validators,</li>
<li>detection of required fields to add an asterisk to the field label.</li>
</ul>
<p>So internally, react-admin components use another hook, which wraps react-final-form’s <code>useField()</code> hook. It’s called <code>useInput()</code> ; use it instead of <code>useField()</code> to create form inputs that have the exact same API as react-admin Input components:</p>
<pre class="jsx"><code>// in LatLongInput.js
import TextField from &#39;@material-ui/core/TextField&#39;;
import { useInput, required } from &#39;react-admin&#39;;

const BoundedTextField = props =&gt; {
    const {
        input: { name, onChange, ...rest },
        meta: { touched, error },
        isRequired
    } = useInput(props);

    return (
        &lt;TextField
            name={name}
            label={props.label}
            onChange={onChange}
            error={!!(touched &amp;&amp; error)}
            helperText={touched &amp;&amp; error}
            required={isRequired}
            {...rest}
        /&gt;
    );
};
const LatLngInput = props =&gt; {
    const {source, ...rest} = props;

    return (
        &lt;span&gt;
            &lt;BoundedTextField source=&quot;lat&quot; label=&quot;Latitude&quot; validate={required()} {...rest} /&gt;
            &amp;nbsp;
            &lt;BoundedTextField source=&quot;lng&quot; label=&quot;Longitude&quot; validate={required()} {...rest} /&gt;
        &lt;/span&gt;
    );
};</code></pre>
<p>Here is another example, this time using a material-ui <code>Select</code> component:</p>
<pre class="jsx"><code>// in SexInput.js
import Select from &#39;@material-ui/core/Select&#39;;
import MenuItem from &#39;@material-ui/core/MenuItem&#39;;
import { useInput } from &#39;react-admin&#39;;

const SexInput = props =&gt; {
    const {
        input,
        meta: { touched, error }
    } = useInput(props);

    return (
        &lt;Select
            label=&quot;Sex&quot;
            {...input}
        &gt;
            &lt;MenuItem value=&quot;M&quot;&gt;Male&lt;/MenuItem&gt;
            &lt;MenuItem value=&quot;F&quot;&gt;Female&lt;/MenuItem&gt;
        &lt;/Select&gt;
    );
};
export default SexInput;</code></pre>
<p><strong>Tip</strong>: <code>useInput</code> accepts all arguments that you can pass to <code>useField</code>. That means that components using <code>useInput</code> accept props like <a href="https://final-form.org/docs/react-final-form/types/FieldProps#format">format</a> and <a href="https://final-form.org/docs/react-final-form/types/FieldProps#parse">parse</a>, to convert values from the form to the input, and vice-versa:</p>
<pre class="jsx"><code>const parse = value =&gt; {/* ... */};
const format = value =&gt; {/* ... */};

const PersonEdit = props =&gt; (
    &lt;Edit {...props}&gt;
        &lt;SimpleForm&gt;
            &lt;SexInput
                source=&quot;sex&quot;
                format={formValue =&gt; formValue === 0 ? &#39;M&#39; : &#39;F&#39;}
                parse={inputValue =&gt; inputValue === &#39;M&#39; ? 0 : 1}
            /&gt;
        &lt;/SimpleForm&gt;
    &lt;/Edit&gt;
);</code></pre>
<h2 id="third-party-components">Third-Party Components</h2>
<p>You can find components for react-admin in third-party repositories.</p>
<ul>
<li><a href="https://github.com/vascofg/react-admin-color-input">vascofg/react-admin-color-input</a>: a color input using <a href="https://casesandberg.github.io/react-color/">React Color</a>, a collection of color pickers.</li>
<li><a href="https://github.com/vascofg/react-admin-date-inputs">vascofg/react-admin-date-inputs</a>: a collection of Date Inputs, based on <a href="https://material-ui-pickers.firebaseapp.com/">material-ui-pickers</a></li>
<li><p><a href="https://github.com/MrHertal/react-admin-json-view">MrHertal/react-admin-json-view</a>: JSON field and input for react-admin.</p></li>
<li><p><strong>DEPRECATED V3</strong> <a href="https://github.com/LoicMahieu/aor-tinymce-input">LoicMahieu/aor-tinymce-input</a>: a TinyMCE component, useful for editing HTML</p></li>
</ul>
