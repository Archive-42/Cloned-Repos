<h2>Imports node's type defs</h2>
<p>This has a global <code>process</code> and two imports</p>
<pre
  class="shiki twoslash lsp"
  style="background-color: #fff; color: black;"
><div class='code-container'><code><div class='line'><span style="color: #008000">/// </span><span style="color: #800000">&lt;reference</span><span style="color: #008000"> </span><span style="color: #DC0000">types</span><span style="color: #000000">=</span><span style="color: #A31515">"node"</span><span style="color: #008000"> </span><span style="color: #800000">/&gt;</span></div>
<div class='line'><span style="color: #008000">// @ts-check</span></div><div class='line'><span style="color: #0000FF">import</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='(alias) module &amp;quot;fs&amp;quot;&amp;#13;import fs'>fs</data-lsp></span><span style="color: #333333"> </span><span style="color: #0000FF">from</span><span style="color: #333333"> </span><span style="color: #A31515">"fs"</span></div><div class='line'><span style="color: #0000FF">import</span><span style="color: #333333"> { </span><span style="color: #1A1A1A"><data-lsp lsp='(alias) function execSync(command: string): Buffer (+3 overloads)&amp;#13;import execSync'>execSync</data-lsp></span><span style="color: #333333"> } </span><span style="color: #0000FF">from</span><span style="color: #333333"> </span><span style="color: #A31515">"child_process"</span></div>
<div class='line'><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const fileToEdit: string'>fileToEdit</data-lsp> </span><span style="color: #000000">=</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='var process: NodeJS.Process'>process</data-lsp></span><span style="color: #333333">.</span><span style="color: #1A1A1A"><data-lsp lsp='(property) NodeJS.Process.env: NodeJS.ProcessEnv'>env</data-lsp></span><span style="color: #333333">.</span><span style="color: #1A1A1A"><data-lsp lsp='string | undefined'>HUSKY_GIT_PARAMS</data-lsp></span><span style="color: #000000">!</span><span style="color: #1A1A1A">.<data-lsp lsp='(method) String.split(separator: string | RegExp, limit?: number | undefined): string[] (+1 overload)'>split</data-lsp></span><span style="color: #333333">(</span><span style="color: #A31515">" "</span><span style="color: #333333">)[</span><span style="color: #09835A">0</span><span style="color: #333333">]</span></div><div class='line'><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const files: string'>files</data-lsp> </span><span style="color: #000000">=</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='(alias) execSync(command: string, options?: ExecSyncOptionsWithStringEncoding | undefined): string (+3 overloads)&amp;#13;import execSync'>execSync</data-lsp></span><span style="color: #333333">(</span><span style="color: #A31515">"git status --porcelain"</span><span style="color: #333333">, { <data-lsp lsp='(property) ExecSyncOptionsWithStringEncoding.encoding: BufferEncoding'>encoding</data-lsp>: </span><span style="color: #A31515">"utf8"</span><span style="color: #333333"> })</span></div>
<div class='line'><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const maps: any'>maps</data-lsp></span><span style="color: #000000">:</span><span style="color: #1A1A1A"> any </span><span style="color: #000000">=</span><span style="color: #333333"> {</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #A31515">"spelltower/"</span><span style="color: #333333">: </span><span style="color: #A31515">"SPTWR"</span><span style="color: #333333">,</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #A31515">"typeshift/"</span><span style="color: #333333">: </span><span style="color: #A31515">"TPSFT"</span><span style="color: #333333">,</span></div><div class='line'><span style="color: #333333">}</span></div>
<div class='line'><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const prefixes: Set&amp;lt;unknown>'>prefixes</data-lsp> </span><span style="color: #000000">=</span><span style="color: #333333"> </span><span style="color: #0000FF">new</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='var Set: SetConstructor&amp;#13;new &amp;lt;unknown>(iterable?: Iterable&amp;lt;unknown> | null | undefined) => Set&amp;lt;unknown> (+1 overload)'>Set</data-lsp></span><span style="color: #333333">()</span></div><div class='line'><span style="color: #1A1A1A"><data-lsp lsp='const files: string'>files</data-lsp>.<data-lsp lsp='(method) String.split(separator: string | RegExp, limit?: number | undefined): string[] (+1 overload)'>split</data-lsp></span><span style="color: #333333">(</span><span style="color: #A31515">"\n"</span><span style="color: #333333">)</span><span style="color: #1A1A1A">.<data-lsp lsp='(method) Array&amp;lt;string>.forEach(callbackfn: (value: string, index: number, array: string[]) => void, thisArg?: any): void'>forEach</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='(parameter) f: string'>f</data-lsp></span><span style="color: #333333"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #333333"> {</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const found: string | undefined'>found</data-lsp> </span><span style="color: #000000">=</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='var Object: ObjectConstructor'>Object</data-lsp>.<data-lsp lsp='(method) ObjectConstructor.keys(o: {}): string[] (+1 overload)'>keys</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='const maps: any'>maps</data-lsp></span><span style="color: #333333">)</span><span style="color: #1A1A1A">.<data-lsp lsp='(method) Array&amp;lt;string>.find(predicate: (value: string, index: number, obj: string[]) => unknown, thisArg?: any): string | undefined (+1 overload)'>find</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='(parameter) prefix: string'>prefix</data-lsp></span><span style="color: #333333"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='(parameter) f: string'>f</data-lsp>.<data-lsp lsp='(method) String.includes(searchString: string, position?: number | undefined): boolean'>includes</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='(parameter) prefix: string'>prefix</data-lsp></span><span style="color: #333333">))</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #0000FF">if</span><span style="color: #333333"> (</span><span style="color: #1A1A1A"><data-lsp lsp='const found: string | undefined'>found</data-lsp></span><span style="color: #333333">) </span><span style="color: #1A1A1A"><data-lsp lsp='const prefixes: Set&amp;lt;unknown>'>prefixes</data-lsp>.<data-lsp lsp='(method) Set&amp;lt;unknown>.add(value: unknown): Set&amp;lt;unknown>'>add</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='const maps: any'>maps</data-lsp></span><span style="color: #333333">[</span><span style="color: #1A1A1A"><data-lsp lsp='const found: string'>found</data-lsp></span><span style="color: #333333">])</span></div><div class='line'><span style="color: #333333">})</span></div>
<div class='line'><span style="color: #0000FF">if</span><span style="color: #333333"> (</span><span style="color: #1A1A1A"><data-lsp lsp='const prefixes: Set&amp;lt;unknown>'>prefixes</data-lsp></span><span style="color: #333333">.</span><span style="color: #1A1A1A"><data-lsp lsp='(property) Set&amp;lt;unknown>.size: number'>size</data-lsp></span><span style="color: #333333">) {</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const prefix: string'>prefix</data-lsp> </span><span style="color: #000000">=</span><span style="color: #333333"> [</span><span style="color: #000000">...</span><span style="color: #1A1A1A"><data-lsp lsp='const prefixes: Set&amp;lt;unknown>'>prefixes</data-lsp>.<data-lsp lsp='(method) Set&amp;lt;unknown>.values(): IterableIterator&amp;lt;unknown>'>values</data-lsp></span><span style="color: #333333">()]</span><span style="color: #1A1A1A">.<data-lsp lsp='(method) Array&amp;lt;unknown>.sort(compareFn?: ((a: unknown, b: unknown) => number) | undefined): unknown[]'>sort</data-lsp></span><span style="color: #333333">()</span><span style="color: #1A1A1A">.<data-lsp lsp='(method) Array&amp;lt;unknown>.join(separator?: string | undefined): string'>join</data-lsp></span><span style="color: #333333">(</span><span style="color: #A31515">", "</span><span style="color: #333333">)</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #0000FF">const</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='const msg: string'>msg</data-lsp> </span><span style="color: #000000">=</span><span style="color: #333333"> </span><span style="color: #1A1A1A"><data-lsp lsp='(alias) module &amp;quot;fs&amp;quot;&amp;#13;import fs'>fs</data-lsp>.<data-lsp lsp='function readFileSync(path: number | fs.PathLike, options: BufferEncoding | {&amp;#13;    encoding: BufferEncoding;&amp;#13;    flag?: string | undefined;&amp;#13;}): string (+2 overloads)'>readFileSync</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='const fileToEdit: string'>fileToEdit</data-lsp></span><span style="color: #333333">, </span><span style="color: #A31515">"utf8"</span><span style="color: #333333">)</span></div><div class='line'><span style="color: #333333">  </span><span style="color: #0000FF">if</span><span style="color: #333333"> (</span><span style="color: #000000">!</span><span style="color: #1A1A1A"><data-lsp lsp='const msg: string'>msg</data-lsp>.<data-lsp lsp='(method) String.includes(searchString: string, position?: number | undefined): boolean'>includes</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='const prefix: string'>prefix</data-lsp></span><span style="color: #333333">)) {</span></div><div class='line'><span style="color: #333333">    </span><span style="color: #1A1A1A"><data-lsp lsp='(alias) module &amp;quot;fs&amp;quot;&amp;#13;import fs'>fs</data-lsp>.<data-lsp lsp='function writeFileSync(path: number | fs.PathLike, data: string | NodeJS.ArrayBufferView, options?: fs.WriteFileOptions | undefined): void'>writeFileSync</data-lsp></span><span style="color: #333333">(</span><span style="color: #1A1A1A"><data-lsp lsp='const fileToEdit: string'>fileToEdit</data-lsp></span><span style="color: #333333">, </span><span style="color: #A31515">`[</span><span style="color: #0000FF">${</span><span style="color: #1A1A1A"><data-lsp lsp='const prefix: string'>prefix</data-lsp></span><span style="color: #0000FF">}</span><span style="color: #A31515">] </span><span style="color: #0000FF">${</span><span style="color: #1A1A1A"><data-lsp lsp='const msg: string'>msg</data-lsp></span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #333333">)</span></div><div class='line'><span style="color: #333333">  }</span></div><div class='line'><span style="color: #333333">}</span></div></code><a href='https://www.typescriptlang.org/play/#code/PQgEB4CcFMDNpgOwMbVAFwJ4AdoGcBeAIkQHsATaI0YAPgCh6wABdPAWmQAtpkBregEsAttlKR0oWHimRSw0EWlEho8ZIDeoaAA9eAZUwpQAX1nzF3QQBtyAfWxzUePCvrJSiPJNg3oAFVIAUXJBSQJQR1JnPAA6aEQAN1iACQBVfQBpAE07AHEASX87AAUAQQAlMoBZfQBCWLxsazCACmoiAEoAbQAGAF13T28pPxkI3QMjZHaAczDQbwBDdABXGXZ2MUhUayXBRCIAGlAtBI9QxFmALkVV9FgADmoTTsYPL0lhJew8W6XEJhQBENPRQIomtBrNZ0KQAO4IYBEW5EfQlfwAdQqxzBiiwuDwXEEsHQSJR-hK+gAYv4cSZ3sNJI44II9ONQIhoHDQPpoOhWm9fNZ8I1mm0iAAdQ6dWKwcRBJbcVqwYG0U64j4jOWrRDkYGgADyACMAFa8dCxPjQTB4VrfX4y3y61rM3w6VVSWIHZDWVaUW2u1mdN7g4mgZWkHXkTqRGBukVLcjkO0-PDdbW6-pvV6MMMuuOskV4QQAL2gMdB4M1TIL7oi3VijcDbNiiSWvvwAv6jXUAtiJtIB3aJy6GsZoGEeFm+uksRgiapfkMKGVfkCITCI-uT1HoZVrTqk9mXpQvv9+ZZOmD6vB4NncMgYWgi+Fy5mQoCwVC6BOAANugAJBozYmP0oBAUeJi-iGpj0CYQA'>Try</a></div></pre>

<style>
  .shiki {
    background-color: lightgrey;
    padding: 8px;
  }

  .error,
  .error-behind {
    margin-left: -20px;
    margin-right: -12px;
    margin-top: 4px;
    margin-bottom: 4px;
    padding: 6px;
    padding-left: 14px;

    white-space: pre-wrap;
    display: block;
  }

  .error {
    position: absolute;
    background-color: #ffeeee;
    border-left: 2px solid #bf1818;
    width: 100%;

    display: flex;
    align-items: center;
    color: black;
  }

  .error-behind {
    user-select: none;
    color: #ffeeee;
  }
  .query {
    color: white;
  }
</style>
