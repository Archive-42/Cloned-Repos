var n=Array.prototype,p=n.indexOf?function(b,a,c){return n.indexOf.call(b,a,c)}:function(b,a,c){c=null==c?0:0>c?Math.max(0,b.length+c):c;if("string"==typeof b)return"string"==typeof a&&1==a.length?b.indexOf(a,c):-1;for(;c<b.length;c++)if(c in b&&b[c]===a)return c;return-1};function q(b,a,c,d,e,f,g){this.n=g;this.childNodes=[];this.left=b;this.right=a;this.top=c;this.bottom=d;this.i=e;this.h=f;this.a=[]}
q.prototype.split=function(){var b=(this.left+this.right)/2,a=(this.top+this.bottom)/2,c=(this.i+this.h)/2,d=this.n-1;this.childNodes[0]=new q(this.left,b,this.top,a,this.i,c,d);this.childNodes[1]=new q(b,this.right,this.top,a,this.i,c,d);this.childNodes[2]=new q(this.left,b,a,this.bottom,this.i,c,d);this.childNodes[3]=new q(b,this.right,a,this.bottom,this.i,c,d);this.childNodes[4]=new q(this.left,b,this.top,a,c,this.h,d);this.childNodes[5]=new q(b,this.right,this.top,a,c,this.h,d);this.childNodes[6]=
new q(this.left,b,a,this.bottom,c,this.h,d);this.childNodes[7]=new q(b,this.right,a,this.bottom,c,this.h,d)};function r(b){return 0<b.a.length||b.childNodes.some(function(a){return r(a)})}
function s(b,a,c,d,e,f,g){var h=(b.left+b.right)/2,l=(b.top+b.bottom)/2,k=(b.i+b.h)/2,m=0,t=b=!1,u=!1;a<h&&c<h?m+=0:a>h&&c>h?m+=1:b=!0;d<l&&e<l?m+=0:d>l&&e>l?m+=2:t=!0;f<k&&g<k?m+=0:f>k&&g>k?m+=4:u=!0;a=[m];if(u)for(c=0,d=a.length;c<d;c++)a.push(a[c]+4);if(t)for(c=0,d=a.length;c<d;c++)a.push(a[c]+2);if(b)for(c=0,d=a.length;c<d;c++)a.push(a[c]+1);return a}
function v(b,a){if(-1==b.a.indexOf(a)){var c=a.d-a.b,d=a.d+a.b,e=a.c-a.b,f=a.c+a.b,g=a.e-a.b,h=a.e+a.b;0==b.n||0==b.a.length?b.a.push(a):(0==b.childNodes.length&&b.split(),s(b,c,d,e,f,g,h).forEach(function(b){v(this.childNodes[b],a)},b))}};function w(){this.g=this.velocityY=this.velocityX=this.e=this.c=this.d=0.1;this.b=5.5;this.f=3.5}w.prototype.step=function(b){this.d+=this.velocityX*b;this.c+=this.velocityY*b;this.e+=this.g*b};function x(){this.k=Array(1E3);for(var b=0;1E3>b;b++){var a=new w;a.d=400*(Math.random()-0.5);a.c=200*(Math.random()-0.5);a.e=100*(Math.random()-0.5);a.velocityX=1*(Math.random()-0.5);a.velocityY=1*(Math.random()-0.5);a.g=1*(Math.random()-0.5);this.k[b]=a}this.l=this.m=0;this.j=new q(-1E3,1E3,-1E3,1E3,-1E3,1E3,5);for(b=0;1E3>b;b++)v(this.j,this.k[b])}
function y(b,a){for(var c=0;c<a.a.length;c++)for(var d=0;d<a.a.length;d++)if(b.l++,c!=d&&Math.sqrt((a.a[c].d-a.a[d].d)*(a.a[c].d-a.a[d].d)+(a.a[c].c-a.a[d].c)*(a.a[c].c-a.a[d].c)+(a.a[c].e-a.a[d].e)*(a.a[c].e-a.a[d].e))<a.a[c].b+a.a[d].b){b.m++;var e=a.a[c],f=a.a[d],g=e.d-f.d,h=e.c-f.c,l=e.e-f.e,k=Math.sqrt(g*g+h*h+l*l),g=g/k,h=h/k,l=l/k,k=2*(e.velocityX*g+e.velocityY*h+e.g*l-(f.velocityX*g+f.velocityY*h+f.g*l))/(e.f+f.f);e.velocityX-=k*f.f*g;e.velocityY-=k*f.f*h;e.g-=k*f.f*l;f.velocityX+=k*e.f*g;
f.velocityY+=k*e.f*h;f.g+=k*e.f*l}for(c=0;c<a.childNodes.length;c++)y(b,a.childNodes[c])}function z(b,a){for(var c=[],d=0;d<a.a.length;d++){var e=a.a[d];if(e.d+e.b<a.left||e.d-e.b>a.right||e.c+e.b<a.top||e.c-e.b>a.bottom||e.e+e.b<a.i||e.e-e.b>a.h){var f=a.a,g=p(f,e);0<=g&&n.splice.call(f,g,1);c.push(e)}}for(d=0;d<a.childNodes.length;d++)z(b,a.childNodes[d]);if(a!==b.j)for(d=0;d<c.length;d++)v(b.j,c[d]);r(a)||(a.childNodes.length=0)}
x.prototype.step=function(){z(this,this.j);y(this,this.j);for(var b=0;1E3>b;b++){var a=this.k[b];a.velocityY-=0.1;a=this.k[b];-100>a.c-a.b&&(a.velocityY*=-0.8);this.k[b].step(1)}};for(var A=new x,B=0;1E4>B;B++)A.step();print(A.m);print(A.l);
