\chapter{Source code}
\label{cha:sourcecode}


\section{Math utilities}
\label{sec:mathsource}

\lstinputlisting[caption=Math utilities in JavaScript,label=listing:mathjs,language=JavaScript]{math.js}
\lstinputlisting[caption=Math utilities in C++,label=listing:mathjs,language=C++]{math.cpp}

\section{Particle system}
\label{sec:particlesource}

\lstinputlisting[caption=Particle object in JavaScript,label=listing:particlejs,language=JavaScript]{particles/particle.js}
\lstinputlisting[caption=Particle object in C++,label=listing:particlejs,language=C++]{particles/particle.cpp}
\lstinputlisting[caption=Particle emitter object in JavaScript,label=listing:particleemitterjs,language=JavaScript]{particles/particleEmitter.js}
\lstinputlisting[caption=Particle emitter object in C++,label=listing:particleemittercpp,language=C++]{particles/particleEmitter.cpp}
\lstinputlisting[caption=Initial particle system object in JavaScript,label=listing:particlesystem1js,language=JavaScript]{particles/particleSystem.js}
\lstinputlisting[caption=Initial particle system in C++,label=listing:particlesystem1cpp,language=C++]{particles/particleSystem.cpp}
\lstinputlisting[caption=Optimised particle system object in JavaScript,label=listing:particlesystem2js,language=JavaScript]{particles/particleSystem2.js}
\lstinputlisting[caption=Optimised particle system in C++,label=listing:particlesystem2cpp,language=C++]{particles/particleSystem2.cpp}


\section{Spheres collision detection}
\label{sec:spheressource}

\lstinputlisting[caption=Sphere object in JavaScript,label=listing:spherejs,language=JavaScript]{spheres/sphere.js}
\lstinputlisting[caption=Sphere object in C++,label=listing:spherejs,language=C++]{spheres/sphere.cpp}

\lstinputlisting[caption=Sphere system object in JavaScript,label=listing:spheresystemjs,language=JavaScript]{spheres/sphereSystem.js}
\lstinputlisting[caption=Sphere system in C++,label=listing:spheresystemcpp,language=C++]{spheres/sphereSystem.cpp}


\lstinputlisting[caption=Octree in JavaScript,label=listing:octreejs,language=JavaScript]{spheres/octree.js}
\lstinputlisting[caption=Octree in C++,label=listing:octreecpp,language=C++]{spheres/octree.cpp}


\lstinputlisting[caption=Octree-based sphere system object in JavaScript,label=listing:spheresystem2js,language=JavaScript]{spheres/sphereSystem2.js}
\lstinputlisting[caption=Octree-based sphere system in C++,label=listing:spheresystem2cpp,language=C++]{spheres/sphereSystem2.cpp}
