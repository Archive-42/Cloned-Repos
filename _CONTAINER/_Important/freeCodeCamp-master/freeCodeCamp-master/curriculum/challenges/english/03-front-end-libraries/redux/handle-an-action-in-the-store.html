<h1 id="description">–description–</h1>
<p>After an action is created and dispatched, the Redux store needs to know how to respond to that action. This is the job of a <code>reducer</code> function. Reducers in Redux are responsible for the state modifications that take place in response to actions. A <code>reducer</code> takes <code>state</code> and <code>action</code> as arguments, and it always returns a new <code>state</code>. It is important to see that this is the <strong>only</strong> role of the reducer. It has no side effects — it never calls an API endpoint and it never has any hidden surprises. The reducer is simply a pure function that takes state and action, then returns new state.</p>
<p>Another key principle in Redux is that <code>state</code> is read-only. In other words, the <code>reducer</code> function must <strong>always</strong> return a new copy of <code>state</code> and never modify state directly. Redux does not enforce state immutability, however, you are responsible for enforcing it in the code of your reducer functions. You’ll practice this in later challenges.</p>
<h1 id="instructions">–instructions–</h1>
<p>The code editor has the previous example as well as the start of a <code>reducer</code> function for you. Fill in the body of the <code>reducer</code> function so that if it receives an action of type <code>'LOGIN'</code> it returns a state object with <code>login</code> set to <code>true</code>. Otherwise, it returns the current <code>state</code>. Note that the current <code>state</code> and the dispatched <code>action</code> are passed to the reducer, so you can access the action’s type directly with <code>action.type</code>.</p>
<h1 id="hints">–hints–</h1>
<p>Calling the function <code>loginAction</code> should return an object with type property set to the string <code>LOGIN</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="at">assert</span>(<span class="at">loginAction</span>().<span class="at">type</span> <span class="op">===</span> <span class="st">&#39;LOGIN&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>The store should be initialized with an object with property <code>login</code> set to <code>false</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="at">assert</span>(<span class="va">store</span>.<span class="at">getState</span>().<span class="at">login</span> <span class="op">===</span> <span class="kw">false</span>)<span class="op">;</span></a></code></pre></div>
<p>Dispatching <code>loginAction</code> should update the <code>login</code> property in the store state to <code>true</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="at">assert</span>(</a>
<a class="sourceLine" id="cb3-2" title="2">  (<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="kw">const</span> initialState <span class="op">=</span> <span class="va">store</span>.<span class="at">getState</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">loginAction</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="kw">const</span> afterState <span class="op">=</span> <span class="va">store</span>.<span class="at">getState</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="cf">return</span> <span class="va">initialState</span>.<span class="at">login</span> <span class="op">===</span> <span class="kw">false</span> <span class="op">&amp;&amp;</span> <span class="va">afterState</span>.<span class="at">login</span> <span class="op">===</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="op">}</span>)()</a>
<a class="sourceLine" id="cb3-8" title="8">)<span class="op">;</span></a></code></pre></div>
<p>If the action is not of type <code>LOGIN</code>, the store should return the current state.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="at">assert</span>(</a>
<a class="sourceLine" id="cb4-2" title="2">  (<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="va">store</span>.<span class="at">dispatch</span>(<span class="op">{</span> <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;__TEST__ACTION__&#39;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="kw">let</span> afterTest <span class="op">=</span> <span class="va">store</span>.<span class="at">getState</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="cf">return</span> <span class="kw">typeof</span> afterTest <span class="op">===</span> <span class="st">&#39;object&#39;</span> <span class="op">&amp;&amp;</span> <span class="va">afterTest</span>.<span class="at">hasOwnProperty</span>(<span class="st">&#39;login&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="op">}</span>)()</a>
<a class="sourceLine" id="cb4-7" title="7">)<span class="op">;</span></a></code></pre></div>
<h1 id="seed">–seed–</h1>
<h2 id="seed-contents">–seed-contents–</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> defaultState <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="dt">login</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="kw">const</span> reducer <span class="op">=</span> (state <span class="op">=</span> defaultState<span class="op">,</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="co">// Change code below this line</span></a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8">  <span class="co">// Change code above this line</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="op">};</span></a>
<a class="sourceLine" id="cb5-10" title="10"></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="kw">const</span> store <span class="op">=</span> <span class="va">Redux</span>.<span class="at">createStore</span>(reducer)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12"></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="kw">const</span> loginAction <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-14" title="14">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-15" title="15">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;LOGIN&#39;</span></a>
<a class="sourceLine" id="cb5-16" title="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="op">};</span></a></code></pre></div>
<h1 id="solutions">–solutions–</h1>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">const</span> defaultState <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="dt">login</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">const</span> reducer <span class="op">=</span> (state <span class="op">=</span> defaultState<span class="op">,</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" title="6"></a>
<a class="sourceLine" id="cb6-7" title="7">  <span class="cf">if</span> (<span class="va">action</span>.<span class="at">type</span> <span class="op">===</span> <span class="st">&#39;LOGIN&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="cf">return</span> <span class="op">{</span><span class="dt">login</span><span class="op">:</span> <span class="kw">true</span><span class="op">}</span></a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-10" title="10"></a>
<a class="sourceLine" id="cb6-11" title="11">  <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-12" title="12">    <span class="cf">return</span> state</a>
<a class="sourceLine" id="cb6-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-14" title="14"></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="op">};</span></a>
<a class="sourceLine" id="cb6-16" title="16"></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="kw">const</span> store <span class="op">=</span> <span class="va">Redux</span>.<span class="at">createStore</span>(reducer)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-18" title="18"></a>
<a class="sourceLine" id="cb6-19" title="19"><span class="kw">const</span> loginAction <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-20" title="20">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-21" title="21">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;LOGIN&#39;</span></a>
<a class="sourceLine" id="cb6-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-23" title="23"><span class="op">};</span></a></code></pre></div>
