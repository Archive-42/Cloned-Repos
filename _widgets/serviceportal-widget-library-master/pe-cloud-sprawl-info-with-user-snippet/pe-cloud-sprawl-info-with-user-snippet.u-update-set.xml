<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2017-03-28 23:16:50">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>pe-cloud-sprawl-info-with-user-snippet</name>
<origin_sys_id/>
<release_date/>
<remote_sys_id>3234542d13353200d15e3d7ed144b050</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>fabio.petito</sys_created_by>
<sys_created_on>2017-03-28 23:16:50</sys_created_on>
<sys_id>f355dc2d13353200d15e3d7ed144b049</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>fabio.petito</sys_updated_by>
<sys_updated_on>2017-03-28 23:16:50</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sp_widget_b349c71513f532007e94fc5ed144b08f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;client_script&gt;&lt;![CDATA[function InfoUserSnippet($scope) {
  /* widget controller */
  var c = this;

  $scope.getinitials = function (user) {

    var initials = "";
    if (user &amp;&amp; !user.photo) {
      if (!user.first_name || !user.last_name) {
        initials = angular.uppercase(user.name.charAt(0));
      } else {
        initials = angular.uppercase(user.first_name.charAt(0));
        initials = initials + angular.uppercase(user.last_name.charAt(0));
      }

    }
    return initials;
  };


  c.second_tab = {
    name: "expiring lease",
    badge_number: 5,
    badge_color: "bg-orange",
    list: [{
      icon: "#icon-azure",
      company: "Azure",
      lease: "Jan 5 2017",
      vimnumber: "VM1",
      vim_number: "",
      user: {
        fname: "edward",
        lname: "scott",
        name: "Edward Scott",
        photo: "47161dae1358fe00f7f5bcc32244b03c.iix",
        title: "IT Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-aws",
      company: "AWS",
      lease: "Feb 5 2017",
      vimnumber: "VM23",
      vim_number: "",
      user: {
        fname: "Andrew",
        lname: "Garner",
        name: "Jose Riley",
        photo: "90f8d5621398fe00f7f5bcc32244b00b.iix",
        title: "Application Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-aws",
      company: "AWS",
      lease: "Feb 5 2017",
      vimnumber: "VM13",
      vim_number: "",
      user: {
        fname: "jose",
        lname: "riley",
        name: "Jose Riley",
        photo: "fae1fa1013d07e00f7f5bcc32244b091.iix",
        title: "Application Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-aws",
      company: "AWS",
      lease: "Feb 25 2017",
      vimnumber: "VM4",
      vim_number: "",
      user: {
        fname: "greg",
        lname: "hill",
        name: "Greg Hill",
        photo: "743a51a21398fe00f7f5bcc32244b067.iix",
        title: "Application Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-aws",
      company: "AWS",
      lease: "Feb 35 2017",
      vimnumber: "VM5",
      vim_number: "",
      user: {
        fname: "David",
        lname: "Hoffman",
        name: "David Hoffman",
        photo: "22d959621398fe00f7f5bcc32244b0d2.iix",
        title: "Application Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-aws",
      company: "AWS",
      lease: "Feb 45 2017",
      vimnumber: "VM6",
      vim_number: "",
      user: {
        fname: "Gary",
        lname: "Kim",
        name: "Gary Kim",
        photo: "61ba9d621398fe00f7f5bcc32244b023.iix",
        title: "Application Manager",
        phone: "8581234567"
      }
    }, {

      icon: "#icon-azure",
      company: "Azure",
      lease: "Feb 5 2017",
      vimnumber: "VM17",
      vim_number: "",
      user: {
        fname: "edward",
        lname: "scott",
        name: "Edward Scott",
        photo: "47161dae1358fe00f7f5bcc32244b03c.iix",
        title: "IT Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-azure",
      company: "Azure",
      lease: "Feb 5 2017",
      vimnumber: "VM18",
      vim_number: "",
      user: {
        fname: "edward",
        lname: "scott",
        name: "Edward Scott",
        photo: "47161dae1358fe00f7f5bcc32244b03c.iix",
        title: "IT Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-vmware",
      company: "VMW",
      lease: "Feb 5 2017",
      vimnumber: "VM39",
      vim_number: "",
      user: {
        fname: "jose",
        lname: "riley",
        name: "Jose Riley",
        photo: "fae1fa1013d07e00f7f5bcc32244b091.iix",
        title: "Application Manager",
        phone: "8581234567"

      }
    }, {

      icon: "#icon-vmware",
      company: "VMW",
      lease: "Feb 5 2017",
      vimnumber: "VM10",
      vim_number: "",
      user: {
        fname: "jose",
        lname: "riley",
        name: "Jose Riley",
        photo: "fae1fa1013d07e00f7f5bcc32244b091.iix",
        title: "Application Manager",
        phone: "8581234567"

      }
    }]
  };

}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.second-tab-details {
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  .flex-it {
    display: flex;
    align-items: center;
    justify-content: space-around;
    .svg-icon {
      height: 23px;
      width: 27px;
      fill: #9C9C9C;
    }
    p {
      margin-left: 5px;
      margin-bottom: 0px;
    }
  }
  p {
    margin-bottom: 0px;
  }
  .vm-num {
    .big-text {
      font-size: 20px;
      color: #595959;
    }
    .small-text {
      font-size: 13px;
      color: #909090;
    }
  }
  .lease {
    .lease-head {
      text-transform: uppercase;
    }
    .big-text {
      font-size: 20px;
      color: #595959;
    }
    .small-text {
      font-size: 13px;
      color: #909090;
    }
  }

  .people-card-media {
    padding-right: 10px;
    padding-left: 10px;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    float: left;
    margin: 0px;
    width: initial;
    .flex-it-align-top {
      display: flex;
      justify-content: space-between;
    }
    .media-left {
      //  width: 60px;
      .list__photo {
        width: 35px;
        height: 35px;
      }
      .initials-badge {
        min-width: 36px;
        float: left;
        margin-top: 0px;
        border-radius: 50%;
        line-height: 1;
        font-size: 14px;
        margin-left: 0px;
        padding: 10px 10px;
        font-weight: 300;
        background: #AEB2B3;
      }
    }
  }
}&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;pe-cloud-sprawl-info-with-user-snippet&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link/&gt;&lt;name&gt;PE Cloud Sprawl Info With User Snippet&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;false&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function () {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */

  /* e.g., how to extract current logged user info sample */
  data.user_sys_id = gs.getUserID();
  var userGR = new GlideRecord('sys_user');
  if (userGR.get(data.user_sys_id)) {
    data.user_first_name = userGR.getDisplayValue('first_name');
    data.user_last_name = userGR.getDisplayValue('last_name');
    data.user_full_name = userGR.getDisplayValue('name');
    data.user_job_title = userGR.getDisplayValue('title');
    data.user_photo = userGR.getDisplayValue('photo');
    data.user_phone = userGR.phone.toString().replace(/[- )(]/g, '');
    data.user_initials = data.user_first_name.charAt(0) + data.user_last_name.charAt(0);
  }

})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;fabio.petito&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-03-28 17:45:07&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;b349c71513f532007e94fc5ed144b08f&lt;/sys_id&gt;&lt;sys_mod_count&gt;18&lt;/sys_mod_count&gt;&lt;sys_name&gt;PE Cloud Sprawl Info With User Snippet&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_b349c71513f532007e94fc5ed144b08f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;fabio.petito&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-03-28 18:17:04&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="second-tab-details" ng-repeat="each in c.second_tab.list" ng-class-even="'light-grey-bg'"&gt;
  &lt;div class="vm-num"&gt;
    &lt;p class="big-text"&gt;{{each.vimnumber}}&lt;/p&gt;
    &lt;p class="small-text"&gt;{{each.vim_number}}&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="lease"&gt;
    &lt;p class="lease-head"&gt;created on&lt;/p&gt;
    &lt;p class="small-text"&gt;{{each.lease}}&lt;/p&gt;
  &lt;/div&gt;

  &lt;div class="media people-card-media"&gt;
    &lt;div class="media-left "&gt;
      &lt;div class="person-photo "&gt;
        &lt;img ng-if="each.user.photo" class="media-object list__photo img-circle ng-scope" ng-src="{{data.user_photo}}"&gt;
        &lt;div ng-if="!each.user.photo " class="badge initials-badge" data-original-title="" title=""&gt;
          &lt;span class="" ng-bind="getinitials(each.user)"&gt;&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class="flex-it"&gt;
    &lt;svg ng-class="{'vmwwidth': each.company == 'VMW'}" class="svg-icon"&gt;
      &lt;use xlink:href='{{each.icon}}'&gt;&lt;/use&gt;
    &lt;/svg&gt;
    &lt;p ng-if="each.company != 'VMW'"&gt;{{each.company}}&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="pe-cloud-sprawl-info-with-user-snippet">f355dc2d13353200d15e3d7ed144b049</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>fabio.petito</sys_created_by>
<sys_created_on>2017-03-28 23:16:50</sys_created_on>
<sys_id>b755dc2d13353200d15e3d7ed144b049</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>fabio.petito</sys_updated_by>
<sys_updated_on>2017-03-28 23:16:50</sys_updated_on>
<table/>
<target_name>PE Cloud Sprawl Info With User Snippet</target_name>
<type>Widget</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
