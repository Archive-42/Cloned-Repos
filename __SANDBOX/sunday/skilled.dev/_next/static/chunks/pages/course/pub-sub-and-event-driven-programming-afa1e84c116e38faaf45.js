_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[94],{"+FKO":function(e,a,t){"use strict";var n=t("ODXe"),c=t("q1tI"),s=t("ahz1"),o=t("vOnD"),p=t("IqxL"),r=t("gWsq"),m=t("MLAZ"),u=Object(o.e)(r.p).withConfig({componentId:"sc-77trup-0"})(["color:inherit;font-weight:inherit;background-image:linear-gradient( transparent 0%,transparent calc(50% - ","px),"," calc(50% - ","px),"," 100% );background-size:100% 200%;transition:background-position 125ms ease-in-out 0s,padding 125ms ease-in-out 0s;background-position:0px 0px;padding:0;padding:2px 0px 3px;&:hover,&:focus{background-position:0px 100%;background-image:linear-gradient( transparent 0%,transparent calc(50% - ","px),"," calc(50% - ","px),"," 100% );color:",";outline:none;}"],4,(function(e){var a=e.theme;return Object(m.a)(a.color.highlight,.6)}),4,(function(e){var a=e.theme;return Object(m.a)(a.color.highlight,.6)}),4,(function(e){return e.theme.color.highlight}),4,(function(e){return e.theme.color.highlight}),p.b.Black2),i=function(e){var a=e.children,t=e.content,o=c.useState(!1),p=Object(n.a)(o,2),r=p[0],m=p[1],i=c.useCallback((function(){return m((function(e){return!e}))}),[]);return c.createElement(c.Fragment,null,c.createElement(u,{onClick:i,"aria-haspopup":!0,"aria-expanded":r},a),c.createElement(s.a,{titleText:"Concept reference",isOpen:r,onClose:i,content:t}))};a.a=i},AgfK:function(e,a,t){"use strict";var n=t("q1tI"),c=t("tGWw");a.a=function(){return Object(n.useContext)(c.a)}},DsFX:function(e,a,t){"use strict";var n=t("q1tI"),c=t("mmnh"),s=t("F/Gw"),o=t("MFo5"),p=t("vOnD"),r=t("gWsq"),m=p.e.h2.withConfig({componentId:"sc-1qn1mt-0"})(["font-weight:600;"]),u=p.e.p.withConfig({componentId:"sc-1qn1mt-1"})(["margin-top:10px;"]),i=p.e.div.withConfig({componentId:"sc-1qn1mt-2"})(["margin-top:20px;width:100%;"]),l=p.e.a.withConfig({componentId:"sc-1qn1mt-3"})(["",";color:",";background-color:",";width:100%;font-weight:600;padding:1em;display:flex;align-items:center;justify-content:center;transition:background-color 0.2s ease;font-size:1em;&:hover{background-color:",";}"],r.s,(function(e){return e.theme.color.textPrimary}),(function(e){return e.theme.color.cta}),(function(e){return e.theme.color.ctaHover})),N=function(e){var a=e.isOpen,t=e.onClose;return n.createElement(c.a,{titleText:"Authentication modal",onExit:t,mounted:a,focusDialog:!0,verticallyCenter:!0,width:s.a.Medium},n.createElement(o.b,null,n.createElement(m,null,"\ud83d\udd25 Upgrade for Access"),n.createElement(u,null,"This lesson requires a Pro account. Upgrade now to get full course access and learn how to master the coding interview and land your next software engineering job."),n.createElement(i,null,n.createElement(l,{href:"/pricing?from=upgrade_modal"},"View Upgrade Options"))))};a.a=N},IaxL:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/pub-sub-and-event-driven-programming",function(){return t("pXDZ")}])},JanF:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t("wx14"),c=t("Ff2n"),s=(t("q1tI"),t("7ljp")),o=t("ts52"),p=t("jDXR"),r={};function m(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(s.a)("wrapper",Object(n.a)({},r,t,{components:a,mdxType:"MDXLayout"}),Object(s.a)(p.a,{mdxType:"SubsectionHeader"},"Pointers"),Object(s.a)("p",null,"VIDEO FOR CONCEPT"),Object(s.a)(o.a,{mdxType:"Introudction"}))}m.isMDXComponent=!0},Jpar:function(e,a,t){"use strict";var n=t("q1tI"),c=t("iD9/");a.a=function(e,a){var t=function(e){return a?function(e,a){return a.options.includes(e)?e:a.default}(e,a):e},s=function(a){return e[t(a)||a]};return function(){return n.createElement(c.a,{code:s,getLanguageUsed:t})}}},N3Ux:function(e,a,t){"use strict";var n=t("wx14"),c=t("q1tI"),s=t("nOHt"),o=t("yFXI"),p=t("tU6S"),r=t("ODXe"),m=t("toes"),u=t("DsFX"),i=t("0WSZ"),l=t("uqmq"),N=t("vOnD"),b=t("gWsq"),d=N.e.div.withConfig({componentId:"sc-1x2q5r1-0"})([""]),j=N.e.div.withConfig({componentId:"sc-1x2q5r1-1"})(["display:none;"]),O=Object(N.e)(b.j).withConfig({componentId:"sc-1x2q5r1-2"})(["padding:16px 64px;"]),k=function(e){var a=e.introduction,t=e.solution,n=e.data,s=c.useState(!1),o=Object(r.a)(s,2),p=o[0],N=o[1],b=c.useState(!1),k=Object(r.a)(b,2),h=k[0],f=k[1],v=c.useState(!1),y=Object(r.a)(v,2),g=y[0],w=y[1],x=null===n||void 0===n?void 0:n.users_by_pk,C=null===n||void 0===n?void 0:n.lessons[0],S=c.useCallback((function(){Object(i.c)(C,x)?N(!0):x?w(!0):f(!0)}),[x,C]);return c.createElement(c.Fragment,null,c.createElement(d,null,c.createElement(c.Fragment,null,a),!p&&c.createElement(l.c,null,c.createElement(O,{hoverable:!0,onClick:S},"Show Solution")),p?c.createElement(c.Fragment,null,t):c.createElement(j,null,t)),c.createElement(m.a,{isOpen:h,onClose:function(){return f(!1)}}),c.createElement(u.a,{isOpen:g,onClose:function(){return w(!1)}}))};a.a=function(e){var a=c.useContext(o.a),t=Object(s.useRouter)().query.slug;if(a&&t){var r=Object(p.f)({variables:{slug:t,userId:a}}),m=r.data,u=r.loading,i=r.error;return c.createElement(k,Object(n.a)({loading:u,error:i,data:m},e))}return c.createElement(k,Object(n.a)({loading:!1},e))}},"iD9/":function(e,a,t){"use strict";var n=t("q1tI"),c=t("gWsq"),s=t("AgfK"),o=function(e){var a=e.code,t=Object(s.a)().language;return n.createElement(c.h,null,a(t))};a.a=o},jDXR:function(e,a,t){"use strict";var n=t("q1tI"),c=function(e){var a=e.children;return n.createElement("h2",null,a)};a.a=c},jkan:function(e,a,t){"use strict";var n=t("q1tI"),c=t("vOnD"),s=t("uqmq"),o=t("5nwr"),p=Object(c.e)(s.b).withConfig({componentId:"sc-1u1nk7e-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;"]),r=c.e.img.withConfig({componentId:"sc-1u1nk7e-1"})(["border-radius:6px;max-width:",";","{max-width:100% !important;}"],(function(e){var a=e.maxWidth;return a?"".concat(a," !important"):"100%"}),Object(o.b)()),m=c.e.div.withConfig({componentId:"sc-1u1nk7e-2"})(["margin-top:4px;font-size:12px;color:",";text-align:center;width:100%;a,a:hover,a:visited{color:",";text-decoration:underline;}"],(function(e){return e.theme.color.textSecondary}),(function(e){return e.theme.color.textSecondary})),u=function(){return n.createElement("span",null,"Credit:"," ",n.createElement("a",{href:"https://visualgo.net/",target:"_blank",rel:"noopener noreferrer"},"VisuAlgo"))},i=function(e){var a=e.src,t=e.credit,c=e.isVisuAlgo,s=e.maxWidth;return n.createElement(p,null,n.createElement(r,{maxWidth:s,src:a}),!!t&&n.createElement(m,null,t),!!c&&n.createElement(m,null,n.createElement(u,null)))};a.a=i},pXDZ:function(e,a,t){"use strict";t.r(a),t.d(a,"__N_SSG",(function(){return ee}));var n=t("wx14"),c=t("q1tI"),s=t("NoRJ"),o=t("Qovc"),p=t("ekJs"),r={segments:[{name:"Introduction",startTimeSeconds:0,endTimeSeconds:11},{name:"Overview of Event-Driven Programming",startTimeSeconds:11,endTimeSeconds:240},{name:"Question Prompt",startTimeSeconds:240,endTimeSeconds:317},{name:"Pub-Sub Example",startTimeSeconds:317,endTimeSeconds:374},{name:"Code Walkthrough",startTimeSeconds:374,endTimeSeconds:728}]},m=t("Ff2n"),u=t("7ljp"),i=t("N3Ux"),l=t("93Pr"),N=t("jkan"),b=t("rePB"),d=t("Utoj"),j=t("Jpar"),O={};function k(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},O,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token keyword"},"class")," ",Object(u.a)("span",{parentName:"code",className:"token class-name"},"PubSub")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"constructor"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"subscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Subscribe a callback to an eventName"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"publish"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," data"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Execute callbacks for an eventName"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"unsubscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Remove a previously added callback"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}k.isMDXComponent=!0;var h=Object(b.a)({},d.a.Javascript,c.createElement(k,null)),f=Object(j.a)(h,{default:d.a.Javascript,options:[d.a.Javascript]}),v={};function y(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},v,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token keyword"},"const")," pubSub ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(u.a)("span",{parentName:"code",className:"token class-name"},"PubSub"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Example as browser event"),"\npubSub",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"subscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'click'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventData"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'Received a click!'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\npubSub",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"publish"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'click'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{")," target",Object(u.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(u.a)("span",{parentName:"code",className:"token string"},"'node'")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Example as error captured"),"\npubSub",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"subscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'error'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"errorData"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token function"},"pageTeamWithError"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"errorData",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\npubSub",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"subscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'error'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"errorData"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token function"},"storeErrorDetails"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"errorData",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\npubSub",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"publish"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'error'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{")," message",Object(u.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(u.a)("span",{parentName:"code",className:"token string"},"'It broke'")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n")))}y.isMDXComponent=!0;var g=Object(b.a)({},d.a.Javascript,c.createElement(y,null)),w=Object(j.a)(g,{default:d.a.Javascript,options:[d.a.Javascript]}),x={};function C(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},x,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)(l.b,{mdxType:"Section"},Object(u.a)("p",null,"Event-driven programming is incredibly important in software engineering,\nand it's the foundation of JavaScript (both in the browser and Node.js).\nEvents are emitted on interaction either by a user or triggered from within the program,\nand there are listeners that execute a callback when they recognize a specific event."),Object(u.a)("p",null,"You can see instances of event-driven programming in:"),Object(u.a)("ul",null,Object(u.a)("li",{parentName:"ul"},"Browser events (",Object(u.a)("inlineCode",{parentName:"li"},"onclick"),", ",Object(u.a)("inlineCode",{parentName:"li"},"onload"),", ",Object(u.a)("inlineCode",{parentName:"li"},"onkeyup"),", etc.)"),Object(u.a)("li",{parentName:"ul"},"Node.js server events"),Object(u.a)("li",{parentName:"ul"},"Sockets"),Object(u.a)("li",{parentName:"ul"},"Messaging"),Object(u.a)("li",{parentName:"ul"},"Redux and other state management libraries"),Object(u.a)("li",{parentName:"ul"},"RxJS and other event libraries"),Object(u.a)("li",{parentName:"ul"},"GraphQL subscriptions")),Object(u.a)("p",null,"There are different names for the various event design patterns,\nbut the core concept is the same.\nIn this lesson, we will build a Pub-Sub, but the intuition will be transferable.\nOther similar concepts are:"),Object(u.a)("ul",null,Object(u.a)("li",{parentName:"ul"},"Observer pattern"),Object(u.a)("li",{parentName:"ul"},"Event bus"),Object(u.a)("li",{parentName:"ul"},"Message queue"),Object(u.a)("li",{parentName:"ul"},"Event-driven architecture")),Object(u.a)("p",null,"There are subtle differences between the different pattern implementations,\nbut the important learning outcomes are all the same.\nIn this question, you will build a Pub-Sub (publish-subscribe pattern) where publishers emit actions and subscribers listen for a specific action and execute a callback accordingly."),Object(u.a)("p",null,"We will implement the Pub-Sub as a class with ",Object(u.a)("inlineCode",{parentName:"p"},"subscribe"),", ",Object(u.a)("inlineCode",{parentName:"p"},"publish"),", ",Object(u.a)("inlineCode",{parentName:"p"},"unsubscribe")," methods.\nThey will communicate through an ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," channel which is just a string.\nIt should be built so that many ",Object(u.a)("inlineCode",{parentName:"p"},"subscribers")," can listen for the same event."),Object(u.a)(N.a,{src:"/images/pub-sub.png",mdxType:"Image"}),Object(u.a)(f,{mdxType:"PubSubShell"}),Object(u.a)("p",null,"Then to use it, we do the following:"),Object(u.a)(w,{mdxType:"PubSubExample"})))}C.isMDXComponent=!0;var S=t("jDXR"),E={};function T(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},E,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token function"},"subscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Initialize a channel if it doesn't exist yet"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token operator"},"!"),Object(u.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Array"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"isArray"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Add a callback to the channel"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"push"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"callback",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}T.isMDXComponent=!0;var I=Object(b.a)({},d.a.Javascript,c.createElement(T,null)),D=Object(j.a)(I,{default:d.a.Javascript,options:[d.a.Javascript]}),q=t("+FKO"),J=t("JanF"),P={};function X(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},P,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token function"},"publish"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," data"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Return if no callbacks have been subscribed to an event"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token operator"},"!"),Object(u.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Array"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"isArray"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"return"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Execute all the callbacks subscribed to an event"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Pass the callback the data from the event"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"forEach"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token function"},"callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"data",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}X.isMDXComponent=!0;var M=Object(b.a)({},d.a.Javascript,c.createElement(X,null)),A=(Object(j.a)(M,{default:d.a.Javascript,options:[d.a.Javascript]}),{});function F(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},A,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token function"},"unsubscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Array"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"isArray"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Keeps all the callbacks that aren't equal to the one we unsubscribe"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"filter"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"cb")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," cb ",Object(u.a)("span",{parentName:"code",className:"token operator"},"!==")," callback",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}F.isMDXComponent=!0;var _=Object(b.a)({},d.a.Javascript,c.createElement(F,null)),L=Object(j.a)(_,{default:d.a.Javascript,options:[d.a.Javascript]}),R={};function W(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},R,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token keyword"},"class")," ",Object(u.a)("span",{parentName:"code",className:"token class-name"},"PubSub")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"constructor"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"subscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Initialize a channel if it doesn't exist yet"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token operator"},"!"),Object(u.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Array"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"isArray"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Add a callback to the channel"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"push"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"callback",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"publish"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," data"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Return if no callbacks have been subscribed to an event"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token operator"},"!"),Object(u.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Array"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"isArray"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"return"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Execute all the callbacks subscribed to an event"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Pass the callback the data from the event"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"forEach"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(u.a)("span",{parentName:"code",className:"token function"},"callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"data",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token function"},"unsubscribe"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"eventName",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," callback"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Array"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"isArray"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Keeps all the callbacks that aren't equal to the one we unsubscribe"),"\n      ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"subscribers"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),"eventName",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"filter"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"cb")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," cb ",Object(u.a)("span",{parentName:"code",className:"token operator"},"!==")," callback",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}W.isMDXComponent=!0;var U=Object(b.a)({},d.a.Javascript,c.createElement(W,null)),z=Object(j.a)(U,{default:d.a.Javascript,options:[d.a.Javascript]}),H={};function K(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},H,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)("pre",{className:"language-javascript"},Object(u.a)("code",{parentName:"pre",className:"language-javascript"},Object(u.a)("span",{parentName:"code",className:"token comment"},"// type is equivalent to eventName"),"\n",Object(u.a)("span",{parentName:"code",className:"token comment"},"// payload is the event data"),"\n",Object(u.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(u.a)("span",{parentName:"code",className:"token function-variable function"},"buildAction")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"type",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," payload"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{")," type",Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," payload ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n\n",Object(u.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(u.a)("span",{parentName:"code",className:"token function-variable function"},"createStore")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"reducer",Object(u.a)("span",{parentName:"span",className:"token punctuation"},",")," initialState"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Track state of app inside an object"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"const")," store ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"state")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," initialState",Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Same as subscriptions"),"\n  store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"listeners")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Return the app's state"),"\n  store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method-variable function-variable method function property-access"},"getState")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"state"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Add a callback subscription"),"\n  store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method-variable function-variable method function property-access"},"subscribe")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token parameter"},"listener")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"listeners"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"push"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"listener",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Publish an action (same as an event)"),"\n  store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method-variable function-variable method function property-access"},"dispatch")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token parameter"},"action")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token string"},"'> Action'"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," action",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Pass the action to the reducer where it determines"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// how to handle the event based on the action.type"),"\n    store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"state")," ",Object(u.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(u.a)("span",{parentName:"code",className:"token function"},"reducer"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),"store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"state"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},",")," action",Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Execute all the subscriptions which will"),"\n    ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// update the UI based on the new state"),"\n    store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token property-access"},"listeners"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(u.a)("span",{parentName:"code",className:"token method function property-access"},"forEach"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token parameter"},"listener")," ",Object(u.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(u.a)("span",{parentName:"code",className:"token function"},"listener"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(u.a)("span",{parentName:"code",className:"token comment"},"// Returns a store object which holds state, publish, and subscribe functionality"),"\n  ",Object(u.a)("span",{parentName:"code",className:"token keyword"},"return")," store",Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(u.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(u.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n")))}K.isMDXComponent=!0;var V=Object(b.a)({},d.a.Javascript,c.createElement(K,null)),B=Object(j.a)(V,{default:d.a.Javascript,options:[d.a.Javascript]}),G={};function Q(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},G,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)(l.b,{mdxType:"Section"},Object(u.a)(S.a,{mdxType:"SubsectionHeader"},"Pub-Sub Implementation"),Object(u.a)("p",null,"Our Pub-Sub implementation will give us the ability to ",Object(u.a)("inlineCode",{parentName:"p"},"subscribe")," to an event, ",Object(u.a)("inlineCode",{parentName:"p"},"publish")," data to an event, and a place to store the subscribed callbacks.\nIn the constructor, we initialized a ",Object(u.a)("inlineCode",{parentName:"p"},"subscriptions")," object whose key-value pairs will be the event channel which maps to an array of event callbacks."),Object(u.a)("h3",null,Object(u.a)("inlineCode",{parentName:"h3"},"subscribe")," method"),Object(u.a)("p",null,"The first thing we should implement is the ",Object(u.a)("inlineCode",{parentName:"p"},"subscribe")," method.\nThe function takes an ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," which is a string, and a ",Object(u.a)("inlineCode",{parentName:"p"},"callback")," which is a function that executes with the data."),Object(u.a)(D,{mdxType:"SubscribeMethod"}),Object(u.a)("p",null,"First we check if an array of callbacks in ",Object(u.a)("inlineCode",{parentName:"p"},"subscribers")," already exists for the ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," channel, and if it doesn't exist, we initialize it now.\nThen we push the ",Object(u.a)("inlineCode",{parentName:"p"},"callback")," to this array which is a function that takes a single argument."),Object(u.a)("h3",null,Object(u.a)("inlineCode",{parentName:"h3"},"publish")," method"),Object(u.a)("p",null,"When we want to trigger an event, we ",Object(u.a)("inlineCode",{parentName:"p"},"publish")," under the ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," and pass it the ",Object(u.a)("inlineCode",{parentName:"p"},"data")," for that event.\nOur callbacks should take at most one argument, but it could take no arguments if it does not use the ",Object(u.a)("inlineCode",{parentName:"p"},"data"),"."),Object(u.a)("p",null,"In our case, the ",Object(u.a)("inlineCode",{parentName:"p"},"data")," can be anything, but you could enforce it to be something specific either in your Pub-Sub implementation or by the ",Object(u.a)("inlineCode",{parentName:"p"},"callback")," for a specific ",Object(u.a)("inlineCode",{parentName:"p"},"eventName"),"."),Object(u.a)("p",null,"When we ",Object(u.a)("inlineCode",{parentName:"p"},"publish")," an event, we first check that the ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," has been initialized and return early if it has not.\nIf it does exist, we iterate through all the ",Object(u.a)("inlineCode",{parentName:"p"},"subscribers")," for that ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," and execute their callbacks."),Object(u.a)(D,{mdxType:"SubscribeMethod"}),Object(u.a)("h3",null,Object(u.a)("inlineCode",{parentName:"h3"},"unsubscribe")," method"),Object(u.a)("p",null,"We want to allow our code to clean up a subscription and remove its listener.\nWe pass an ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," and the same ",Object(u.a)("inlineCode",{parentName:"p"},"callback")," from the ",Object(u.a)("inlineCode",{parentName:"p"},"subscribe")," method to remove it.\nThen the callback is filtered out of our ",Object(u.a)("inlineCode",{parentName:"p"},"subscribers")," for that channel."),Object(u.a)("blockquote",null,Object(u.a)("p",{parentName:"blockquote"},"Functions are stored in memory as ",Object(u.a)(q.a,{content:Object(u.a)(J.a,{mdxType:"PointersConcept"}),mdxType:"ConceptModal"},"pointers")," in JavaScript.\nYou must pass the exact same function you used originally which means you'll need to store it in a variable.\nSee how this is done in the solution REPL.")),Object(u.a)(L,{mdxType:"UnsubscribeMethod"}),Object(u.a)("h3",null,"Full Implementation"),Object(u.a)("p",null,"Interact with this solution in a ",Object(u.a)("a",{href:"https://repl.it/@TreyHuffine/PubSub-Implement-JavaScript#index.js",target:"_blank",rel:"noopener noreferrer"},"REPL"),"."),Object(u.a)(z,{mdxType:"PubSubSolution"})),Object(u.a)(l.b,{mdxType:"Section"},Object(u.a)(S.a,{mdxType:"SubsectionHeader"},"Wrap Up"),Object(u.a)("p",null,"The publish-subscribe pattern is actually simple to implement, but the usage is very powerful.\nThis is a common JavaScript interview question because it shows an understanding of an essential pattern\nand knowledge of fundamental JS concepts."),Object(u.a)("p",null,'One challenge developers have with a Pub-Sub is the terminology because it makes it sound much more challenging than it actually is.\nWhen we say a subscriber is "listening", all this means is that we have a hash table (object) that has an array of events for a given key.\nA subscriber adds its callback to this array, and the publisher just executes all the callback under that key when it "emits" the matching event.'),Object(u.a)("p",null,"If you have used Redux, what's happening underneath the hood is almost the exact same.\nThe only difference is that we are storing state inside our Pub-Sub, and the ",Object(u.a)("inlineCode",{parentName:"p"},"eventName")," (",Object(u.a)("inlineCode",{parentName:"p"},"action.type")," now)\nis passing the action to every reducer, and they decide if they should update a piece of state based on the action.\nBelow is a simple implementation with phrases changed to Redux terminology:"),Object(u.a)(B,{mdxType:"ReduxImplementation"}),Object(u.a)("p",null,"For larger system Pub-Subs, message queues, and observers, it requires more robust storage and communication channels,\nbut the fundamentals are still the exact same.\nMaintain channel names and a list of functions to execute.")))}Q.isMDXComponent=!0;var Z={};function Y(e){var a=e.components,t=Object(m.a)(e,["components"]);return Object(u.a)("wrapper",Object(n.a)({},Z,t,{components:a,mdxType:"MDXLayout"}),Object(u.a)(i.a,{introduction:Object(u.a)(C,{mdxType:"Introduction"}),solution:Object(u.a)(Q,{mdxType:"Solution"}),mdxType:"QuestionHiddenSolution"}))}Y.isMDXComponent=!0;var $=function(e){return c.createElement(p.a,Object(n.a)({},e,{Content:Y,video:r}))},ee=!0;a.default=Object(o.a)((function(e){return c.useEffect((function(){e.lesson&&"ACTIVE"===e.lesson.status||(window.location.href="/course")}),[e]),e.lesson&&"ACTIVE"===e.lesson.status?c.createElement(s.a,Object(n.a)({},e,{Component:$})):null}),{ssr:!1})},uqmq:function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return p})),t.d(a,"a",(function(){return r}));var n=t("vOnD"),c=t("gWsq"),s=t("SOUA"),o=Object(n.e)(c.h).withConfig({componentId:"sc-16wjbcj-0"})(["margin-top:","px;"],s.a),p=Object(n.e)(o).withConfig({componentId:"sc-16wjbcj-1"})(["display:flex;justify-content:center;align-items:center;"]),r=n.e.div.withConfig({componentId:"sc-16wjbcj-2"})(["margin-top:","px;"],s.a)}},[["IaxL",0,1,4,6,5,9,12,11,13,14,15,18,17,2,3,7,8,10,16,19,20,25]]]);