_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[58],{AgfK:function(e,a,n){"use strict";var t=n("q1tI"),c=n("tGWw");a.a=function(){return Object(t.useContext)(c.a)}},DsFX:function(e,a,n){"use strict";var t=n("q1tI"),c=n("mmnh"),o=n("F/Gw"),s=n("MFo5"),p=n("vOnD"),r=n("gWsq"),m=p.e.h2.withConfig({componentId:"sc-1qn1mt-0"})(["font-weight:600;"]),N=p.e.p.withConfig({componentId:"sc-1qn1mt-1"})(["margin-top:10px;"]),u=p.e.div.withConfig({componentId:"sc-1qn1mt-2"})(["margin-top:20px;width:100%;"]),i=p.e.a.withConfig({componentId:"sc-1qn1mt-3"})(["",";color:",";background-color:",";width:100%;font-weight:600;padding:1em;display:flex;align-items:center;justify-content:center;transition:background-color 0.2s ease;font-size:1em;&:hover{background-color:",";}"],r.s,(function(e){return e.theme.color.textPrimary}),(function(e){return e.theme.color.cta}),(function(e){return e.theme.color.ctaHover})),l=function(e){var a=e.isOpen,n=e.onClose;return t.createElement(c.a,{titleText:"Authentication modal",onExit:n,mounted:a,focusDialog:!0,verticallyCenter:!0,width:o.a.Medium},t.createElement(s.b,null,t.createElement(m,null,"\ud83d\udd25 Upgrade for Access"),t.createElement(N,null,"This lesson requires a Pro account. Upgrade now to get full course access and learn how to master the coding interview and land your next software engineering job."),t.createElement(u,null,t.createElement(i,{href:"/pricing?from=upgrade_modal"},"View Upgrade Options"))))};a.a=l},Jpar:function(e,a,n){"use strict";var t=n("q1tI"),c=n("iD9/");a.a=function(e,a){var n=function(e){return a?function(e,a){return a.options.includes(e)?e:a.default}(e,a):e},o=function(a){return e[n(a)||a]};return function(){return t.createElement(c.a,{code:o,getLanguageUsed:n})}}},JtRT:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/build-a-javascript-promise",function(){return n("XbuW")}])},N3Ux:function(e,a,n){"use strict";var t=n("wx14"),c=n("q1tI"),o=n("nOHt"),s=n("yFXI"),p=n("tU6S"),r=n("ODXe"),m=n("toes"),N=n("DsFX"),u=n("0WSZ"),i=n("uqmq"),l=n("vOnD"),d=n("gWsq"),b=l.e.div.withConfig({componentId:"sc-1x2q5r1-0"})([""]),j=l.e.div.withConfig({componentId:"sc-1x2q5r1-1"})(["display:none;"]),O=Object(l.e)(d.j).withConfig({componentId:"sc-1x2q5r1-2"})(["padding:16px 64px;"]),k=function(e){var a=e.introduction,n=e.solution,t=e.data,o=c.useState(!1),s=Object(r.a)(o,2),p=s[0],l=s[1],d=c.useState(!1),k=Object(r.a)(d,2),h=k[0],f=k[1],y=c.useState(!1),w=Object(r.a)(y,2),g=w[0],v=w[1],C=null===t||void 0===t?void 0:t.users_by_pk,x=null===t||void 0===t?void 0:t.lessons[0],T=c.useCallback((function(){Object(u.c)(x,C)?l(!0):C?v(!0):f(!0)}),[C,x]);return c.createElement(c.Fragment,null,c.createElement(b,null,c.createElement(c.Fragment,null,a),!p&&c.createElement(i.c,null,c.createElement(O,{hoverable:!0,onClick:T},"Show Solution")),p?c.createElement(c.Fragment,null,n):c.createElement(j,null,n)),c.createElement(m.a,{isOpen:h,onClose:function(){return f(!1)}}),c.createElement(N.a,{isOpen:g,onClose:function(){return v(!1)}}))};a.a=function(e){var a=c.useContext(s.a),n=Object(o.useRouter)().query.slug;if(a&&n){var r=Object(p.f)({variables:{slug:n,userId:a}}),m=r.data,N=r.loading,u=r.error;return c.createElement(k,Object(t.a)({loading:N,error:u,data:m},e))}return c.createElement(k,Object(t.a)({loading:!1},e))}},XbuW:function(e,a,n){"use strict";n.r(a),n.d(a,"__N_SSG",(function(){return ne}));var t=n("wx14"),c=n("q1tI"),o=n("NoRJ"),s=n("Qovc"),p=n("ekJs"),r={segments:[{name:"Introduction",startTimeSeconds:0,endTimeSeconds:79},{name:"Question Prompt",startTimeSeconds:79,endTimeSeconds:117},{name:"Solution Breakdown",startTimeSeconds:117,endTimeSeconds:928},{name:"Code Walkthrough",startTimeSeconds:928,endTimeSeconds:1451}]},m=n("Ff2n"),N=n("7ljp"),u=n("N3Ux"),i=n("93Pr"),l=n("rePB"),d=n("Utoj"),b=n("Jpar"),j={};function O(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},j,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"class")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"PromiseSimple")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"constructor"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(N.a)("span",{parentName:"code",className:"token spread operator"},"..."),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Should contain these two functions at minimum"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"fnOnResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(N.a)("span",{parentName:"code",className:"token spread operator"},"..."),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"catch"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"fnOnReject",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(N.a)("span",{parentName:"code",className:"token spread operator"},"..."),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// ...likely will have other helper functions"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"makeApiCall")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"PromiseSimple"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"resolve",Object(N.a)("span",{parentName:"span",className:"token punctuation"},",")," reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Perform async action..."),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," apiResponse ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"request"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token string"},"'/api'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"statusCode")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},">=")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"400"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token function"},"reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token function"},"resolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"data"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token function"},"makeApiCall"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"response"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token comment"},"/* do something with response */"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"response"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token comment"},"/* do something else with response */"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"response"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token comment"},"/* do one last thing with response */"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"catch"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"err"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token comment"},"/* handle error */"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n")))}O.isMDXComponent=!0;var k=Object(l.a)({},d.a.Javascript,c.createElement(O,null)),h=Object(b.a)(k,{default:d.a.Javascript,options:[d.a.Javascript]}),f={};function y(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},f,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)(i.b,{mdxType:"Section"},Object(N.a)("p",null,"Building a JavaScript ",Object(N.a)("inlineCode",{parentName:"p"},"Promise")," implementation has become an increasingly popular interview question.\nIt tests your understanding of asynchronous JS and promises at a fundamental level.\nIt also shows you can effectively build objects and implement powerful patterns like chaining."),Object(N.a)("p",null,"Asynchronous programming is a core concept in JavaScript and is a feature that gives JavaScript a lot of speed compared to other scripted programming languages.\nJavaScript is single-threaded which means it executes programs line-by-line.\nIt is also asynchronous which means that if our program execution reaches a block of code that must wait on a result, it will continue on past this block of code that is waiting so the program doesn't freeze execution, and once that async task finishes, our code will handle the result it was waiting for by using a promise or a callback."),Object(N.a)("p",null,"Since the release of ES2015, the most common way to handle the result of an async function call is through a ",Object(N.a)("inlineCode",{parentName:"p"},"Promise"),", but before that callbacks were used. Recently, the ",Object(N.a)("inlineCode",{parentName:"p"},"async"),"/",Object(N.a)("inlineCode",{parentName:"p"},"await")," syntax was added to JavaScript, but this is just an abstraction on top of promises, and we'll see how they compare at the end of the article."),Object(N.a)("p",null,"In this lesson, you will learn JavaScript promises by building a JavaScript promise implementation from scratch.\nYour promise will be declared exactly like they are in native JavaScript ",Object(N.a)("inlineCode",{parentName:"p"},"new Promise(...)"),", and it will be able to chain\xa0",Object(N.a)("inlineCode",{parentName:"p"},".then()")," and\xa0",Object(N.a)("inlineCode",{parentName:"p"},".catch()")," statements to handle the result of async code."),Object(N.a)("blockquote",null,Object(N.a)("p",{parentName:"blockquote"},"If the below problem prompt is confusing and seems too complex, don't worry because it will all make sense as you follow the solution.")),Object(N.a)("p",null,Object(N.a)("strong",{parentName:"p"},"Create a ",Object(N.a)("inlineCode",{parentName:"strong"},"class")," named ",Object(N.a)("inlineCode",{parentName:"strong"},"PromiseSimple")," that allows you to create an object to handle asynchronous actions using the ",Object(N.a)("inlineCode",{parentName:"strong"},"then")," and ",Object(N.a)("inlineCode",{parentName:"strong"},"catch")," keywords which should also be chainable."),"\n",Object(N.a)("strong",{parentName:"p"},"Your constructor will take a function as an argument that will ",Object(N.a)("inlineCode",{parentName:"strong"},"resolve")," or ",Object(N.a)("inlineCode",{parentName:"strong"},"reject")," the async function request ",Object(N.a)("inlineCode",{parentName:"strong"},"new PromiseSimple((resolve, reject) => {})")," which triggers the promise chain.")),Object(N.a)(h,{mdxType:"InputOutput"})))}y.isMDXComponent=!0;var w=n("jDXR"),g={};function v(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},g,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token function"},"fetch"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token string"},"'/user/1'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"user"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"/* Do something with the user data after the API returns */"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n")))}v.isMDXComponent=!0;var C=Object(l.a)({},d.a.Javascript,c.createElement(v,null)),x=Object(b.a)(C,{default:d.a.Javascript,options:[d.a.Javascript]}),T={};function E(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},T,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"typeof")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"Promise"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"resolve",Object(N.a)("span",{parentName:"span",className:"token punctuation"},",")," reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"===")," ",Object(N.a)("span",{parentName:"code",className:"token string"},"'object'")," ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// true"),"\n")))}E.isMDXComponent=!0;var S=Object(l.a)({},d.a.Javascript,c.createElement(E,null)),I=Object(b.a)(S,{default:d.a.Javascript,options:[d.a.Javascript]}),R={};function P(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},R,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"fetch")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"function"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"url"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"Promise"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"resolve",Object(N.a)("span",{parentName:"span",className:"token punctuation"},",")," reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token function"},"request"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"error",Object(N.a)("span",{parentName:"span",className:"token punctuation"},",")," apiResponse"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(N.a)("span",{parentName:"code",className:"token function"},"reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n      ",Object(N.a)("span",{parentName:"code",className:"token function"},"resolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}P.isMDXComponent=!0;var J=Object(l.a)({},d.a.Javascript,c.createElement(P,null)),q=Object(b.a)(J,{default:d.a.Javascript,options:[d.a.Javascript]}),D={};function X(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},D,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"class")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"PromiseSimple")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"constructor"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"executionFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method-variable function-variable method function property-access"},"handleError")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onResolve")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"onResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"bind"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onReject")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"bind"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token function"},"executionFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"handleSuccess"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"push"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"handleSuccess",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"catch"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"handleError",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"handleError")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," handleError",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"onResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"value"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"let")," storedValue ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," value",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"try")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"forEach"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"nextFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        storedValue ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"nextFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedValue",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"catch")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"error"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"handleError"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}X.isMDXComponent=!0;var A=Object(l.a)({},d.a.Javascript,c.createElement(X,null)),M=Object(b.a)(A,{default:d.a.Javascript,options:[d.a.Javascript]}),F={};function _(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},F,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"class")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"PromiseSimple")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"constructor"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"executionFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method-variable function-variable method function property-access"},"handleError")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onResolve")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"onResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"bind"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onReject")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"bind"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token function"},"executionFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"handleSuccess"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"push"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"handleSuccess",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"catch"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"handleError",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"handleError")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," handleError",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"onResolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"value"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"let")," storedValue ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," value",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"try")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"forEach"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"nextFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        storedValue ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"nextFunction"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedValue",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"catch")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"promiseChain")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"["),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"]"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"onReject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"error"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"this"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"handleError"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"fakeApiBackend")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," user ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    username",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token string"},"'treyhuffine'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n    favoriteNumber",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"42"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n    profile",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token string"},"'https://gitconnected.com/treyhuffine'"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Introduce a randomizer to simulate the the possibility of encountering an error"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token known-class-name class-name"},"Math"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"random"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},">")," ",Object(N.a)("span",{parentName:"code",className:"token number"},".05"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      data",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," user",Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n      statusCode",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"200"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," error ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      statusCode",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"404"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n      message",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token string"},"'Could not find user'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n      error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token string"},"'Not Found'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Assume this is your AJAX library."),"\n",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Almost all newer ones return a Promise object."),"\n",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"makeApiCall")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"PromiseSimple"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"resolve",Object(N.a)("span",{parentName:"span",className:"token punctuation"},",")," reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Use a timeout to simulate the network delay waiting for the response."),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// This is THE reason you use a promise."),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// It waits for the API to respond, and after received, it executes code in the `then()` blocks in order."),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// If it executed this immediately, there would be no data."),"\n    ",Object(N.a)("span",{parentName:"code",className:"token function"},"setTimeout"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," apiResponse ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"fakeApiBackend"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"statusCode")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},">=")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"400"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(N.a)("span",{parentName:"code",className:"token function"},"reject"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"else")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(N.a)("span",{parentName:"code",className:"token function"},"resolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"apiResponse",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"data"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n      ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"5000"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token function"},"makeApiCall"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"user"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token string"},"'In the first .then()'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," user",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"user"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token template-string"},Object(N.a)("span",{parentName:"span",className:"token template-punctuation string"},"`"),Object(N.a)("span",{parentName:"span",className:"token string"},"User "),Object(N.a)("span",{parentName:"span",className:"token interpolation"},Object(N.a)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"user",Object(N.a)("span",{parentName:"span",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"span",className:"token property-access"},"username"),Object(N.a)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(N.a)("span",{parentName:"span",className:"token string"},"'s favorite number is "),Object(N.a)("span",{parentName:"span",className:"token interpolation"},Object(N.a)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"user",Object(N.a)("span",{parentName:"span",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"span",className:"token property-access"},"favoriteNumber"),Object(N.a)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(N.a)("span",{parentName:"span",className:"token template-punctuation string"},"`")),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," user",Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"user"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token string"},"'The previous .then() told you the favoriteNumber'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," user",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"profile"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"profile"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token template-string"},Object(N.a)("span",{parentName:"span",className:"token template-punctuation string"},"`"),Object(N.a)("span",{parentName:"span",className:"token string"},"The profile URL is "),Object(N.a)("span",{parentName:"span",className:"token interpolation"},Object(N.a)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"${"),"profile",Object(N.a)("span",{parentName:"span",className:"token interpolation-punctuation punctuation"},"}")),Object(N.a)("span",{parentName:"span",className:"token template-punctuation string"},"`")),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token string"},"'This is the last then()'"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"catch"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"error"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"error",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token property-access"},"message"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n")))}_.isMDXComponent=!0;var L=Object(l.a)({},d.a.Javascript,c.createElement(_,null)),W=Object(b.a)(L,{default:d.a.Javascript,options:[d.a.Javascript]}),U={};function V(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},U,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"apiRequest")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"async")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// do some async things for an unknown amount of time..."),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{")," answer",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"42")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"run")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"async")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," response ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"await")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"apiRequest"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"response",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}V.isMDXComponent=!0;var B=Object(l.a)({},d.a.Javascript,c.createElement(V,null)),H=Object(b.a)(B,{default:d.a.Javascript,options:[d.a.Javascript]}),z={};function Y(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},z,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)("pre",{className:"language-javascript"},Object(N.a)("code",{parentName:"pre",className:"language-javascript"},Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"apiRequest")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"new")," ",Object(N.a)("span",{parentName:"code",className:"token class-name"},"Promise"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"resolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token comment"},"// do some async things for an unknown amount of time..."),"\n    ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"return")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"resolve"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{")," answer",Object(N.a)("span",{parentName:"code",className:"token punctuation"},":")," ",Object(N.a)("span",{parentName:"code",className:"token number"},"42")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"run")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token function"},"apiRequest"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"then"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token parameter"},"response"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"response",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",Object(N.a)("span",{parentName:"code",className:"token comment"},"// Since it's all just promises, you can mix and match with async/await"),"\n",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(N.a)("span",{parentName:"code",className:"token function-variable function"},"runAsAsyncAwait")," ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"async")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(N.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"const")," response ",Object(N.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(N.a)("span",{parentName:"code",className:"token keyword"},"await")," ",Object(N.a)("span",{parentName:"code",className:"token function"},"apiRequest"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(N.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(N.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},"("),"response",Object(N.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(N.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(N.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}Y.isMDXComponent=!0;var G=Object(l.a)({},d.a.Javascript,c.createElement(Y,null)),Q=Object(b.a)(G,{default:d.a.Javascript,options:[d.a.Javascript]}),$={};function K(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},$,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)(i.b,{mdxType:"Section"},Object(N.a)(w.a,{mdxType:"SubsectionHeader"},"Implement a Promise"),Object(N.a)("p",null,Object(N.a)("strong",{parentName:"p"},"NOTE:")," If you want to see our promise implementation working with a real API request, check out the ",Object(N.a)("a",{href:"https://repl.it/@TreyHuffine/Build-a-Promise-Video#index.js",target:"_blank",rel:"noopener noreferrer"},"REPL")," from the solution video."),Object(N.a)("p",null,"The JavaScript promise example we are building is meant to help you understand the fundamentals of promises and asynchronous thinking \u2014 it is not intended to show the most optimized version of a promise.\nI will first describe promises for beginners and then dive into our own promise implementation so we can understand it from the ground up."),Object(N.a)("p",null,"You've probably seen something like this before:"),Object(N.a)(x,{mdxType:"FetchExample"}),Object(N.a)("p",null,"The block of code in the\xa0",Object(N.a)("inlineCode",{parentName:"p"},".then()")," waits until it receives the response from the server before it executes anything.\nThis is called a ",Object(N.a)("inlineCode",{parentName:"p"},"Promise"),".\nBut don't let the fancy name or the fact that there is asynchronous code intimidate you \u2014 ",Object(N.a)("strong",{parentName:"p"},"a ",Object(N.a)("inlineCode",{parentName:"strong"},"Promise")," is just a plain old JavaScript object"),"\ncontaining methods that allow you to execute code to handle the response in-order after the promise resolves."),Object(N.a)(I,{mdxType:"TypeOfPromise"}),Object(N.a)("p",null,"Let me reiterate (because this is something that was difficult for me to grasp when I first learned promises), a ",Object(N.a)("inlineCode",{parentName:"p"},"Promise")," is just an object."),Object(N.a)("p",null,"To be able to wait on the server's response and execute the code in the\xa0",Object(N.a)("inlineCode",{parentName:"p"},".then()")," chain after the response, you MUST ",Object(N.a)("inlineCode",{parentName:"p"},"return")," a ",Object(N.a)("inlineCode",{parentName:"p"},"Promise")," object.\nThis is not something functions get out of the box.\nBehind the scenes, the ",Object(N.a)("inlineCode",{parentName:"p"},"fetch")," function is doing something like this."),Object(N.a)(q,{mdxType:"FetchBehindScenes"}),Object(N.a)("p",null,"The ",Object(N.a)("inlineCode",{parentName:"p"},"fetch()")," function makes an http request to the server, but the client doesn't know when the server will send back the results.\nSo JavaScript begins executing other unrelated code while waiting on the server to return with the response.\nOnce the client receives the response, it triggers the execution of the code in the\xa0",Object(N.a)("inlineCode",{parentName:"p"},".then()")," statements by calling ",Object(N.a)("inlineCode",{parentName:"p"},"resolve(apiResponse)"),"."),Object(N.a)("p",null,"Now let's take a closer look at how the ",Object(N.a)("inlineCode",{parentName:"p"},"Promise")," actually allows you to do this."),Object(N.a)(M,{mdxType:"PromiseImplementation"}),Object(N.a)("blockquote",null,Object(N.a)("p",{parentName:"blockquote"},"NOTE: This version of a Promise is for educational purposes only. I've left out some of the more advanced features and distilled it to its core functionality.")),Object(N.a)("p",null,"I've named it ",Object(N.a)("inlineCode",{parentName:"p"},"PromiseSimple")," so it won't clash with the native ",Object(N.a)("inlineCode",{parentName:"p"},"Promise")," in case you want to copy and paste it into your Chrome console.\nOur promise implementation has a ",Object(N.a)("inlineCode",{parentName:"p"},"constructor"),", 2 public methods that you may be familiar with ",Object(N.a)("inlineCode",{parentName:"p"},"then()")," and ",Object(N.a)("inlineCode",{parentName:"p"},"catch()"),", and 2 internal methods ",Object(N.a)("inlineCode",{parentName:"p"},"onResolve()")," and ",Object(N.a)("inlineCode",{parentName:"p"},"onReject()"),"."),Object(N.a)("p",null,"When you create a promise, you do so like this ",Object(N.a)("inlineCode",{parentName:"p"},"new Promise((resolve, reject) => {/*\xa0... */})"),".\nYou pass it a callback function which I've named ",Object(N.a)("inlineCode",{parentName:"p"},"executionFunction")," in the ",Object(N.a)("inlineCode",{parentName:"p"},"constructor"),".\nThe execution function takes a ",Object(N.a)("inlineCode",{parentName:"p"},"resolve")," and ",Object(N.a)("inlineCode",{parentName:"p"},"reject")," which map to the internal ",Object(N.a)("inlineCode",{parentName:"p"},"onResolve()")," and ",Object(N.a)("inlineCode",{parentName:"p"},"onReject()")," function."),Object(N.a)("p",null,"The constructor also creates a ",Object(N.a)("inlineCode",{parentName:"p"},"promiseChain")," array and ",Object(N.a)("inlineCode",{parentName:"p"},"handleError")," function.\nWhen a series of\xa0",Object(N.a)("inlineCode",{parentName:"p"},".then(() => {})")," are added by the developer, it pushes each ",Object(N.a)("inlineCode",{parentName:"p"},"handleSuccess")," function onto the ",Object(N.a)("inlineCode",{parentName:"p"},"promiseChain"),"."),Object(N.a)("p",null,"When a developer calls ",Object(N.a)("inlineCode",{parentName:"p"},"catch(() => {})"),", it assigns the function to the internal ",Object(N.a)("inlineCode",{parentName:"p"},"handleError"),"."),Object(N.a)("p",null,"Notice that the ",Object(N.a)("inlineCode",{parentName:"p"},"then()")," and ",Object(N.a)("inlineCode",{parentName:"p"},"catch()")," function ",Object(N.a)("inlineCode",{parentName:"p"},"return this;"),".\nThis allows you to chain multiple ",Object(N.a)("inlineCode",{parentName:"p"},"then()"),"'s since you are returning the object itself."),Object(N.a)("blockquote",null,Object(N.a)("p",{parentName:"blockquote"},"NOTE: In the native ",Object(N.a)("inlineCode",{parentName:"p"},"Promise"),", these ",Object(N.a)("inlineCode",{parentName:"p"},"then()")," and ",Object(N.a)("inlineCode",{parentName:"p"},"catch()")," functions actually return a ",Object(N.a)("inlineCode",{parentName:"p"},"new Promise")," themselves,\nbut for this simple scenario, I've only returned ",Object(N.a)("inlineCode",{parentName:"p"},"this"),".\nIn addition, there can be multiple\xa0",Object(N.a)("inlineCode",{parentName:"p"},".catch()")," blocks, and they can be chained as well and aren't required to come at the end of the\xa0",Object(N.a)("inlineCode",{parentName:"p"},".then()")," chain.")),Object(N.a)("p",null,"When your asynchronous function calls ",Object(N.a)("inlineCode",{parentName:"p"},"resolve(apiResponse)"),", the promise object then begins executing ",Object(N.a)("inlineCode",{parentName:"p"},"onResolve(apiResponse)"),".\nIt iterates through the entire ",Object(N.a)("inlineCode",{parentName:"p"},"promiseChain")," by removing the function at the front and executes it with the most recent value saved in ",Object(N.a)("inlineCode",{parentName:"p"},"storedValue"),".\nIt then updates ",Object(N.a)("inlineCode",{parentName:"p"},"storedValue")," to the result of the most recent execution.\nIt will execute these functions in order.\nThis creates the synchronous promise chain."),Object(N.a)("p",null,"This loop is wrapped in a ",Object(N.a)("inlineCode",{parentName:"p"},"try"),"/",Object(N.a)("inlineCode",{parentName:"p"},"catch")," block.\nThis is special syntax that looks for errors.\nIf your asynchronous function calls ",Object(N.a)("inlineCode",{parentName:"p"},"reject(error)")," or your ",Object(N.a)("inlineCode",{parentName:"p"},"try"),"/",Object(N.a)("inlineCode",{parentName:"p"},"catch")," recognizes an error, it will then be passed to the ",Object(N.a)("inlineCode",{parentName:"p"},"onReject()")," method which calls the function that you passed to\xa0",Object(N.a)("inlineCode",{parentName:"p"},".catch()"),"."),Object(N.a)("p",null,Object(N.a)("strong",{parentName:"p"},"NOTE:")," If you want to see our promise implementation working with a real API request, check out the ",Object(N.a)("a",{href:"https://repl.it/@TreyHuffine/Build-a-Promise-Video#index.js",target:"_blank",rel:"noopener noreferrer"},"REPL")," from the solution video."),Object(N.a)("p",null,"Putting it all together with a more practical example:"),Object(N.a)(W,{mdxType:"PromiseExecution"})),Object(N.a)(i.b,{mdxType:"Section"},Object(N.a)(w.a,{mdxType:"SubsectionHeader"},"async/await"),Object(N.a)("p",null,"The ",Object(N.a)("inlineCode",{parentName:"p"},"async"),"/",Object(N.a)("inlineCode",{parentName:"p"},"await")," syntax is just a wrapper around promises.\nIf you mark a function as ",Object(N.a)("inlineCode",{parentName:"p"},"async"),", it just converts the return response to a promise."),Object(N.a)(H,{mdxType:"AsyncAwaitExample"}),Object(N.a)("p",null,"This is the equivalent of doing the following:"),Object(N.a)(Q,{mdxType:"AsyncAwaitWithPromise"})))}K.isMDXComponent=!0;var Z={};function ee(e){var a=e.components,n=Object(m.a)(e,["components"]);return Object(N.a)("wrapper",Object(t.a)({},Z,n,{components:a,mdxType:"MDXLayout"}),Object(N.a)(u.a,{introduction:Object(N.a)(y,{mdxType:"Introduction"}),solution:Object(N.a)(K,{mdxType:"Solution"}),mdxType:"QuestionHiddenSolution"}))}ee.isMDXComponent=!0;var ae=function(e){return c.createElement(p.a,Object(t.a)({},e,{Content:ee,video:r}))},ne=!0;a.default=Object(s.a)((function(e){return c.useEffect((function(){e.lesson&&"ACTIVE"===e.lesson.status||(window.location.href="/course")}),[e]),e.lesson&&"ACTIVE"===e.lesson.status?c.createElement(o.a,Object(t.a)({},e,{Component:ae})):null}),{ssr:!1})},"iD9/":function(e,a,n){"use strict";var t=n("q1tI"),c=n("gWsq"),o=n("AgfK"),s=function(e){var a=e.code,n=Object(o.a)().language;return t.createElement(c.h,null,a(n))};a.a=s},jDXR:function(e,a,n){"use strict";var t=n("q1tI"),c=function(e){var a=e.children;return t.createElement("h2",null,a)};a.a=c},uqmq:function(e,a,n){"use strict";n.d(a,"b",(function(){return s})),n.d(a,"c",(function(){return p})),n.d(a,"a",(function(){return r}));var t=n("vOnD"),c=n("gWsq"),o=n("SOUA"),s=Object(t.e)(c.h).withConfig({componentId:"sc-16wjbcj-0"})(["margin-top:","px;"],o.a),p=Object(t.e)(s).withConfig({componentId:"sc-16wjbcj-1"})(["display:flex;justify-content:center;align-items:center;"]),r=t.e.div.withConfig({componentId:"sc-16wjbcj-2"})(["margin-top:","px;"],o.a)}},[["JtRT",0,1,4,6,5,9,12,11,13,14,15,18,17,2,3,7,8,10,16,19,20]]]);