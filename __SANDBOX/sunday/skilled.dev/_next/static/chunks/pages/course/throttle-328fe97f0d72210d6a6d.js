_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[111],{"/SEJ":function(e,a,t){"use strict";t.r(a),t.d(a,"__N_SSG",(function(){return z}));var n=t("wx14"),o=t("q1tI"),c=t("NoRJ"),s=t("Qovc"),r=t("ekJs"),l={segments:[{name:"Introduction",startTimeSeconds:0,endTimeSeconds:9},{name:"Overview of a Throttle",startTimeSeconds:9,endTimeSeconds:63},{name:"Question Prompt",startTimeSeconds:63,endTimeSeconds:122},{name:"Solution Breakdown",startTimeSeconds:122,endTimeSeconds:506},{name:"Code Walkthrough",startTimeSeconds:506,endTimeSeconds:755}]},p=t("Ff2n"),m=t("7ljp"),i=t("N3Ux"),u=t("YFqc"),d=t.n(u),N=t("jkan"),b=t("jDXR"),j=t("93Pr"),O=t("uk0T"),h=t("rePB"),k=t("Utoj"),v=t("Jpar"),f={};function w(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},f,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)("pre",{className:"language-javascript"},Object(m.a)("code",{parentName:"pre",className:"language-javascript"},Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(m.a)("span",{parentName:"code",className:"token constant"},"WAIT_TIME")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token number"},"5000"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";")," ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// 5 seconds"),"\n",Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," throttledEventListiner ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token function"},"throttle"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token console class-name"},"console"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(m.a)("span",{parentName:"code",className:"token method function property-access"},"log"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token string"},"'I executed'"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(m.a)("span",{parentName:"code",className:"token constant"},"WAIT_TIME"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(m.a)("span",{parentName:"code",className:"token comment"},"// time = 0"),"\n",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventListiner"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(m.a)("span",{parentName:"code",className:"token comment"},"// wait 2 seconds (time = 2)"),"\n",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventListiner"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(m.a)("span",{parentName:"code",className:"token comment"},"// wait 2 seconds (time = 4)"),"\n",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventListiner"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(m.a)("span",{parentName:"code",className:"token comment"},"// wait 2 seconds (time = 6)"),"\n",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventListiner"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(m.a)("span",{parentName:"code",className:"token comment"},"// wait 2 seconds (time = 8)"),"\n",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventListiner"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Executes every 5 seconds even though it's been called more times"),"\nexecutes callback at     ",Object(m.a)("span",{parentName:"code",className:"token operator"},"|"),"     ",Object(m.a)("span",{parentName:"code",className:"token operator"},"|"),"     ",Object(m.a)("span",{parentName:"code",className:"token operator"},"|"),"\ntime                     ",Object(m.a)("span",{parentName:"code",className:"token number"},"0"),"     ",Object(m.a)("span",{parentName:"code",className:"token number"},"5"),"     ",Object(m.a)("span",{parentName:"code",className:"token number"},"10"),"\n")))}w.isMDXComponent=!0;var y=Object(h.a)({},k.a.Javascript,o.createElement(w,null)),g=Object(v.a)(y,{default:k.a.Javascript,options:[k.a.Javascript]}),E={};function x(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},E,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)(j.b,{mdxType:"Section"},Object(m.a)("p",null,"A throttle is a common technique used in the browser to improve an application's performance by limiting the number of events your code needs to handle.\nYou should use a throttle when you want to execute a callback at a controlled rate, allowing you to handle intermediate states repeatedly at each fixed interval of time."),Object(m.a)(N.a,{src:"/images/throttle-scrolling.gif",mdxType:"Image"}),Object(m.a)("p",null,"On the left, side we have normal events that aren't throttled and the event handler is executed each moment the page is scrolled.\nOn the right, we have a throttled event handler and will only execute the function once every 1 second."),Object(m.a)("p",null,"Implementing a throttle from scratch is a common interview question.\nIt tests your understanding of intermediate and advanced JavaScript concepts such as async programming, callbacks, scope, and closures.\nIt is also a practical solution used in real-world applications to improve performance and demonstrates that you understand the tools to write good code for real users."),Object(m.a)("p",null,"A throttle is a cousin of the ",Object(m.a)(d.a,{href:"/".concat(O.b.Course,"/debounce"),passHref:!0,mdxType:"Link"},Object(m.a)("a",null,"debounce")),", and they both improve the performance of web applications.\nHowever, they are used in different cases.\nA debounce is utilized when you only care about the final state.\nFor example, waiting until a user stops typing to fetch typeahead search results.\nA throttle is best used when you want to handle all intermediate states but at a controlled rate.\nFor example, track the screen width as a user resizes the window and rearrange page content while it changes instead of waiting until the user has finished."),Object(m.a)("p",null,Object(m.a)("strong",{parentName:"p"},"Write a function ",Object(m.a)("inlineCode",{parentName:"strong"},"throttle")," that takes a callback function and a ",Object(m.a)("inlineCode",{parentName:"strong"},"delay")," time and limits the callback from executing to once for each window of ",Object(m.a)("inlineCode",{parentName:"strong"},"delay")," milliseconds.")),Object(m.a)("p",null,"If the function is executed multiple times, ",Object(m.a)("inlineCode",{parentName:"p"},"throttle")," should handle it every ",Object(m.a)("inlineCode",{parentName:"p"},"delay")," milliseconds in evenly spaced increments.\nYou only care about the most recent event and should ignore any previous ones if a new value comes in."),Object(m.a)(g,{mdxType:"InputOutput"})))}x.isMDXComponent=!0;var T={};function C(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},T,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)("pre",{className:"language-javascript"},Object(m.a)("code",{parentName:"pre",className:"language-javascript"},Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(m.a)("span",{parentName:"code",className:"token function-variable function"},"throttle")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token parameter"},"callback",Object(m.a)("span",{parentName:"span",className:"token punctuation"},",")," delay"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"let")," throttleTimeout ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"let")," storedEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(m.a)("span",{parentName:"code",className:"token function-variable function"},"throttledEventHandler")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token parameter"},"event")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    storedEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," event",Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," shouldHandleEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"!"),"throttleTimeout",Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"shouldHandleEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(m.a)("span",{parentName:"code",className:"token function"},"callback"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      storedEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      throttleTimeout ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token function"},"setTimeout"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        throttleTimeout ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n          ",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventHandler"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n      ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},",")," delay",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"return")," throttledEventHandler",Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n")))}C.isMDXComponent=!0;var I=Object(h.a)({},k.a.Javascript,o.createElement(C,null)),S=Object(v.a)(I,{default:k.a.Javascript,options:[k.a.Javascript]}),q={};function D(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},q,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)("pre",{className:"language-javascript"},Object(m.a)("code",{parentName:"pre",className:"language-javascript"},Object(m.a)("span",{parentName:"code",className:"token keyword"},"var")," returnedFunction ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token function"},"throttle"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token keyword"},"function"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Do all the taxing stuff and API requests"),"\n",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},",")," ",Object(m.a)("span",{parentName:"code",className:"token number"},"500"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",Object(m.a)("span",{parentName:"code",className:"token dom variable"},"window"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"."),Object(m.a)("span",{parentName:"code",className:"token method function property-access"},"addEventListener"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token string"},"'scroll'"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},",")," returnedFunction",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n")))}D.isMDXComponent=!0;var H=Object(h.a)({},k.a.Javascript,o.createElement(D,null)),J=Object(v.a)(H,{default:k.a.Javascript,options:[k.a.Javascript]}),X={};function _(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},X,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)("pre",{className:"language-javascript"},Object(m.a)("code",{parentName:"pre",className:"language-javascript"},Object(m.a)("span",{parentName:"code",className:"token comment"},"// Pass in the callback that we want to throttle and the delay between throttled events"),"\n",Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(m.a)("span",{parentName:"code",className:"token function-variable function"},"throttle")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token parameter"},"callback",Object(m.a)("span",{parentName:"span",className:"token punctuation"},",")," delay"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Create a closure around these variables."),"\n  ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// They will be shared among all events handled by the throttle."),"\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"let")," throttleTimeout ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"let")," storedEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// This is the function that will handle events and throttle callbacks when the throttle is active."),"\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," ",Object(m.a)("span",{parentName:"code",className:"token function-variable function"},"throttledEventHandler")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token parameter"},"event")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Update the stored event every iteration"),"\n    storedEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," event",Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// We execute the callback with our event if our throttle is not active"),"\n    ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"const")," shouldHandleEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token operator"},"!"),"throttleTimeout",Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n    ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// If there isn't a throttle active, we execute the callback and create a new throttle."),"\n    ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"shouldHandleEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Handle our event"),"\n      ",Object(m.a)("span",{parentName:"code",className:"token function"},"callback"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Since we have used our stored event, we null it out."),"\n      storedEvent ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n      ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Create a new throttle by setting a timeout to prevent handling events during the delay."),"\n      ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Once the timeout finishes, we execute our throttle if we have a stored event."),"\n      throttleTimeout ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token function"},"setTimeout"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// We immediately null out the throttleTimeout since the throttle time has expired."),"\n        throttleTimeout ",Object(m.a)("span",{parentName:"code",className:"token operator"},"=")," ",Object(m.a)("span",{parentName:"code",className:"token keyword null nil"},"null"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n        ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// If we have a stored event, recursively call this function."),"\n        ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// The recursion is what allows us to run continusously while events are present."),"\n        ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// If events stop coming in, our throttle will end."),"\n        ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// It will then execute immediately if a new event ever comes."),"\n        ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"if")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")")," ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"{"),"\n          ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Since our timeout finishes:"),"\n          ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// 1. This recursive call will execute `callback` immediately since throttleTimeout is now null"),"\n          ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// 2. It will restart the throttle timer, allowing us to repeat the throttle process"),"\n          ",Object(m.a)("span",{parentName:"code",className:"token function"},"throttledEventHandler"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},"("),"storedEvent",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n        ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n      ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},",")," delay",Object(m.a)("span",{parentName:"code",className:"token punctuation"},")"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n  ",Object(m.a)("span",{parentName:"code",className:"token comment"},"// Return our throttled event handler as a closure"),"\n  ",Object(m.a)("span",{parentName:"code",className:"token keyword"},"return")," throttledEventHandler",Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n",Object(m.a)("span",{parentName:"code",className:"token punctuation"},"}"),Object(m.a)("span",{parentName:"code",className:"token punctuation"},";"),"\n")))}_.isMDXComponent=!0;var A=Object(h.a)({},k.a.Javascript,o.createElement(_,null)),W=Object(v.a)(A,{default:k.a.Javascript,options:[k.a.Javascript]}),M={};function L(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},M,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)(j.b,{mdxType:"Section"},Object(m.a)(b.a,{mdxType:"SubsectionHeader"},"Throttling in the Context of Web Development"),Object(m.a)("p",null,"Imagine you have a scroll event handler where you want to display new content to a user as they move down the page. If we executed the callback every time the user scrolls a single pixel, we would quickly get clogged with events if they rapidly scroll because it would send hundreds or thousands of events in quick succession. Instead, we throttle it so that we only check the distance scrolled every 100ms so that we're getting only 10 callbacks per second. The response will still feel instantaneous to the user but be much more efficient computationally."),Object(m.a)("p",null,"A throttle creates evenly-spaced function calls. Imagine if you were performing some heavy calculation or an API request in the event handler callback function. By throttling these callbacks, you prevent the app from freezing or unnecessarily hammering your server with requests.")),Object(m.a)(j.b,{mdxType:"Section"},Object(m.a)(b.a,{mdxType:"SubsectionHeader"},"Throttle Implementation in JavaScript"),Object(m.a)("p",null,"Let's immediately jump into the code for a throttle. I'll describe it below and then also provide a commented version of the function."),Object(m.a)(S,{mdxType:"ThrottleSolution"}),Object(m.a)("p",null,"A throttle is a higher-order function, which is a function that returns another function (named ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," here for clarity).\nThis is done to form a closure around the ",Object(m.a)("inlineCode",{parentName:"p"},"callback"),", ",Object(m.a)("inlineCode",{parentName:"p"},"delay"),", ",Object(m.a)("inlineCode",{parentName:"p"},"throttleTimeout"),", and ",Object(m.a)("inlineCode",{parentName:"p"},"storedEvent")," function parameters.\nThis preserves the values of each variable to be read when ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," is executed.\nThe following is a definition of each variable:"),Object(m.a)("ul",null,Object(m.a)("li",{parentName:"ul"},Object(m.a)("inlineCode",{parentName:"li"},"callback"),": The throttled function that you want to execute at a given rate."),Object(m.a)("li",{parentName:"ul"},Object(m.a)("inlineCode",{parentName:"li"},"delay"),": The amount of time you want the throttle function to wait between executions of the ",Object(m.a)("inlineCode",{parentName:"li"},"callback"),"."),Object(m.a)("li",{parentName:"ul"},Object(m.a)("inlineCode",{parentName:"li"},"throttleTimeout"),": The value used to indicate a running throttle created by our ",Object(m.a)("inlineCode",{parentName:"li"},"setTimeout"),"."),Object(m.a)("li",{parentName:"ul"},Object(m.a)("inlineCode",{parentName:"li"},"storedEvent"),": The event that you want to handle with the throttled ",Object(m.a)("inlineCode",{parentName:"li"},"callback"),". This value will continually be updated until the throttle ends. Then it will execute ",Object(m.a)("inlineCode",{parentName:"li"},"callback")," with the most recent value.")),Object(m.a)("p",null,"We can use our throttle as in the following code:"),Object(m.a)(J,{mdxType:"ThrottleUsage"}),Object(m.a)("p",null,"Since a throttle returns a function, the ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," from the first example and the ",Object(m.a)("inlineCode",{parentName:"p"},"returnedFunction")," function from the second example are actually the same function. Every time a user scrolls, it will execute ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler"),"/",Object(m.a)("inlineCode",{parentName:"p"},"returnedFunction"),"."),Object(m.a)("p",null,"Let's step through what happens when we throttle a function. First we create a closure around variables so they will be available to ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," on every execution. ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," receives 1 argument which is the event. It stores this event in the ",Object(m.a)("inlineCode",{parentName:"p"},"storedEvent")," variable."),Object(m.a)("p",null,"Then we check if we have a timeout running (ie. an active throttle). If we do have a throttle, then ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," has completed this execution and waits to execute the callback. If the throttle is not active, we are able to immediately handle the event with our callback function. We then call ",Object(m.a)("inlineCode",{parentName:"p"},"setTimeout")," and store the timeout value which indicates our throttle is running."),Object(m.a)("p",null,"While the timeout is active, the most recent event is always stored. The callback execution is bypassed which saves us from performing CPU intensive tasks or calling our API."),Object(m.a)("p",null,"When the ",Object(m.a)("inlineCode",{parentName:"p"},"setTimeout")," finishes, we null out the ",Object(m.a)("inlineCode",{parentName:"p"},"throttleTimeout")," indicating that the function is no longer throttled and can handle events. If there is a ",Object(m.a)("inlineCode",{parentName:"p"},"storedEvent"),", we want to handle it immediately, and to do this we call ",Object(m.a)("inlineCode",{parentName:"p"},"throttledEventHandler")," recursively. The recursive call inside the ",Object(m.a)("inlineCode",{parentName:"p"},"setTimeout")," is what allows us to handle events at a constant rate. It will repeatedly execute the same process after a desired delay as long as new events continue to come in."),Object(m.a)("p",null,"See a throttle in action and play around with it in this ",Object(m.a)("a",{href:"https://codepen.io/treyhuffine/pen/mdyBEvM",target:"_blank",rel:"noopener noreferrer"},"Codepen"),"."),Object(m.a)("p",null,"A commented version of the function as well:"),Object(m.a)(W,{mdxType:"ThrottleSolutionCommented"})))}L.isMDXComponent=!0;var F={};function P(e){var a=e.components,t=Object(p.a)(e,["components"]);return Object(m.a)("wrapper",Object(n.a)({},F,t,{components:a,mdxType:"MDXLayout"}),Object(m.a)(i.a,{introduction:Object(m.a)(x,{mdxType:"Introduction"}),solution:Object(m.a)(L,{mdxType:"Solution"}),mdxType:"QuestionHiddenSolution"}))}P.isMDXComponent=!0;var U=function(e){return o.createElement(r.a,Object(n.a)({},e,{Content:P,video:l}))},z=!0;a.default=Object(s.a)((function(e){return o.useEffect((function(){e.lesson&&"ACTIVE"===e.lesson.status||(window.location.href="/course")}),[e]),e.lesson&&"ACTIVE"===e.lesson.status?o.createElement(c.a,Object(n.a)({},e,{Component:U})):null}),{ssr:!1})},AgfK:function(e,a,t){"use strict";var n=t("q1tI"),o=t("tGWw");a.a=function(){return Object(n.useContext)(o.a)}},DsFX:function(e,a,t){"use strict";var n=t("q1tI"),o=t("mmnh"),c=t("F/Gw"),s=t("MFo5"),r=t("vOnD"),l=t("gWsq"),p=r.e.h2.withConfig({componentId:"sc-1qn1mt-0"})(["font-weight:600;"]),m=r.e.p.withConfig({componentId:"sc-1qn1mt-1"})(["margin-top:10px;"]),i=r.e.div.withConfig({componentId:"sc-1qn1mt-2"})(["margin-top:20px;width:100%;"]),u=r.e.a.withConfig({componentId:"sc-1qn1mt-3"})(["",";color:",";background-color:",";width:100%;font-weight:600;padding:1em;display:flex;align-items:center;justify-content:center;transition:background-color 0.2s ease;font-size:1em;&:hover{background-color:",";}"],l.s,(function(e){return e.theme.color.textPrimary}),(function(e){return e.theme.color.cta}),(function(e){return e.theme.color.ctaHover})),d=function(e){var a=e.isOpen,t=e.onClose;return n.createElement(o.a,{titleText:"Authentication modal",onExit:t,mounted:a,focusDialog:!0,verticallyCenter:!0,width:c.a.Medium},n.createElement(s.b,null,n.createElement(p,null,"\ud83d\udd25 Upgrade for Access"),n.createElement(m,null,"This lesson requires a Pro account. Upgrade now to get full course access and learn how to master the coding interview and land your next software engineering job."),n.createElement(i,null,n.createElement(u,{href:"/pricing?from=upgrade_modal"},"View Upgrade Options"))))};a.a=d},Jpar:function(e,a,t){"use strict";var n=t("q1tI"),o=t("iD9/");a.a=function(e,a){var t=function(e){return a?function(e,a){return a.options.includes(e)?e:a.default}(e,a):e},c=function(a){return e[t(a)||a]};return function(){return n.createElement(o.a,{code:c,getLanguageUsed:t})}}},N3Ux:function(e,a,t){"use strict";var n=t("wx14"),o=t("q1tI"),c=t("nOHt"),s=t("yFXI"),r=t("tU6S"),l=t("ODXe"),p=t("toes"),m=t("DsFX"),i=t("0WSZ"),u=t("uqmq"),d=t("vOnD"),N=t("gWsq"),b=d.e.div.withConfig({componentId:"sc-1x2q5r1-0"})([""]),j=d.e.div.withConfig({componentId:"sc-1x2q5r1-1"})(["display:none;"]),O=Object(d.e)(N.j).withConfig({componentId:"sc-1x2q5r1-2"})(["padding:16px 64px;"]),h=function(e){var a=e.introduction,t=e.solution,n=e.data,c=o.useState(!1),s=Object(l.a)(c,2),r=s[0],d=s[1],N=o.useState(!1),h=Object(l.a)(N,2),k=h[0],v=h[1],f=o.useState(!1),w=Object(l.a)(f,2),y=w[0],g=w[1],E=null===n||void 0===n?void 0:n.users_by_pk,x=null===n||void 0===n?void 0:n.lessons[0],T=o.useCallback((function(){Object(i.c)(x,E)?d(!0):E?g(!0):v(!0)}),[E,x]);return o.createElement(o.Fragment,null,o.createElement(b,null,o.createElement(o.Fragment,null,a),!r&&o.createElement(u.c,null,o.createElement(O,{hoverable:!0,onClick:T},"Show Solution")),r?o.createElement(o.Fragment,null,t):o.createElement(j,null,t)),o.createElement(p.a,{isOpen:k,onClose:function(){return v(!1)}}),o.createElement(m.a,{isOpen:y,onClose:function(){return g(!1)}}))};a.a=function(e){var a=o.useContext(s.a),t=Object(c.useRouter)().query.slug;if(a&&t){var l=Object(r.f)({variables:{slug:t,userId:a}}),p=l.data,m=l.loading,i=l.error;return o.createElement(h,Object(n.a)({loading:m,error:i,data:p},e))}return o.createElement(h,Object(n.a)({loading:!1},e))}},"iD9/":function(e,a,t){"use strict";var n=t("q1tI"),o=t("gWsq"),c=t("AgfK"),s=function(e){var a=e.code,t=Object(c.a)().language;return n.createElement(o.h,null,a(t))};a.a=s},"iDf+":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/throttle",function(){return t("/SEJ")}])},jDXR:function(e,a,t){"use strict";var n=t("q1tI"),o=function(e){var a=e.children;return n.createElement("h2",null,a)};a.a=o},jkan:function(e,a,t){"use strict";var n=t("q1tI"),o=t("vOnD"),c=t("uqmq"),s=t("5nwr"),r=Object(o.e)(c.b).withConfig({componentId:"sc-1u1nk7e-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;"]),l=o.e.img.withConfig({componentId:"sc-1u1nk7e-1"})(["border-radius:6px;max-width:",";","{max-width:100% !important;}"],(function(e){var a=e.maxWidth;return a?"".concat(a," !important"):"100%"}),Object(s.b)()),p=o.e.div.withConfig({componentId:"sc-1u1nk7e-2"})(["margin-top:4px;font-size:12px;color:",";text-align:center;width:100%;a,a:hover,a:visited{color:",";text-decoration:underline;}"],(function(e){return e.theme.color.textSecondary}),(function(e){return e.theme.color.textSecondary})),m=function(){return n.createElement("span",null,"Credit:"," ",n.createElement("a",{href:"https://visualgo.net/",target:"_blank",rel:"noopener noreferrer"},"VisuAlgo"))},i=function(e){var a=e.src,t=e.credit,o=e.isVisuAlgo,c=e.maxWidth;return n.createElement(r,null,n.createElement(l,{maxWidth:c,src:a}),!!t&&n.createElement(p,null,t),!!o&&n.createElement(p,null,n.createElement(m,null)))};a.a=i},uqmq:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return l}));var n=t("vOnD"),o=t("gWsq"),c=t("SOUA"),s=Object(n.e)(o.h).withConfig({componentId:"sc-16wjbcj-0"})(["margin-top:","px;"],c.a),r=Object(n.e)(s).withConfig({componentId:"sc-16wjbcj-1"})(["display:flex;justify-content:center;align-items:center;"]),l=n.e.div.withConfig({componentId:"sc-16wjbcj-2"})(["margin-top:","px;"],c.a)}},[["iDf+",0,1,4,6,5,9,12,11,13,14,15,18,17,2,3,7,8,10,16,19,20]]]);