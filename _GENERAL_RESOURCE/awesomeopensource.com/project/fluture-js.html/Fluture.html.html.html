<!DOCTYPE html>
<html>
  <head>
<script>window.NREUM||(NREUM={});NREUM.info={"beacon":"bam-cell.nr-data.net","errorBeacon":"bam-cell.nr-data.net","licenseKey":"98ebaa2fbd","applicationID":"233526624","transactionName":"c11aERNaXltSERdDR19YUQYVGltZUwZA","queueTime":4,"applicationTime":527,"agent":""}</script>
<script>(window.NREUM||(NREUM={})).loader_config={licenseKey:"98ebaa2fbd",applicationID:"233526624"};window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var i=t[n]={exports:{}};e[n][0].call(i.exports,function(t){var i=e[n][1][t];return r(i||t)},i,i.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t,n){function r(){}function i(e,t,n){return function(){return o(e,[u.now()].concat(c(arguments)),t?null:this,n),t?void 0:this}}var o=e("handle"),a=e(6),c=e(7),f=e("ee").get("tracer"),u=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",l=p+"ixn-";a(d,function(e,t){s[t]=i(p+t,!0,"api")}),s.addPageAction=i(p+"addPageAction",!0),s.setCurrentRouteName=i(p+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,i="function"==typeof t;return o(l+"tracer",[u.now(),e,n],r),function(){if(f.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return t.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],n),e}finally{f.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=i(l+t)}),newrelic.noticeError=function(e,t){"string"==typeof e&&(e=new Error(e)),o("err",[e,u.now(),!1,t])}},{}],2:[function(e,t,n){function r(){return c.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,c=e(8);t.exports=r,t.exports.offset=a,t.exports.getLastTimestamp=i},{}],3:[function(e,t,n){function r(e,t){var n=e.getEntries();n.forEach(function(e){"first-paint"===e.name?d("timing",["fp",Math.floor(e.startTime)]):"first-contentful-paint"===e.name&&d("timing",["fcp",Math.floor(e.startTime)])})}function i(e,t){var n=e.getEntries();n.length>0&&d("lcp",[n[n.length-1]])}function o(e){e.getEntries().forEach(function(e){e.hadRecentInput||d("cls",[e])})}function a(e){if(e instanceof m&&!g){var t=Math.round(e.timeStamp),n={type:e.type};t<=p.now()?n.fid=p.now()-t:t>p.offset&&t<=Date.now()?(t-=p.offset,n.fid=p.now()-t):t=p.now(),g=!0,d("timing",["fi",t,n])}}function c(e){d("pageHide",[p.now(),e])}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var f,u,s,d=e("handle"),p=e("loader"),l=e(5),m=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){f=new PerformanceObserver(r);try{f.observe({entryTypes:["paint"]})}catch(v){}u=new PerformanceObserver(i);try{u.observe({entryTypes:["largest-contentful-paint"]})}catch(v){}s=new PerformanceObserver(o);try{s.observe({type:"layout-shift",buffered:!0})}catch(v){}}if("addEventListener"in document){var g=!1,w=["click","keydown","mousedown","pointerdown","touchstart"];w.forEach(function(e){document.addEventListener(e,a,!1)})}l(c)}},{}],4:[function(e,t,n){function r(e,t){if(!i)return!1;if(e!==i)return!1;if(!t)return!0;if(!o)return!1;for(var n=o.split("."),r=t.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var c=navigator.userAgent,f=c.match(a);f&&c.indexOf("Chrome")===-1&&c.indexOf("Chromium")===-1&&(i="Safari",o=f[1])}t.exports={agent:i,version:o,match:r}},{}],5:[function(e,t,n){function r(e){function t(){e(a&&document[a]?document[a]:document[i]?"hidden":"visible")}"addEventListener"in document&&o&&document.addEventListener(o,t,!1)}t.exports=r;var i,o,a;"undefined"!=typeof document.hidden?(i="hidden",o="visibilitychange",a="visibilityState"):"undefined"!=typeof document.msHidden?(i="msHidden",o="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",o="webkitvisibilitychange",a="webkitVisibilityState")},{}],6:[function(e,t,n){function r(e,t){var n=[],r="",o=0;for(r in e)i.call(e,r)&&(n[o]=t(r,e[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],7:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(i<0?0:i);++r<i;)o[r]=e[t+r];return o}t.exports=r},{}],8:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function i(e){function t(e){return e&&e instanceof r?e:e?u(e,f,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){e&&a&&e(n,r,i);for(var c=t(i),f=v(n),u=f.length,s=0;s<u;s++)f[s].apply(c,r);var p=d[h[n]];return p&&p.push([b,n,r,c]),c}}function o(e,t){y[e]=v(e).concat(t)}function m(e,t){var n=y[e];if(n)for(var r=0;r<n.length;r++)n[r]===t&&n.splice(r,1)}function v(e){return y[e]||[]}function g(e){return p[e]=p[e]||i(n)}function w(e,t){s(e,function(e,n){t=t||"feature",h[n]=t,t in d||(d[t]=[])})}var y={},h={},b={on:o,addEventListener:o,removeEventListener:m,emit:n,get:g,listeners:v,context:t,buffer:w,abort:c,aborted:!1};return b}function o(e){return u(e,f,a)}function a(){return new r}function c(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var f="nr@context",u=e("gos"),s=e(6),d={},p={},l=t.exports=i();t.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(e,t,n){function r(e,t,n){if(i.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return e[t]=r,r}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){i.buffer([e],r),i.emit(e,t,n)}var i=e("ee").get("handle");t.exports=r,r.ee=i},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,o,function(){return i++})}var i=1,o="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=b.info=NREUM.info,t=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return u.abort();f(y,function(t,n){e[t]||(e[t]=n)});var n=a();c("mark",["onload",n+b.offset],null,"api"),c("timing",["load",n]);var r=p.createElement("script");r.src="https://"+e.agent,t.parentNode.insertBefore(r,t)}}function i(){"complete"===p.readyState&&o()}function o(){c("mark",["domContent",a()+b.offset],null,"api")}var a=e(2),c=e("handle"),f=e(6),u=e("ee"),s=e(4),d=window,p=d.document,l="addEventListener",m="attachEvent",v=d.XMLHttpRequest,g=v&&v.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:v,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1194.min.js"},h=v&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),b=t.exports={offset:a.getLastTimestamp(),now:a,origin:w,features:{},xhrWrappable:h,userAgent:s};e(1),e(3),p[l]?(p[l]("DOMContentLoaded",o,!1),d[l]("load",r,!1)):(p[m]("onreadystatechange",i),d[m]("onload",r)),c("mark",["firstbyte",a.getLastTimestamp()],null,"api");var x=0},{}],"wrap-function":[function(e,t,n){function r(e,t){function n(t,n,r,f,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,f],s],e)}c(n+"start",[o,a,f],s,u);try{return p=t.apply(a,o)}catch(m){throw c(n+"err",[o,a,m],s,u),m}finally{c(n+"end",[o,a,p],s,u)}}return a(t)?t:(n||(n=""),nrWrapper[p]=t,o(t,nrWrapper,e),nrWrapper)}function r(e,t,r,i,o){r||(r="");var c,f,u,s="-"===r.charAt(0);for(u=0;u<t.length;u++)f=t[u],c=e[f],a(c)||(e[f]=n(c,s?f+r:r,i,f,o))}function c(n,r,o,a){if(!m||t){var c=m;m=!0;try{e.emit(n,r,o,t,a)}catch(f){i([f,n,r,o],e)}m=c}}return e||(e=s),n.inPlace=r,n.flag=p,n}function i(e,t){t||(t=s);try{t.emit("internal-error",e)}catch(n){}}function o(e,t,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(e);return r.forEach(function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){return e[n]=t,t}})}),t}catch(o){i([o],n)}for(var a in e)l.call(e,a)&&(t[a]=e[a]);return t}function a(e){return!(e&&e instanceof Function&&e.apply&&!e[p])}function c(e,t){var n=t(e);return n[p]=e,o(e,n,s),n}function f(e,t,n){var r=e[t];e[t]=c(r,n)}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;++n)t[n]=arguments[n];return t}var s=e("ee"),d=e(7),p="nr@original",l=Object.prototype.hasOwnProperty,m=!1;t.exports=r,t.exports.wrapFunction=c,t.exports.wrapInPlace=f,t.exports.argsToArray=u},{}]},{},["loader"]);</script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-6242674-23"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-6242674-23', { 'optimize_id': 'GTM-T48MRN9'});
    </script>

    <title>Fluture</title>
<meta name="description" content="ðŸ¦‹ Fantasy Land compliant (monadic) alternative to Promises">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://awesomeopensource.com/project/fluture-js/Fluture">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

      /* copy template below */
      /* ------------------- */
      /* ----------------- */
      /* ----------------- */

      /*ipad and below */


      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {

      }

      /* end template copy */
      /* ----------------- */
      /* ----------------- */
      /* ----------------- */

      /*ipad and below */
      .show_on_phones {
        display: block;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .show_on_phones {
          display: none;
        }
      }

      .twenty_px_padding_top {
        padding-top: 20px;
      }

      /*ipad and below */
      .projects_category_explorer_left_column {
        max-width: 0;
        margin-right: 0;
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_category_explorer_left_column {
          min-width: 20%;
          margin-right: 5%;
          display: block;
        }
      }

      /*ipad and below */
      .projects_list_right_column {
        min-width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_list_right_column {
          min-width: 75%;
        }
      }

      .display_flex {
        display: flex;
      }

      .margin_bottom_15 {
        margin-bottom: 15px;
      }

      /*ipad and below */
      .image-gallery-image {
        width: 100% !important;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .image-gallery-image {
          width: 1280px !important;
        }
      }

      /*ipad and below */
      .aos_sponsorship_link {
        font-size: 14px;
        font-weight: bold;
        color: blue;
        text-decoration: underline;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_sponsorship_link {
          font-size: 18px;
          font-weight: bold;
          color: blue;
          text-decoration: underline;
        }
      }

      /*ipad and below */
      .aos_desktop_right_ads_container {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_desktop_right_ads_container {
          display: block;
        }
      }

      /*ipad and below */
      .aos_project_screen_container {
        margin-left: 5%;
        margin-right: 5%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_screen_container {
          margin-left: 5%;
          margin-right: 0;
          display: flex;
        }
      }

      /*ipad and below */
      .aos_project_inner_screen_container {
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_inner_screen_container {
          width: 95%;
        }
      }

      /*ipad and below
      .aos_license_text_metadata {
        margin-top: 0 !important;
      }

      everything larger than ipad
      @media screen and (min-width: 1024px) {
        .aos_license_text_metadata {
          margin-top: 0 !important;
        }
      }*/

      /*ipad and below */
      .projects_list_ad_slot_1 {
        height: fit-content;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_list_ad_slot_1 {
          height: fit-content;
        }
      }

      /*ipad and below */
      .projects_list_ad_slot_2 {
        height: fit-content;
        margin-top: -34px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_list_ad_slot_2 {
          height: fit-content;
          margin-top: 0;
        }
      }

      /*ipad and below */
      .project_page_ad_slot_1 {
        display: block;
        height: fit-content;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .project_page_ad_slot_1 {
          display: block;
          height: fit-content;
        }
      }

      /*ipad and below */
      .project_page_ad_slot_2 {
        display: block;
        height: fit-content;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .project_page_ad_slot_2 {
          display: block;
          height: fit-content;
        }
      }

      /*ipad and below */
      .aos_category_explorer_category_container {
        background-color: white;
        padding: 10px;
        margin-bottom: 0px;
        border-bottom: 1px solid lightgray;
        border-left: 1px solid lightgray;
        border-right: 1px solid lightgray;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_category_explorer_category_container {
          background-color: white;
          padding: 10px;
          margin-bottom: 0px;
          border-bottom: 1px solid lightgray;
          border-left: 1px solid lightgray;
          border-right: 1px solid lightgray;
        }
      }

      .aos_category_explorer_category_container:first-child {
        border-top: 1px solid lightgray;
      }

      /*ipad and below */
      .aos_topic_count {
        font-size: 10px;
        color: #4f4f4f;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topic_count {
          font-size: 16px;
          color: #4f4f4f;
        }
      }

      /*ipad and below */
      .aos_topic_icon {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topic_icon {
          font-size: 14px;
          display: inline-block;
        }
      }

      /*ipad and below */
      .aos_project_count {
        color: #4f4f4f;
        font-size: 14px;
        font-weight: bold;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_count {
          font-size: 14px;
          font-weight: bold;
        }
      }

      /*ipad and below */
      .aos_project_star {
        font-size: 14px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_star {
          font-size: 14px;
          /*margin-right: 7px;*/
        }
      }

      /*ipad and below */
      .aos_project_metadata_trademark_notice {
        font-size: 8px;
        color: gray;
        margin-top: 10px;
        border-bottom: 1px solid lightgray;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_trademark_notice {
          font-size: 12px;
          color: gray;
          margin-top: 20px;
          border-bottom: 1px solid lightgray;
        }
      }

      /*ipad and below */
      .aos_project_metadata_description {
        margin-bottom: 10px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_description {
          margin-bottom: 5px;
        }
      }

      .aos_project_metadata {
        display: inline-block;
        margin-bottom: 10px;
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata {
          display: inline-block;
          margin-bottom: 10px;
          width: 100%;
        }
      }

      /*ipad and below */
      .aos_project_metadata_content {
        /*border-bottom: 1px solid lightgray;*/
        font-size: 16px;
        color: #000000;
        font-weight: 300;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_content {
          /*border-bottom: 1px solid lightgray;*/
          font-size: 16px;
          color: #000000;
          font-weight: 300;
        }
      }

      /*ipad and below */
      .aos_project_metadata_header {
        color: #808080;
        margin-bottom: 10px;
        margin-top: 10px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_header {
          color: #808080;
          margin-bottom: 10px;
          margin-top: 10px;
          font-size: 16px;
        }
      }

      aos_project_metadata_header:hover {
        color: #808080;
      }

      /*ipad and below */
      .aos_project_metadata_title {
        font-size: 20px;
        margin-bottom: 5px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_title {
          font-size: 30px;
          margin-bottom: 10px;
        }
      }

      /*ipad and below */
      .aos_app_container {
        display: flex;
        flex-direction: row;
        width: 100%;
        margin-bottom: 2px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_app_container {
          display: flex;
          flex-direction: row;
          width: 100%;
          margin-bottom: 0;
        }
      }

      @media screen and (min-width: 1025px) {
        .aos_desktop_ad_spacer {
          margin-top: 5px;
          margin-bottom: 5px;
        }
      }

      /*ipad and below */
      .aos_show_ad_on_mobile {
        display: none;
      }

      @media screen and (max-width: 1024px) {
        .aos_show_ad_on_mobile {
          /*display: inline-block;*/
          display: block; /*adsense recommended*/
        }
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1025px) {
        .aos_show_ad_on_desktop {
          /*display: inline-block;*/
          display: block; /*adsense recommended*/
        }
      }

      /*ipad and below */
      @media screen and (max-width: 1024px) {
        .aos_show_ad_on_desktop {
          display: none;
        }
      }

      /*ipad and below */
      .aos_filter_topics_input {
        font-size: 16px;
        padding: 10px;
        border: 1px solid lightgray;
        background-color: white;
        border-radius: 10px;
        box-shadow: 1px 1px 5px lightgrey;
        margin-bottom: 20px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_filter_topics_input {
          font-size: 20px;
          padding: 10px;
          border: 1px solid lightgray;
          background-color: white;
          border-radius: 10px;
          box-shadow: 1px 1px 5px lightgrey;
          margin-bottom: 20px;
        }
      }

      /* ipad and below */
      .aos_topics_project {
        font-family: helvetica, arial, sans-serif;
        font-size: 12px;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topics_project {
          font-family: helvetica, arial, sans-serif;
          margin-bottom: 0;
          font-size: 20px;
          border-radius: 10px;
          padding: 0;
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
        }
      }

      /* ipad and below
      .aos_topics_sidebar {
        font-family: helvetica, arial, sans-serif;
        font-size: 12px;
        margin-left: 2%;
        margin-right: 2%;
        width: 94%;
        padding: 0;
        display: flex;
        flex-direction: column;
      }

       everything larger than ipad
      @media screen and (min-width: 1024px) {
        .aos_topics_sidebar {
          font-family: helvetica, arial, sans-serif;
          margin-left: 5%;
          margin-right: 2%;
          width: 30%;
          margin-bottom: 0;
          font-size: 20px;
          border-radius: 10px;
          padding: 0;
          display: flex;
          flex-direction: column;
        }
      }*/

      /*ipad and below */
      .aos_pill_box {
        display: flex;
        color: black;
        border-radius: 5px;
        padding: 2px;
        margin: 2px;
        align-items: center;
        border-color: black;
        background-color: white;
        font-size: 12px;
        border: 1px solid black;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_pill_box {
          display: flex;
          color: black;
          border-radius: 5px;
          padding: 5px;
          margin: 10px;
          align-items: center;
          border: 0;
          background-color: white;
          box-shadow: 1px 1px 10px 1px rgba(0,0,0,0.25);
          font-size: 16px;
        }
      }

      /*ipad and below */
      .aos_selected_topics_text_container {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_selected_topics_text_container {
          margin-left: 25px;
          margin-right: 10px;
          margin-bottom: 10px;
          margin-top: 10px;
          padding: 5px;
          font-weight: bold;
          font-size: 20px;
          white-space: nowrap;
          display: inline-block;
        }
      }

      /*ipad and below */
      .aos_pagenavigator_links_container {
        display: flex;
        justify-content: space-around;
        font-size: 12px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_pagenavigator_links_container {
          display: flex;
          justify-content: space-around;
          font-size: 16px;
        }
      }

      /*ipad and below */
      .aos_project_container {
        padding-bottom: 20px;
        padding-left: 0;
        padding-right: 0;
        padding-top: 5px;
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_container {
          /*border-radius: 10px;*/
          padding-bottom: 20px;
          padding-left: 0;
          padding-right: 0;
          padding-top: 5px;
          width: 100%;
        }
      }

      /*ipad and below */
      .aos_project_description {
        font-size: 16px;
        width: 100%;
        font-weight: 300; /* match adsense */
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_description {
          font-size: 16px;
          font-weight: 300; /* match adsense */
        }
      }

      /*ipad and below */
      .aos_project_title {
        font-size: 20px;
        margin-bottom: 2px;
        font-weight: 400; /* match adsense */
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_title {
          font-size: 20px;
          margin-bottom: 2px;
          font-weight: 400; /* match adsense */
        }
      }

      .aos_project_title a :hover {
        text-decoration: none !important;
      }

      .aos_no_underline:hover {
        text-decoration: none !important;
      }

      .aos_grey_link:hover {
        color: #808080 !important;
      }

      .aos_grey_link {
        color: #808080 !important;
      }

      /*ipad and below */
      .category_topic_filter_container {
        width: 94%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .category_topic_filter_container {
          width: 94%;
        }
      }

      /*ipad and below */
      .aos_projects_container {
        font-family: helvetica, arial, sans-serif;
        margin-right: 2%;
        width: 96%; /* won't insert an ad this small (68%), but bigger and it overflows to the right with some topics that are long */
        font-size: 14px;
        margin-bottom: 5px;
        margin-left: 2%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_projects_container {
          font-family: helvetica, arial, sans-serif;
          margin-right: 0;
          width: 90%; /* was 53 before removing right margin spacer / ad container */
          font-size: 18px;
          margin-bottom: 5px;
          min-width: 800px;
          margin-left: 5%;
        }
      }

      /*ipad and below */
      .aos_pagenavigator_container {
        display: flex;
        justify-content: center;
        font-size: 9px;
        margin-bottom: 0;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_pagenavigator_container {
          display: flex;
          justify-content: center;
          font-size: 16px;
          margin-bottom: 10px;
        }
      }

      /*ipad and below */
      .aos_header_title_container_ipad_and_smaller {
        font-size: 12px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 134px;
        white-space: nowrap;
        flex-direction: column;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_header_title_container_ipad_and_smaller {
          display: none;
        }
      }


      /*ipad and below */
      .aos_header_title_container_larger_than_ipad {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_header_title_container_larger_than_ipad {
          display: block;
        }
      }

      /*ipad and below */
      .aos_logo_image {
        height: 25px;
        width: 25px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_logo_image {
          height: 50px;
          width: 50px;
        }
      }

      /*ipad and below */
      .aos_fixed_footer_container {
        display: flex;
        margin-left: 0;
        margin-right: 0;
        margin-top: 2px;
        width: 100%;
        justify-content: center;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_fixed_footer_container {
          display: flex;
          margin-left: 5%;
          margin-right: 20%;
          margin-top: 5px;
          margin-bottom: 5px;
          width: 75%;
          justify-content: center;
        }
      }

      /*ipad and below */
      .aos_fixed_header_container {
        margin-left: 2%;
        margin-right: 2%;
        margin-top: 4px;
        margin-bottom: 2px;
        width: 96%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_fixed_header_container {
          margin-left: 5%;
          margin-right: 20%;
          margin-top: 5px;
          margin-bottom: 5px;
          width: 75%;
        }
      }

      /*ipad and below */
      body {
        margin-top: 0;
        margin-right: 0;
        margin-bottom: 0;
        margin-left: 0;
        padding: 0
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        body {
          margin-top: 0;
          margin-right: 0;
          margin-bottom: 0;
          margin-left: 0;
          padding: 0
        }
      }

      /* ipad and below */
      .aos_topics_sidebar_link {
        width: 100%;
        margin-bottom: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 14px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topics_sidebar_link {
          width: 100%;
          margin-bottom: 10px;
          font-size: 18px;
        }
      }

      html {
        margin: 0;
        padding: 0
      }

      a {
        color: #000000;
        text-decoration: none;
      }

      a:visited {
        text-decoration: none;
      }

      a:hover {
        /*color: #0366d6;*/
        color: #000000; /* match adsense */
        text-decoration: underline;
      }

      .AOS_Pill:hover {
        text-decoration: none;
      }

      /* MIT licensed github-markdown.css */
      /* https://github.com/sindresorhus/github-markdown-css */
      @font-face {
        font-family: octicons-link;
        src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
      }
      .markdown-body {
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
        line-height: 1.5;
        color: #24292e;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        font-size: 16px;
        line-height: 1.5;
        word-wrap: break-word;
      }
      .markdown-body .pl-c {
        color: #6a737d;
      }
      .markdown-body .pl-c1,
      .markdown-body .pl-s .pl-v {
        color: #005cc5;
      }
      .markdown-body .pl-e,
      .markdown-body .pl-en {
        color: #6f42c1;
      }
      .markdown-body .pl-smi,
      .markdown-body .pl-s .pl-s1 {
        color: #24292e;
      }
      .markdown-body .pl-ent {
        color: #22863a;
      }
      .markdown-body .pl-k {
        color: #d73a49;
      }
      .markdown-body .pl-s,
      .markdown-body .pl-pds,
      .markdown-body .pl-s .pl-pse .pl-s1,
      .markdown-body .pl-sr,
      .markdown-body .pl-sr .pl-cce,
      .markdown-body .pl-sr .pl-sre,
      .markdown-body .pl-sr .pl-sra {
        color: #032f62;
      }
      .markdown-body .pl-v,
      .markdown-body .pl-smw {
        color: #e36209;
      }
      .markdown-body .pl-bu {
        color: #b31d28;
      }
      .markdown-body .pl-ii {
        color: #fafbfc;
        background-color: #b31d28;
      }
      .markdown-body .pl-c2 {
        color: #fafbfc;
        background-color: #d73a49;
      }
      .markdown-body .pl-c2::before {
        content: "^M";
      }
      .markdown-body .pl-sr .pl-cce {
        font-weight: bold;
        color: #22863a;
      }
      .markdown-body .pl-ml {
        color: #735c0f;
      }
      .markdown-body .pl-mh,
      .markdown-body .pl-mh .pl-en,
      .markdown-body .pl-ms {
        font-weight: bold;
        color: #005cc5;
      }
      .markdown-body .pl-mi {
        font-style: italic;
        color: #24292e;
      }
      .markdown-body .pl-mb {
        font-weight: bold;
        color: #24292e;
      }
      .markdown-body .pl-md {
        color: #b31d28;
        background-color: #ffeef0;
      }
      .markdown-body .pl-mi1 {
        color: #22863a;
        background-color: #f0fff4;
      }
      .markdown-body .pl-mc {
        color: #e36209;
        background-color: #ffebda;
      }
      .markdown-body .pl-mi2 {
        color: #f6f8fa;
        background-color: #005cc5;
      }
      .markdown-body .pl-mdr {
        font-weight: bold;
        color: #6f42c1;
      }
      .markdown-body .pl-ba {
        color: #586069;
      }
      .markdown-body .pl-sg {
        color: #959da5;
      }
      .markdown-body .pl-corl {
        text-decoration: underline;
        color: #032f62;
      }
      .markdown-body .octicon {
        display: inline-block;
        vertical-align: text-top;
        fill: currentColor;
      }
      .markdown-body a {
        background-color: transparent;
      }
      .markdown-body a:active,
      .markdown-body a:hover {
        outline-width: 0;
      }
      .markdown-body strong {
        font-weight: inherit;
      }
      .markdown-body strong {
        font-weight: bolder;
      }
      .markdown-body h1 {
        font-size: 2em;
        margin: 0.67em 0;
      }
      .markdown-body img {
        border-style: none;
      }
      .markdown-body code,
      .markdown-body kbd,
      .markdown-body pre {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      .markdown-body hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }
      .markdown-body input {
        font: inherit;
        margin: 0;
      }
      .markdown-body input {
        overflow: visible;
      }
      .markdown-body [type="checkbox"] {
        box-sizing: border-box;
        padding: 0;
      }
      .markdown-body * {
        box-sizing: border-box;
      }
      .markdown-body input {
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
      }
      .markdown-body a {
        color: #0366d6;
        text-decoration: none;
      }
      .markdown-body a:hover {
        text-decoration: underline;
      }
      .markdown-body strong {
        font-weight: 600;
      }
      .markdown-body hr {
        height: 0;
        margin: 15px 0;
        overflow: hidden;
        background: transparent;
        border: 0;
        border-bottom: 1px solid #dfe2e5;
      }
      .markdown-body hr::before {
        display: table;
        content: "";
      }
      .markdown-body hr::after {
        display: table;
        clear: both;
        content: "";
      }
      .markdown-body table {
        border-spacing: 0;
        border-collapse: collapse;
      }
      .markdown-body td,
      .markdown-body th {
        padding: 0;
      }
      .markdown-body h1,
      .markdown-body h2,
      .markdown-body h3,
      .markdown-body h4,
      .markdown-body h5,
      .markdown-body h6 {
        margin-top: 0;
        margin-bottom: 0;
      }
      .markdown-body h1 {
        font-size: 32px;
        font-weight: 600;
      }
      .markdown-body h2 {
        font-size: 24px;
        font-weight: 600;
      }
      .markdown-body h3 {
        font-size: 20px;
        font-weight: 600;
      }
      .markdown-body h4 {
        font-size: 16px;
        font-weight: 600;
      }
      .markdown-body h5 {
        font-size: 14px;
        font-weight: 600;
      }
      .markdown-body h6 {
        font-size: 12px;
        font-weight: 600;
      }
      .markdown-body p {
        margin-top: 0;
        margin-bottom: 10px;
      }
      .markdown-body blockquote {
        margin: 0;
      }
      .markdown-body ul,
      .markdown-body ol {
        padding-left: 0;
        margin-top: 0;
        margin-bottom: 0;
      }
      .markdown-body ol ol,
      .markdown-body ul ol {
        list-style-type: lower-roman;
      }
      .markdown-body ul ul ol,
      .markdown-body ul ol ol,
      .markdown-body ol ul ol,
      .markdown-body ol ol ol {
        list-style-type: lower-alpha;
      }
      .markdown-body dd {
        margin-left: 0;
      }
      .markdown-body code {
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        font-size: 12px;
      }
      .markdown-body pre {
        margin-top: 0;
        margin-bottom: 0;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        font-size: 12px;
      }
      .markdown-body .octicon {
        vertical-align: text-bottom;
      }
      .markdown-body .pl-0 {
        padding-left: 0 !important;
      }
      .markdown-body .pl-1 {
        padding-left: 4px !important;
      }
      .markdown-body .pl-2 {
        padding-left: 8px !important;
      }
      .markdown-body .pl-3 {
        padding-left: 16px !important;
      }
      .markdown-body .pl-4 {
        padding-left: 24px !important;
      }
      .markdown-body .pl-5 {
        padding-left: 32px !important;
      }
      .markdown-body .pl-6 {
        padding-left: 40px !important;
      }
      .markdown-body::before {
        display: table;
        content: "";
      }
      .markdown-body::after {
        display: table;
        clear: both;
        content: "";
      }
      .markdown-body>*:first-child {
        margin-top: 0 !important;
      }
      .markdown-body>*:last-child {
        margin-bottom: 0 !important;
      }
      .markdown-body a:not([href]) {
        color: inherit;
        text-decoration: none;
      }
      .markdown-body .anchor {
        float: left;
        padding-right: 4px;
        margin-left: -20px;
        line-height: 1;
      }
      .markdown-body .anchor:focus {
        outline: none;
      }
      .markdown-body p,
      .markdown-body blockquote,
      .markdown-body ul,
      .markdown-body ol,
      .markdown-body dl,
      .markdown-body table,
      .markdown-body pre {
        margin-top: 0;
        margin-bottom: 16px;
      }
      .markdown-body hr {
        height: 0.25em;
        padding: 0;
        margin: 24px 0;
        background-color: #e1e4e8;
        border: 0;
      }
      .markdown-body blockquote {
        padding: 0 1em;
        color: #6a737d;
        border-left: 0.25em solid #dfe2e5;
      }
      .markdown-body blockquote>:first-child {
        margin-top: 0;
      }
      .markdown-body blockquote>:last-child {
        margin-bottom: 0;
      }
      .markdown-body kbd {
        display: inline-block;
        padding: 3px 5px;
        font-size: 11px;
        line-height: 10px;
        color: #444d56;
        vertical-align: middle;
        background-color: #fafbfc;
        border: solid 1px #c6cbd1;
        border-bottom-color: #959da5;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0 #959da5;
      }
      .markdown-body h1,
      .markdown-body h2,
      .markdown-body h3,
      .markdown-body h4,
      .markdown-body h5,
      .markdown-body h6 {
        margin-top: 24px;
        margin-bottom: 16px;
        font-weight: 600;
        line-height: 1.25;
      }
      .markdown-body h1 .octicon-link,
      .markdown-body h2 .octicon-link,
      .markdown-body h3 .octicon-link,
      .markdown-body h4 .octicon-link,
      .markdown-body h5 .octicon-link,
      .markdown-body h6 .octicon-link {
        color: #1b1f23;
        vertical-align: middle;
        visibility: hidden;
      }
      .markdown-body h1:hover .anchor,
      .markdown-body h2:hover .anchor,
      .markdown-body h3:hover .anchor,
      .markdown-body h4:hover .anchor,
      .markdown-body h5:hover .anchor,
      .markdown-body h6:hover .anchor {
        text-decoration: none;
      }
      .markdown-body h1:hover .anchor .octicon-link,
      .markdown-body h2:hover .anchor .octicon-link,
      .markdown-body h3:hover .anchor .octicon-link,
      .markdown-body h4:hover .anchor .octicon-link,
      .markdown-body h5:hover .anchor .octicon-link,
      .markdown-body h6:hover .anchor .octicon-link {
        visibility: visible;
      }
      .markdown-body h1 {
        padding-bottom: 0.3em;
        font-size: 2em;
        border-bottom: 1px solid #eaecef;
      }
      .markdown-body h2 {
        padding-bottom: 0.3em;
        font-size: 1.5em;
        border-bottom: 1px solid #eaecef;
      }
      .markdown-body h3 {
        font-size: 1.25em;
      }
      .markdown-body h4 {
        font-size: 1em;
      }
      .markdown-body h5 {
        font-size: 0.875em;
      }
      .markdown-body h6 {
        font-size: 0.85em;
        color: #6a737d;
      }
      .markdown-body ul,
      .markdown-body ol {
        padding-left: 2em;
      }
      .markdown-body ul ul,
      .markdown-body ul ol,
      .markdown-body ol ol,
      .markdown-body ol ul {
        margin-top: 0;
        margin-bottom: 0;
      }
      .markdown-body li {
        word-wrap: break-all;
      }
      .markdown-body li>p {
        margin-top: 16px;
      }
      .markdown-body li+li {
        margin-top: 0.25em;
      }
      .markdown-body dl {
        padding: 0;
      }
      .markdown-body dl dt {
        padding: 0;
        margin-top: 16px;
        font-size: 1em;
        font-style: italic;
        font-weight: 600;
      }
      .markdown-body dl dd {
        padding: 0 16px;
        margin-bottom: 16px;
      }
      .markdown-body table {
        display: block;
        width: 100%;
        overflow: auto;
      }
      .markdown-body table th {
        font-weight: 600;
      }
      .markdown-body table th,
      .markdown-body table td {
        padding: 6px 13px;
        border: 1px solid #dfe2e5;
      }
      .markdown-body table tr {
        background-color: #fff;
        border-top: 1px solid #c6cbd1;
      }
      .markdown-body table tr:nth-child(2n) {
        background-color: #f6f8fa;
      }
      .markdown-body img {
        max-width: 100%;
        box-sizing: content-box;
        background-color: #fff;
      }
      .markdown-body img[align=right] {
        padding-left: 20px;
      }
      .markdown-body img[align=left] {
        padding-right: 20px;
      }
      .markdown-body code {
        padding: 0.2em 0.4em;
        margin: 0;
        font-size: 85%;
        background-color: rgba(27,31,35,0.05);
        border-radius: 3px;
      }
      .markdown-body pre {
        word-wrap: normal;
      }
      .markdown-body pre>code {
        padding: 0;
        margin: 0;
        font-size: 100%;
        word-break: normal;
        white-space: pre;
        background: transparent;
        border: 0;
      }
      .markdown-body .highlight {
        margin-bottom: 16px;
      }
      .markdown-body .highlight pre {
        margin-bottom: 0;
        word-break: normal;
      }
      .markdown-body .highlight pre,
      .markdown-body pre {
        padding: 16px;
        overflow: auto;
        font-size: 85%;
        line-height: 1.45;
        background-color: #f6f8fa;
        border-radius: 3px;
      }
      .markdown-body pre code {
        display: inline;
        max-width: auto;
        padding: 0;
        margin: 0;
        overflow: visible;
        line-height: inherit;
        word-wrap: normal;
        background-color: transparent;
        border: 0;
      }
      .markdown-body .full-commit .btn-outline:not(:disabled):hover {
        color: #005cc5;
        border-color: #005cc5;
      }
      .markdown-body kbd {
        display: inline-block;
        padding: 3px 5px;
        font: 11px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        line-height: 10px;
        color: #444d56;
        vertical-align: middle;
        background-color: #fafbfc;
        border: solid 1px #d1d5da;
        border-bottom-color: #c6cbd1;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0 #c6cbd1;
      }
      .markdown-body :checked+.radio-label {
        position: relative;
        z-index: 1;
        border-color: #0366d6;
      }
      .markdown-body .task-list-item {
        list-style-type: none;
      }
      .markdown-body .task-list-item+.task-list-item {
        margin-top: 3px;
      }
      .markdown-body .task-list-item input {
        margin: 0 0.2em 0.25em -1.6em;
        vertical-align: middle;
      }
      .markdown-body hr {
        border-bottom-color: #eee;
      }
      /* github-markdown.css overrides */
      .markdown-body h2 {
        margin-bottom: 0;
        margin-top: 0;
      }

      .hll { background-color: #ffffcc }
      .c { color: #008000 } /* Comment */
      .err { border: 1px solid #FF0000 } /* Error */
      .k { color: #0000ff } /* Keyword */
      .cm { color: #008000 } /* Comment.Multiline */
      .cp { color: #0000ff } /* Comment.Preproc */
      .c1 { color: #008000 } /* Comment.Single */
      .cs { color: #008000 } /* Comment.Special */
      .ge { font-style: italic } /* Generic.Emph */
      .gh { font-weight: bold } /* Generic.Heading */
      .gp { font-weight: bold } /* Generic.Prompt */
      .gs { font-weight: bold } /* Generic.Strong */
      .gu { font-weight: bold } /* Generic.Subheading */
      .kc { color: #0000ff } /* Keyword.Constant */
      .kd { color: #0000ff } /* Keyword.Declaration */
      .kn { color: #0000ff } /* Keyword.Namespace */
      .kp { color: #0000ff } /* Keyword.Pseudo */
      .kr { color: #0000ff } /* Keyword.Reserved */
      .kt { color: #2b91af } /* Keyword.Type */
      .s { color: #a31515 } /* Literal.String */
      .nc { color: #2b91af } /* Name.Class */
      .ow { color: #0000ff } /* Operator.Word */
      .sb { color: #a31515 } /* Literal.String.Backtick */
      .sc { color: #a31515 } /* Literal.String.Char */
      .sd { color: #a31515 } /* Literal.String.Doc */
      .s2 { color: #a31515 } /* Literal.String.Double */
      .se { color: #a31515 } /* Literal.String.Escape */
      .sh { color: #a31515 } /* Literal.String.Heredoc */
      .si { color: #a31515 } /* Literal.String.Interpol */
      .sx { color: #a31515 } /* Literal.String.Other */
      .sr { color: #a31515 } /* Literal.String.Regex */
      .s1 { color: #a31515 } /* Literal.String.Single */
      .ss { color: #a31515 } /* Literal.String.Symbol */

    </style>

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Product",
  "name": "fluture-js/Fluture",
  "description": "ðŸ¦‹ Fantasy Land compliant (monadic) alternative to Promises",
  "url": "https://awesomeopensource.com/project/fluture-js/Fluture",
  "sku": "project/fluture-js/Fluture",
  "mpn": "project/fluture-js/Fluture",
  "image": "https://github.com/fluture-js.png",
  "brand": {
    "@type": "Brand",
    "name": "fluture-js/Fluture",
    "logo": "https://github.com/fluture-js.png"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.94",
    "ratingCount": "2063"
  }
}
</script>


    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="xFO/G02FQFvGVbDJXQhrV/HfH9cRdUbP0nGgGiI+MY6bTsj34A+tWPfPFaDjNQwa14vLJVl+7SRn+eOef0clNA==" />
  <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script></head>

  <body>
    <script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","rorVersion":"11.2.1","rorPro":false,"href":"http://awesomeopensource.com/project/fluture-js/Fluture","location":"/project/fluture-js/Fluture","scheme":"http","host":"awesomeopensource.com","port":null,"pathname":"/project/fluture-js/Fluture","search":null,"httpAcceptLanguage":null,"serverSide":false}</script>
<div id="Root-react-component-52721d0e-729c-423d-bae0-d27b19e74bbf"><div style="font-family:helvetica, arial, sans-serif" data-reactroot=""><div class="aos_fixed_header_container"><div class="display_flex margin_bottom_15"><div style="margin-right:1%;display:flex;align-items:center"><a href="https://awesomeopensource.com" title="Awesome Open Source Home" rel="canonical"><img src="https://awesomeopensource.com/awesome.gif" class="aos_logo_image"/></a></div><div class="aos_header_title_container_larger_than_ipad"><div style="white-space:nowrap;font-size:24px;font-weight:bold;display:flex;flex-direction:row;align-items:center;height:100%"><div>Awesome Open Source</div></div></div><div class="aos_header_title_container_ipad_and_smaller"><div>Awesome Open Source</div></div><div style="display:flex;flex-wrap:wrap"></div></div><div></div></div><div class="aos_project_screen_container"><div class="aos_project_inner_screen_container"><div class="aos_project_metadata"><div class="aos_project_metadata_title">Fluture</div><div class="aos_project_metadata_description">ðŸ¦‹ Fantasy Land compliant (monadic) alternative to Promises</div><div class="aos_project_metadata_header">Stars</div><span class="aos_project_metadata_content">2,063</span><div class="project_page_ad_slot_1"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-gv-v+1t-u+27" data-ad-client="ca-pub-1878397330895234" data-ad-slot="5649017589"></ins></div><div class="aos_project_metadata_header aos_license_text_metadata">License</div><span class="aos_project_metadata_content">mit</span><div class="aos_project_metadata_header"><a href="https://github.com/fluture-js/Fluture" target="_blank" class="aos_grey_link" rel="nofollow">Repository</a></div><span class="aos_project_metadata_content"><a href="https://github.com/fluture-js/Fluture" target="_blank">https://github.com/fluture-js/Fluture</a></span><div class="aos_project_metadata_header"><a href="https://github.com/fluture-js/Fluture/issues" target="_blank" class="aos_grey_link" rel="nofollow">Open Issues</a></div><span class="aos_project_metadata_content"><a href="https://github.com/fluture-js/Fluture/issues" target="_blank">9</a></span><div class="aos_project_metadata_header">Most Recent Commit</div><span class="aos_project_metadata_content">5 days ago</span><div class="aos_project_metadata_header">Related Projects</div><span class="aos_project_metadata_content"><a href="https://awesomeopensource.com/projects/javascript"><div style="display:block;text-decoration:none;padding-bottom:10px">javascript<span> (<!-- -->67,310<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/functional-programming"><div style="display:block;text-decoration:none;padding-bottom:10px">functional-programming<span> (<!-- -->457<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/async"><div style="display:block;text-decoration:none;padding-bottom:10px">async<span> (<!-- -->452<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/promise"><div style="display:block;text-decoration:none;padding-bottom:10px">promise<span> (<!-- -->197<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/monad"><div style="display:block;text-decoration:none;padding-bottom:10px">monad<span> (<!-- -->59<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/algebraic-data-types"><div style="display:block;text-decoration:none;padding-bottom:10px">algebraic-data-types<span> (<!-- -->28<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/future"><div style="display:block;text-decoration:none;padding-bottom:10px">future<span> (<!-- -->25<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/fantasy-land"><div style="display:block;text-decoration:none;padding-bottom:10px">fantasy-land<span> (<!-- -->14<!-- -->)</span></div></a></span></div><div class="markdown-body"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h1>
<a id="" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="#butterfly"><img src="https://raw.githubusercontent.com/fluture-js/Fluture/master/logo.png" alt="Fluture" style="max-width:100%;"></a>
</h1>
<p><a href="https://github.com/fluture-js/Fluture/actions?query=branch%3Amaster+workflow%3ATest" rel="nofollow"><img src="https://github.com/fluture-js/Fluture/workflows/Test/badge.svg" alt="Build Status" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/fluture-js/Fluture/branch/master" rel="nofollow"><img src="https://img.shields.io/codecov/c/github/fluture-js/Fluture/master.svg" alt="Code Coverage" style="max-width:100%;"></a>
<a href="https://david-dm.org/fluture-js/Fluture" rel="nofollow"><img src="https://img.shields.io/david/fluture-js/Fluture.svg" alt="Dependency Status" style="max-width:100%;"></a>
<a href="https://www.npmjs.com/package/fluture" rel="nofollow"><img src="https://img.shields.io/npm/v/fluture.svg" alt="NPM Package" style="max-width:100%;"></a>
<a href="https://gitter.im/fluture-js/Fluture" rel="nofollow"><img src="https://img.shields.io/gitter/room/fluture-js/Fluture.svg?colorB=blue" alt="Gitter Chat" style="max-width:100%;"></a></p>
<p>Fluture offers a control structure similar to Promises, Tasks, Deferreds, and
what-have-you. Let's call them Futures.</p>
<p>Much like Promises, Futures represent the value arising from the success or
failure of an asynchronous operation (I/O). Though unlike Promises, Futures are
<em>lazy</em> and adhere to <a href="#interoperability">the <em>monadic</em> interface</a>.</p>
<p>Some of the features provided by Fluture include:</p>
<ul>
<li>
<a href="#cancellation">Cancellation</a>.</li>
<li>
<a href="#resource-management">Resource management utilities</a>.</li>
<li>
<a href="#stack-safety">Stack safe composition and recursion</a>.</li>
<li>
<a href="#sanctuary">Integration</a> with <a href="https://sanctuary.js.org/" rel="nofollow">Sanctuary</a>.</li>
<li>
<a href="#debugging">A pleasant debugging experience</a>.</li>
</ul>
<p>For more information:</p>
<ul>
<li><a href="#documentation">API documentation</a></li>
<li><a href="https://dev.to/avaq/fluture-a-functional-alternative-to-promises-21b" rel="nofollow">Article: Introduction to Fluture - A Functional Alternative to Promises</a></li>
<li><a href="https://github.com/fluture-js/Fluture/wiki/Comparison-to-Promises" rel="nofollow">Wiki: Compare Futures to Promises</a></li>
<li><a href="https://github.com/fluture-js/Fluture/wiki/Comparison-of-Future-Implementations" rel="nofollow">Wiki: Compare Fluture to similar libraries</a></li>
<li><a href="https://vimeo.com/106008027" rel="nofollow">Video: Monad a Day - Futures by @DrBoolean</a></li>
</ul>
<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>
<h3>
<a id="with-npm" class="anchor" href="#with-npm" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>With NPM</h3>
<pre lang="console" class="highlight-console"><span class="gp">$</span> npm <span class="nb">install</span> <span class="nt">--save</span> fluture
</pre>
<h3>
<a id="bundled-from-a-cdn" class="anchor" href="#bundled-from-a-cdn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bundled from a CDN</h3>
<p>To load Fluture directly into a browser, a code pen, or <a href="https://deno.land/" rel="nofollow">Deno</a>, use one of
the following downloads from the JSDelivr content delivery network. These are
single files that come with all of Fluture's dependencies pre-bundled.</p>
<ul>
<li>
<a href="https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/bundle.js" rel="nofollow">Fluture Script</a>: A JavaScript file that adds <code>Fluture</code> to the global
scope. Ideal for older browsers and code pens.</li>
<li>
<a href="https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/bundle.min.js" rel="nofollow">Fluture Script Minified</a>: The same as above, but minified.</li>
<li>
<a href="https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/module.js" rel="nofollow">Fluture Module</a>: An EcmaScript module with named exports. Ideal for Deno
or modern browsers.</li>
<li>
<a href="https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/module.min.js" rel="nofollow">Fluture Module Minified</a>: A minified EcmaScript module without TypeScript
typings. Not recommended for Deno.</li>
</ul>
<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>
<h3>
<a id="ecmascript-module" class="anchor" href="#ecmascript-module" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EcmaScript Module</h3>
<p>Fluture is written as modular JavaScript.</p>
<ul>
<li>On Node 14 and up, Fluture can be loaded directly with <code>import 'fluture'</code>.</li>
<li>On Node 13 and lower, Fluture can be loaded directly with <code>import 'fluture/index.js'</code>.</li>
<li>On Node 12, the <code>--experimental-modules</code> flag must be provided in addition.</li>
<li>On Node versions below 12, the <a href="https://github.com/standard-things/esm" rel="nofollow">esm loader</a> can be used. Alternatively,
there is a <a href="#commonjs-module">CommonJS Module</a> available.</li>
<li>Modern browsers can run Fluture directly. If you'd like to try this out,
I recommend installing Fluture with <a href="https://www.pikapkg.com/" rel="nofollow">Pika</a> or <a href="https://www.snowpack.dev/" rel="nofollow">Snowpack</a>. You can also
try the <a href="#bundled-from-a-cdn">bundled module</a> to avoid a package manager.</li>
<li>For older browsers, use a bundler such as <a href="https://rollupjs.org/" rel="nofollow">Rollup</a> or WebPack. Besides the
module system, Fluture uses purely ES5-compatible syntax, so the source does
not have to be transpiled after bundling. Alternatively, there is a
<a href="#commonjs-module">CommonJS Module</a> available.</li>
</ul>
<pre lang="js" class="highlight-js"><span class="k">import</span> <span class="p">{</span><span class="nx">readFile</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fs'</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">node</span><span class="p">,</span> <span class="nx">encase</span><span class="p">,</span> <span class="nx">chain</span><span class="p">,</span> <span class="nx">map</span><span class="p">,</span> <span class="nx">fork</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fluture'</span>

<span class="kd">const</span> <span class="nx">getPackageName</span> <span class="o">=</span> <span class="nx">file</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="nx">node</span> <span class="p">(</span><span class="nx">done</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">readFile</span> <span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">chain</span> <span class="p">(</span><span class="nx">encase</span> <span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">)))</span>
  <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="p">.</span><span class="nx">name</span><span class="p">))</span>
<span class="p">)</span>

<span class="nx">getPackageName</span> <span class="p">(</span><span class="s1">'package.json'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">fork</span> <span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">))</span>
</pre>
<h3>
<a id="commonjs-module" class="anchor" href="#commonjs-module" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CommonJS Module</h3>
<p>Although the Fluture source uses the EcmaScript module system,
the <code>main</code> file points to a CommonJS version of Fluture.</p>
<p>On older environments one or more of the following functions may need to be
polyfilled: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create" rel="nofollow"><code>Object.create</code></a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="nofollow"><code>Object.assign</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray" rel="nofollow"><code>Array.isArray</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span> <span class="p">(</span><span class="s1">'fs'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">Future</span> <span class="o">=</span> <span class="nx">require</span> <span class="p">(</span><span class="s1">'fluture'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">getPackageName</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">Future</span><span class="p">.</span><span class="nx">node</span> <span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span> <span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">Future</span><span class="p">.</span><span class="nx">chain</span> <span class="p">(</span><span class="nx">Future</span><span class="p">.</span><span class="nx">encase</span> <span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">)))</span>
  <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">Future</span><span class="p">.</span><span class="nx">map</span> <span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">name</span> <span class="p">}))</span>
<span class="p">}</span>

<span class="nx">getPackageName</span> <span class="p">(</span><span class="s1">'package.json'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">Future</span><span class="p">.</span><span class="nx">fork</span> <span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">))</span>
</pre>
<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>
<h3>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of contents</h3>
<details open><summary>General</summary>
<ul>
<li><a href="#installation">Installation instructions</a></li>
<li><a href="#usage">Usage instructions</a></li>
<li><a href="#butterfly">About the Fluture project</a></li>
<li><a href="#interoperability">On interoperability with other libraries</a></li>
<li><a href="#type-signatures">How to read the type signatures</a></li>
<li><a href="#cancellation">How cancellation works</a></li>
<li><a href="#stack-safety">On stack safety</a></li>
<li><a href="#debugging">Debugging with Fluture</a></li>
<li><a href="#casting-futures-to-string">Casting Futures to String</a></li>
<li><a href="#sanctuary">Usage with Sanctuary</a></li>
<li><a href="#incompatible-fluture-versions">Using multiple versions of Fluture alongside each other</a></li>
</ul>
</details>
<details><summary>Creating new Futures</summary>
<ul>
<li><a href="#future"><code>Future</code>: Create a possibly cancellable Future</a></li>
<li><a href="#resolve"><code>resolve</code>: Create a resolved Future</a></li>
<li><a href="#reject"><code>reject</code>: Create a rejected Future</a></li>
<li><a href="#after"><code>after</code>: Create a Future that resolves after a timeout</a></li>
<li><a href="#rejectafter"><code>rejectAfter</code>: Create a Future that rejects after a timeout</a></li>
<li><a href="#go"><code>go</code>: Create a "coroutine" using a generator function</a></li>
<li><a href="#attempt"><code>attempt</code>: Create a Future using a possibly throwing function</a></li>
<li><a href="#attemptp"><code>attemptP</code>: Create a Future using a Promise-returning function</a></li>
<li><a href="#node"><code>node</code>: Create a Future using a Node-style callback</a></li>
<li><a href="#encase"><code>encase</code>: Convert a possibly throwing function to a Future function</a></li>
<li><a href="#encasep"><code>encaseP</code>: Convert a Promise-returning function to a Future function</a></li>
</ul>
</details>
<details><summary>Converting between Nodeback APIs and Futures</summary>
<ul>
<li><a href="#node"><code>node</code>: Create a Future using a Node-style callback</a></li>
<li><a href="#done"><code>done</code>: Consume a Future by providing a Nodeback</a></li>
</ul>
</details>
<details><summary>Converting between Promises and Futures</summary>
<ul>
<li><a href="#attemptp"><code>attemptP</code>: Create a Future using a Promise-returning function</a></li>
<li><a href="#encasep"><code>encaseP</code>: Convert a Promise-returning function to a Future function</a></li>
<li><a href="#promise"><code>promise</code>: Convert a Future to a Promise</a></li>
</ul>
</details>
<details><summary>Transforming and combining Futures</summary>
<ul>
<li><a href="#pipe"><code>pipe</code>: Apply a function to a Future in a fluent method chain</a></li>
<li><a href="#map"><code>map</code>: Synchronously process the success value in a Future</a></li>
<li><a href="#bimap"><code>bimap</code>: Synchronously process the success or failure value in a Future</a></li>
<li><a href="#chain"><code>chain</code>: Asynchronously process the success value in a Future</a></li>
<li><a href="#bichain"><code>bichain</code>: Asynchronously process the success or failure value in a Future</a></li>
<li><a href="#swap"><code>swap</code>: Swap the success with the failure value</a></li>
<li><a href="#maprej"><code>mapRej</code>: Synchronously process the failure value in a Future</a></li>
<li><a href="#chainrej"><code>chainRej</code>: Asynchronously process the failure value in a Future</a></li>
<li><a href="#coalesce"><code>coalesce</code>: Coerce success and failure values into the same success value</a></li>
<li><a href="#ap"><code>ap</code>: Combine the success values of multiple Futures using a function</a></li>
<li><a href="#pap"><code>pap</code>: Combine the success values of multiple Futures in parallel using a function</a></li>
<li><a href="#and"><code>and</code>: Logical <em>and</em> for Futures</a></li>
<li><a href="#alt"><code>alt</code>: Logical <em>or</em> for Futures</a></li>
<li><a href="#lastly"><code>lastly</code>: Run a Future after the previous settles</a></li>
<li><a href="#race"><code>race</code>: Race two Futures against each other</a></li>
<li><a href="#both"><code>both</code>: Await both success values from two Futures</a></li>
<li><a href="#parallel"><code>parallel</code>: Await all success values from many Futures</a></li>
</ul>
</details>
<details><summary>Consuming/forking Futures</summary>
<ul>
<li><a href="#fork"><code>fork</code>: Standard way to run a Future and get at its result</a></li>
<li><a href="#forkcatch"><code>forkCatch</code>: Fork with exception recovery</a></li>
<li><a href="#value"><code>value</code>: Shorter variant of <code>fork</code> for Futures sure to succeed</a></li>
<li><a href="#done"><code>done</code>: Nodeback style <code>fork</code></a></li>
<li><a href="#promise"><code>promise</code>: Convert a Future to a Promise</a></li>
</ul>
</details>
<details><summary>Concurrency related utilities and data structures</summary>
<ul>
<li><a href="#pap"><code>pap</code>: Combine the success values of multiple Futures in parallel using a function</a></li>
<li><a href="#race"><code>race</code>: Race two Futures against each other</a></li>
<li><a href="#both"><code>both</code>: Await both success values from two Futures</a></li>
<li><a href="#parallel"><code>parallel</code>: Await all success values from many Futures</a></li>
<li><a href="#concurrentfuture"><code>ConcurrentFuture</code>: A separate data-type for doing algebraic concurrency</a></li>
<li><a href="#alt"><code>alt</code>: Behaves like <code>race</code> on <code>ConcurrentFuture</code> instances</a></li>
</ul>
</details>
<details><summary>Resource management</summary>
<ul>
<li><a href="#hook"><code>hook</code>: Safely create and dispose resources</a></li>
<li><a href="#lastly"><code>lastly</code>: Run a Future after the previous settles</a></li>
</ul>
</details>
<details><summary>Other utilities</summary>
<ul>
<li><a href="#pipe"><code>pipe</code>: Apply a function to a Future in a fluent method chain</a></li>
<li><a href="#cache"><code>cache</code>: Cache a Future so that it can be forked multiple times</a></li>
<li><a href="#isfuture"><code>isFuture</code>: Determine whether a value is a Fluture compatible Future</a></li>
<li><a href="#never"><code>never</code>: A Future that never settles</a></li>
<li><a href="#debugmode"><code>debugMode</code>: Configure Fluture's debug mode</a></li>
<li><a href="#context"><code>context</code>: The debugging context of a Future instance</a></li>
</ul>
</details>
<h3>
<a id="butterfly" class="anchor" href="#butterfly" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Butterfly</h3>
<p>The name "Fluture" is a conjunction of "FL" (the acronym to <a href="https://github.com/fantasyland/fantasy-land" rel="nofollow">Fantasy Land</a>)
and "future". Fluture means butterfly in Romanian: A creature one might expect
to see in Fantasy Land.</p>
<p>Credit goes to Erik Fuente for styling the logo, and <a href="https://wearereasonablepeople.nl/" rel="nofollow">WEAREREASONABLEPEOPLE</a>
for sponsoring the project.</p>
<h3>
<a id="interoperability" class="anchor" href="#interoperability" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Interoperability</h3>
<p><a href="https://github.com/fantasyland/fantasy-land" rel="nofollow"><img src="https://raw.github.com/fantasyland/fantasy-land/master/logo.png" align="right" width="82" height="82" alt="Fantasy Land" style="max-width:100%;"></a></p>
<ul>
<li>
<code>Future</code> implements <a href="https://github.com/fantasyland/fantasy-land" rel="nofollow">Fantasy Land</a> 1.0+ -compatible
<code>Alt</code>, <code>Bifunctor</code>, <code>Monad</code>, and <code>ChainRec</code>
(<code>of</code>, <code>ap</code>, <code>alt</code>, <code>map</code>, <code>bimap</code>, <code>chain</code>, <code>chainRec</code>).</li>
<li>
<code>Future.Par</code> implements <a href="https://github.com/fantasyland/fantasy-land" rel="nofollow">Fantasy Land 3</a> -compatible
<code>Alternative</code> (<code>of</code>, <code>zero</code>, <code>map</code>, <code>ap</code>, <code>alt</code>).</li>
<li>The Future and ConcurrentFuture representatives contain <code>@@type</code> properties
for <a href="https://github.com/sanctuary-js/sanctuary-type-identifiers" rel="nofollow">Sanctuary Type Identifiers</a>.</li>
<li>The Future and ConcurrentFuture instances contain <code>@@show</code> properties for
<a href="https://github.com/sanctuary-js/sanctuary-show" rel="nofollow">Sanctuary Show</a>.</li>
</ul>
<h3>
<a id="type-signatures" class="anchor" href="#type-signatures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Type signatures</h3>
<p>The various function signatures are provided in a small language referred to as
Hindley-Milner notation.</p>
<p>In summary, the syntax is as follows: <code>InputType -&gt; OutputType</code>. Now,
because functions in Fluture are <a href="https://drboolean.gitbooks.io/mostly-adequate-guide-old/content/ch4.html" rel="nofollow">curried</a>, the "output" of a
function is often <em>another function</em>. In Hindley-Milner that's simply written
as <code>InputputType -&gt; InputToSecondFunction -&gt; OutputType</code> and so forth.</p>
<p>By convention, types starting with an upper-case letter are
<a href="#types">concrete types</a>. When they start with a lower-case letter they're
<em>type variables</em>. You can think of these type variables as generic types.
So <code>a -&gt; b</code> denotes a function from generic type <code>a</code> to generic type <code>b</code>.</p>
<p>Finally, through so-called <a href="#type-classes"><em>constraints</em></a>, type variables can
be forced to conform to an "interface" (or <em>Type Class</em> in functional jargon).
For example, <code>MyInterface a =&gt; a -&gt; b</code>, denotes a function from generic type
<code>a</code> to generic type <code>b</code>, <em>where <code>a</code> must implement <code>MyInterface</code></em>.</p>
<p>You can read in depth about <a href="https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch7.html" rel="nofollow">Hindley-Milner in JavaScript</a> here.</p>
<h4>
<a id="types" class="anchor" href="#types" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Types</h4>
<p>The concrete types you will encounter throughout this documentation:</p>
<ul>
<li>
<strong>Future</strong> - Instances of Future provided by
<a href="#incompatible-fluture-versions">compatible versions</a> of Fluture.</li>
<li>
<strong>ConcurrentFuture</strong> - Futures wrapped with (<a href="#concurrentfuture"><code>Future.Par</code></a>).</li>
<li>
<strong>Promise a b</strong> - Values which conform to the <a href="https://promisesaplus.com/" rel="nofollow">Promises/A+ specification</a>
and have a rejection reason of type <code>a</code> and a resolution value of type <code>b</code>.</li>
<li>
<strong>Nodeback a b</strong> - A Node-style callback; A function of signature <code>(a | Nil, b) -&gt; x</code>.</li>
<li>
<strong>Pair a b</strong> - An array with exactly two elements: <code>[a, b]</code>.</li>
<li>
<strong>Iterator</strong> - Objects with <code>next</code>-methods which conform to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterator" rel="nofollow">Iterator protocol</a>.</li>
<li>
<strong>Cancel</strong> - The nullary <a href="#cancellation">cancellation</a> functions returned from computations.</li>
<li>
<strong>Throwing e a b</strong> - A function from <code>a</code> to <code>b</code> that may throw an exception <code>e</code>.</li>
<li>
<strong>List</strong> - Fluture's internal linked-list structure: <code>{ head :: Any, tail :: List }</code>.</li>
<li>
<strong>Context</strong> - Fluture's internal debugging context object:
<code>{ tag :: String, name :: String, stack :: String }</code>.</li>
</ul>
<h4>
<a id="type-classes" class="anchor" href="#type-classes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Type classes</h4>
<p>Some signatures contain <a href="https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch7.html#constraints" rel="nofollow">constrained type variables</a>.
Generally, these constraints express that some value must conform to a
<a href="https://github.com/fantasyland/fantasy-land" rel="nofollow">Fantasy Land</a>-specified interface.</p>
<ul>
<li>
<strong>Functor</strong> - <a href="https://github.com/fantasyland/fantasy-land#functor" rel="nofollow">Fantasy Land Functor</a> conformant values.</li>
<li>
<strong>Bifunctor</strong> - <a href="https://github.com/fantasyland/fantasy-land#bifunctor" rel="nofollow">Fantasy Land Bifunctor</a> conformant values.</li>
<li>
<strong>Chain</strong> - <a href="https://github.com/fantasyland/fantasy-land#chain" rel="nofollow">Fantasy Land Chain</a> conformant values.</li>
<li>
<strong>Apply</strong> - <a href="https://github.com/fantasyland/fantasy-land#apply" rel="nofollow">Fantasy Land Apply</a> conformant values.</li>
<li>
<strong>Alt</strong> - <a href="https://github.com/fantasyland/fantasy-land#alt" rel="nofollow">Fantasy Land Alt</a> conformant values.</li>
</ul>
<h3>
<a id="cancellation" class="anchor" href="#cancellation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cancellation</h3>
<p>Cancellation is a system whereby running Futures get an opportunity to stop
what they're doing and release resources that they were holding, when the
consumer indicates it is no longer interested in the result.</p>
<p>To cancel a Future, it must be unsubscribed from. Most of the
<a href="#consuming-futures">consumption functions</a> return an <code>unsubscribe</code> function.
Calling it signals that we are no longer interested in the result. After
calling <code>unsubscribe</code>, Fluture guarantees that our callbacks will not be
called; but more importantly: a cancellation signal is sent upstream.</p>
<p>The cancellation signal travels all the way back to the source (with the
exception of cached Futures - see <a href="#cache"><code>cache</code></a>), allowing all parties
along the way to clean up.</p>
<p>With the <a href="#future"><code>Future</code> constructor</a>, we can provide a custom cancellation
handler by returning it from the computation. Let's see what this looks like:</p>
<pre lang="js" class="highlight-js"><span class="c1">// We use the Future constructor to create a Future instance.</span>
<span class="kd">const</span> <span class="nx">eventualAnswer</span> <span class="o">=</span> <span class="nx">Future</span> <span class="p">(</span><span class="kd">function</span> <span class="nx">computeTheAnswer</span> <span class="p">(</span><span class="nx">rej</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>

  <span class="c1">// We give the computer time to think about the answer, which is 42.</span>
  <span class="kd">const</span> <span class="nx">timeoutId</span> <span class="o">=</span> <span class="nx">setTimeout</span> <span class="p">(</span><span class="nx">res</span><span class="p">,</span> <span class="mi">60000</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

  <span class="c1">// Here is how we handle cancellation. This signal is received when nobody</span>
  <span class="c1">// is interested in the answer any more.</span>
  <span class="k">return</span> <span class="kd">function</span> <span class="nx">onCancel</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Clearing the timeout releases the resources we were holding.</span>
    <span class="nx">clearTimeout</span> <span class="p">(</span><span class="nx">timeoutId</span><span class="p">)</span>
  <span class="p">}</span>

<span class="p">})</span>

<span class="c1">// Now, let's fork our computation and wait for an answer. Forking gives us</span>
<span class="c1">// the unsubscribe function.</span>
<span class="kd">const</span> <span class="nx">unsubscribe</span> <span class="o">=</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">eventualAnswer</span><span class="p">)</span>

<span class="c1">// After some time passes, we might not care about the answer any more.</span>
<span class="c1">// Calling unsubscribe will send a cancellation signal back to the source,</span>
<span class="c1">// and trigger the onCancel function.</span>
<span class="nx">unsubscribe</span> <span class="p">()</span>
</pre>
<p>Many natural sources in Fluture have cancellation handlers of their own.
<a href="#after"><code>after</code></a>, for example, does exactly what we've done just now: calling
<code>clearTimeout</code>.</p>
<p>Finally, Fluture unsubscribes from Futures that it forks <em>for us</em>, when it no
longer needs the result. For example, both Futures passed into <a href="#race">race</a>
are forked, but once one of them produces a result, the other is unsubscribed
from, triggering cancellation. This means that generally, unsubscription and
cancellation is fully managed for us behind the scenes.</p>
<h3>
<a id="stack-safety" class="anchor" href="#stack-safety" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Stack safety</h3>
<p>Fluture interprets our transformations in a stack safe way.
This means that none of the following operations result in a
<code>RangeError: Maximum call stack size exceeded</code>:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">add1</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="o">&gt;</span> <span class="kd">let</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">resolve</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">100000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="p">.</span>   <span class="nx">m</span> <span class="o">=</span> <span class="nx">map</span> <span class="p">(</span><span class="nx">add1</span><span class="p">)</span> <span class="p">(</span><span class="nx">m</span><span class="p">)</span>
<span class="p">.</span> <span class="p">}</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">m</span><span class="p">)</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">100001</span>
</pre>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">m</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="nx">recur</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
<span class="p">.</span>   <span class="kd">const</span> <span class="nx">mx</span> <span class="o">=</span> <span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">.</span>   <span class="k">return</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">100000</span> <span class="p">?</span> <span class="nx">chain</span> <span class="p">(</span><span class="nx">recur</span><span class="p">)</span> <span class="p">(</span><span class="nx">mx</span><span class="p">)</span> <span class="p">:</span> <span class="nx">mx</span>
<span class="p">.</span> <span class="p">}(</span><span class="mi">1</span><span class="p">))</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">m</span><span class="p">)</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">100001</span>
</pre>
<p>To learn more about memory and stack usage under different types of recursion,
see (or execute) <a href="https://github.com/fluture-js/Fluture/blob/master/scripts/test-mem" rel="nofollow"><code>scripts/test-mem</code></a>.</p>
<h3>
<a id="debugging" class="anchor" href="#debugging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Debugging</h3>
<p>First and foremost, Fluture type-checks all of its input and throws TypeErrors
when incorrect input is provided. The messages they carry are designed to
provide enough insight to figure out what went wrong.</p>
<p>Secondly, Fluture catches exceptions that are thrown asynchronously, and
exposes them to you in one of two ways:</p>
<ol>
<li>By throwing an Error when it happens.</li>
<li>By calling your <a href="#forkcatch">exception handler</a> with an Error.</li>
</ol>
<p>The original exception isn't used because it might have been any value.
Instead, a regular JavaScript Error instance whose properties are based on the
original exception is created. Its properties are as follows:</p>
<ul>
<li>
<code>name</code>: Always just <code>"Error"</code>.</li>
<li>
<code>message</code>: The original error message, or a message describing the value.</li>
<li>
<code>reason</code>: The original value that was caught by Fluture.</li>
<li>
<code>context</code>: A linked list of "context" objects. This is used to create the
<code>stack</code> property, and you generally don't need to look at it. If debug mode
is not enabled, the list is always empty.</li>
<li>
<code>stack</code>: The stack trace of the original exception if it had one, or the
Error's own stack trace otherwise. If debug mode (see below) is enabled,
additional stack traces from the steps leading up to the crash are included.</li>
<li>
<code>future</code>: The instance of <a href="#future"><code>Future</code></a> that was being
<a href="#consuming-futures">consumed</a> when the exception happened. Often
<a href="#casting-futures-to-string">printing it as a String</a> can yield useful
information. You can also try to consume it in isolation to better identify
what's going wrong.</li>
</ul>
<p>Finally, as mentioned, Fluture has a <a href="#debugmode">debug mode</a> wherein
additional contextual information across multiple JavaScript ticks is
collected, included as an extended "async stack trace" on Errors, and
<a href="#context">exposed on Future instances</a>.</p>
<p>Debug mode can have a significant impact on performance, and uses up memory,
so I would advise against using it in production.</p>
<h3>
<a id="casting-futures-to-string" class="anchor" href="#casting-futures-to-string" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Casting Futures to String</h3>
<p>There are multiple ways to print a Future to String. Let's take a simple
computation as an example:</p>
<pre lang="js" class="highlight-js"><span class="kd">const</span> <span class="nx">add</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">=&gt;</span> <span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">eventualAnswer</span> <span class="o">=</span> <span class="nx">ap</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">22</span><span class="p">))</span> <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nx">add</span><span class="p">)</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">20</span><span class="p">)));</span>
</pre>
<ol>
<li>
<p>Casting it to String directly by calling <code>String(eventualAnswer)</code> or
<code>eventualAnswer.toString()</code> will yield an approximation of the code that
was used to create the Future. In this case:</p>
<pre lang="js" class="highlight-js"><span class="s2">"ap (resolve (22)) (map (a =&gt; b =&gt; a + b) (resolve (20)))"</span>
</pre>
</li>
<li>
<p>Casting it to String using <code>JSON.stringify(eventualAnswer, null, 2)</code> will
yield a kind of abstract syntax tree.</p>
<pre lang="json" class="highlight-json"><span class="p">{</span><span class="w">
  </span><span class="s2">"$"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fluture/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="602615141512052055">[email&#160;protected]</a>"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interpreter"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transform"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"$"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fluture/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1a5c6f6e6f687f5a2f">[email&#160;protected]</a>"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interpreter"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"resolve"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">20</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"$"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fluture/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="480e3d3c3d3a2d087d">[email&#160;protected]</a>"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transformation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"$"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fluture/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="de98abaaabacbb9eeb">[email&#160;protected]</a>"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interpreter"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"resolve"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="mi">22</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"$"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fluture/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c680b3b2b3b4a386f3">[email&#160;protected]</a>"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transformation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"map"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="kc">null</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
</li>
</ol>
<h3>
<a id="sanctuary" class="anchor" href="#sanctuary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sanctuary</h3>
<p>When using this module with <a href="https://github.com/sanctuary-js/sanctuary-def" rel="nofollow">Sanctuary Def</a> (and <a href="https://sanctuary.js.org/" rel="nofollow">Sanctuary</a> by
extension) one might run into the following issue:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="k">import</span> <span class="nx">S</span> <span class="k">from</span> <span class="s1">'sanctuary'</span>

<span class="o">&gt;</span> <span class="k">import</span> <span class="p">{</span><span class="nx">resolve</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fluture'</span>

<span class="o">&gt;</span> <span class="nx">S</span><span class="p">.</span><span class="nx">I</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="o">!</span> <span class="nx">TypeError</span><span class="p">:</span> <span class="nx">Since</span> <span class="nx">there</span> <span class="nx">is</span> <span class="nx">no</span> <span class="nx">type</span> <span class="k">of</span> <span class="nx">which</span> <span class="nx">all</span> <span class="nx">the</span> <span class="nx">above</span> <span class="nx">values</span> <span class="nx">are</span> <span class="nx">members</span><span class="p">,</span>
<span class="p">.</span> <span class="nx">the</span> <span class="nx">type</span><span class="o">-</span><span class="nx">variable</span> <span class="nx">constraint</span> <span class="nx">has</span> <span class="nx">been</span> <span class="nx">violated</span><span class="p">.</span>
</pre>
<p>This happens because Sanctuary Def needs to know about the types created by
Fluture to determine whether the type-variables are consistent.</p>
<p>To let Sanctuary know about these types, we can obtain the type definitions
from <a href="https://github.com/fluture-js/fluture-sanctuary-types" rel="nofollow"><code>fluture-sanctuary-types</code></a> and pass them to <a href="https://sanctuary.js.org/#create" rel="nofollow"><code>S.create</code></a>:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="k">import</span> <span class="nx">sanctuary</span> <span class="k">from</span> <span class="s1">'sanctuary'</span>

<span class="o">&gt;</span> <span class="k">import</span> <span class="p">{</span><span class="nx">env</span> <span class="k">as</span> <span class="nx">flutureEnv</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fluture-sanctuary-types'</span>

<span class="o">&gt;</span> <span class="k">import</span> <span class="p">{</span><span class="nx">resolve</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fluture'</span>

<span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">S</span> <span class="o">=</span> <span class="nx">sanctuary</span><span class="p">.</span><span class="nx">create</span> <span class="p">({</span><span class="na">checkTypes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">env</span><span class="p">:</span> <span class="nx">sanctuary</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">concat</span> <span class="p">(</span><span class="nx">flutureEnv</span><span class="p">)})</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">I</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h3>
<a id="incompatible-fluture-versions" class="anchor" href="#incompatible-fluture-versions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Incompatible Fluture Versions</h3>
<p>Most versions of Fluture understand how to consume instances from most other
versions, even across Fluture's major releases. This allows for different
packages that depend on Fluture to interact.</p>
<p>However, sometimes it's unavoidable that a newer version of Fluture is released
that can no longer understand older versions, and vice-versa. This only ever
happens on a major release, and will be mentioned in the breaking change log.
When two incompatible versions of Fluture meet instances, they do their best to
issue a clear error message about it.</p>
<p>When this happens, you need to manually convert the older instance to a newer
instance of Future. When <a href="#isfuture"><code>isFuture</code></a> returns <code>false</code>, a conversion
is necessary. You can also apply this trick if the Future comes from another
library similar to Fluture.</p>
<pre lang="js" class="highlight-js"><span class="kd">const</span> <span class="nx">NoFuture</span> <span class="o">=</span> <span class="nx">require</span> <span class="p">(</span><span class="s1">'incompatible-future'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">incompatible</span> <span class="o">=</span> <span class="nx">NoFuture</span><span class="p">.</span><span class="k">of</span> <span class="p">(</span><span class="s1">'Hello'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">compatible</span> <span class="o">=</span> <span class="nx">Future</span> <span class="p">((</span><span class="nx">rej</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">NoFuture</span><span class="p">.</span><span class="nx">fork</span> <span class="p">(</span><span class="nx">rej</span><span class="p">)</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">(</span><span class="nx">incompatible</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">both</span> <span class="p">(</span><span class="nx">compatible</span><span class="p">)</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'world'</span><span class="p">))</span>
</pre>
<h3>
<a id="creating-futures" class="anchor" href="#creating-futures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating Futures</h3>
<h4>
<a id="future" class="anchor" href="#future" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Future</h4>
<pre lang="hs" class="highlight-hs"><span class="kt">Future</span> <span class="o">::</span> <span class="p">((</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Undefined</span><span class="p">,</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Undefined</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Cancel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Creates a Future with the given computation. A computation is a function which
takes two callbacks. Both are continuations for the computation. The first is
<code>reject</code>, commonly abbreviated to <code>rej</code>; The second is <code>resolve</code>, or <code>res</code>.
When the computation is finished (possibly asynchronously) it may call the
appropriate continuation with a failure or success value.</p>
<p>Additionally, the computation must return a nullary function containing
cancellation logic. See <a href="#cancellation">Cancellation</a>.</p>
<p>If you find that there is no way to cancel your computation, you can return a
<code>noop</code> function as a cancellation function. However, at this point there is
usually a more fitting way to <a href="#creating-futures">create that Future</a>
(like for example via <a href="#node"><code>node</code></a>).</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">Future</span> <span class="p">(</span><span class="kd">function</span> <span class="nx">computation</span> <span class="p">(</span><span class="nx">reject</span><span class="p">,</span> <span class="nx">resolve</span><span class="p">)</span> <span class="p">{</span>
<span class="p">.</span>        <span class="kd">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">setTimeout</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="p">.</span>        <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">clearTimeout</span> <span class="p">(</span><span class="nx">t</span><span class="p">)</span>
<span class="p">.</span>      <span class="p">}))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="resolve" class="anchor" href="#resolve" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>resolve</h4>
<pre lang="hs" class="highlight-hs"><span class="n">resolve</span> <span class="o">::</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Creates a Future which immediately resolves with the given value.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="p">[</span><span class="nx">answer</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="reject" class="anchor" href="#reject" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>reject</h4>
<pre lang="hs" class="highlight-hs"><span class="n">reject</span> <span class="o">::</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Creates a Future which immediately rejects with the given value.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"It broke!"</span>
</pre>
<h4>
<a id="after" class="anchor" href="#after" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>after</h4>
<pre lang="hs" class="highlight-hs"><span class="n">after</span> <span class="o">::</span> <span class="kt">Number</span> <span class="o">-&gt;</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Creates a Future which resolves with the given value after
the given number of milliseconds.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="rejectafter" class="anchor" href="#rejectafter" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>rejectAfter</h4>
<pre lang="hs" class="highlight-hs"><span class="n">rejectAfter</span> <span class="o">::</span> <span class="kt">Number</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Creates a Future which rejects with the given reason after the given number of
milliseconds.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">rejectAfter</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"It broke!"</span>
</pre>
<h4>
<a id="go" class="anchor" href="#go" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>go</h4>
<pre lang="hs" class="highlight-hs"><span class="n">go</span> <span class="o">::</span> <span class="p">(</span><span class="nb">()</span> <span class="o">-&gt;</span> <span class="kt">Iterator</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>A way to do <code>async</code>/<code>await</code> with Futures, similar to Promise Coroutines or
Haskell Do-notation.</p>
<p>Takes a function which returns an <a href="#types">Iterator</a>, commonly a
generator-function, and chains every produced Future over the previous.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">go</span> <span class="p">(</span><span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
<span class="p">.</span>   <span class="kd">const</span> <span class="nx">thing</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="s1">'world'</span><span class="p">)</span>
<span class="p">.</span>   <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="s1">'Hello '</span> <span class="o">+</span> <span class="nx">thing</span><span class="p">)</span>
<span class="p">.</span>   <span class="k">return</span> <span class="nx">message</span> <span class="o">+</span> <span class="s1">'!'</span>
<span class="p">.</span> <span class="p">}))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Hello world!"</span>
</pre>
<p>A rejected Future short-circuits the whole coroutine.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">go</span> <span class="p">(</span><span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
<span class="p">.</span>   <span class="kd">const</span> <span class="nx">thing</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)</span>
<span class="p">.</span>   <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="s1">'Hello '</span> <span class="o">+</span> <span class="nx">thing</span><span class="p">)</span>
<span class="p">.</span>   <span class="k">return</span> <span class="nx">message</span> <span class="o">+</span> <span class="s1">'!'</span>
<span class="p">.</span> <span class="p">}))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"It broke!"</span>
</pre>
<p>To handle rejections <em>inside</em> the coroutine, we need to <a href="#coalesce"><code>coalesce</code></a>
the error into our control domain.</p>
<p>I recommend using coalesce with an <a href="https://sanctuary.js.org/#either-type" rel="nofollow"><code>Either</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">control</span> <span class="o">=</span> <span class="nx">coalesce</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Left</span><span class="p">)</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Right</span><span class="p">)</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">go</span> <span class="p">(</span><span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
<span class="p">.</span>   <span class="kd">const</span> <span class="nx">thing</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">control</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">))</span>
<span class="p">.</span>   <span class="k">return</span> <span class="nx">S</span><span class="p">.</span><span class="nx">either</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="s2">`Oh no! </span><span class="p">${</span><span class="nx">x</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">.</span>                   <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="s2">`Yippee! </span><span class="p">${</span><span class="nx">x</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">.</span>                   <span class="p">(</span><span class="nx">thing</span><span class="p">)</span>
<span class="p">.</span> <span class="p">}))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Oh no! It broke!"</span>
</pre>
<h4>
<a id="attempt" class="anchor" href="#attempt" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>attempt</h4>
<pre lang="hs" class="highlight-hs"><span class="n">attempt</span> <span class="o">::</span> <span class="kt">Throwing</span> <span class="n">e</span> <span class="kt">Undefined</span> <span class="n">r</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">e</span> <span class="n">r</span>
</pre>
<p>Creates a Future which resolves with the result of calling the given function,
or rejects with the error thrown by the given function.</p>
<p>Short for <a href="#encase"><code>encase (f) (undefined)</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="na">foo</span><span class="p">:</span> <span class="s1">'bar'</span><span class="p">}</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">attempt</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nx">baz</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="k">new</span> <span class="nx">TypeError</span> <span class="p">(</span><span class="s2">"Cannot read property 'baz' of undefined"</span><span class="p">)</span>
</pre>
<h4>
<a id="attemptp" class="anchor" href="#attemptp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>attemptP</h4>
<pre lang="hs" class="highlight-hs"><span class="n">attemptP</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Undefined</span> <span class="o">-&gt;</span> <span class="kt">Promise</span> <span class="n">a</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Create a Future which when forked spawns a Promise using the given function and
resolves with its resolution value, or rejects with its rejection reason.</p>
<p>Short for <a href="#encasep"><code>encaseP (f) (undefined)</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">attemptP</span> <span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="node" class="anchor" href="#node" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>node</h4>
<pre lang="hs" class="highlight-hs"><span class="n">node</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Nodeback</span> <span class="n">e</span> <span class="n">r</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">e</span> <span class="n">r</span>
</pre>
<p>Creates a Future which rejects with the first argument given to the function,
or resolves with the second if the first is not present.</p>
<p>Note that this function <strong>does not support cancellation</strong>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">node</span> <span class="p">(</span><span class="nx">done</span> <span class="o">=&gt;</span> <span class="nx">done</span> <span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="mi">42</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="encase" class="anchor" href="#encase" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>encase</h4>
<pre lang="hs" class="highlight-hs"><span class="n">encase</span> <span class="o">::</span> <span class="kt">Throwing</span> <span class="n">e</span> <span class="n">a</span> <span class="n">r</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">e</span> <span class="n">r</span>
</pre>
<p>Takes a function and a value, and returns a Future which when forked calls the
function with the value and resolves with the result. If the function throws
an exception, it is caught and the Future will reject with the exception.</p>
<p>Applying <code>encase</code> with a function <code>f</code> creates a "safe" version of <code>f</code>. Instead
of throwing exceptions, the encased version always returns a Future.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">encase</span> <span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">)</span> <span class="p">(</span><span class="s1">'{"foo" = "bar"}'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="k">new</span> <span class="nx">SyntaxError</span> <span class="p">(</span><span class="s1">'Unexpected token ='</span><span class="p">)</span>
</pre>
<h4>
<a id="encasep" class="anchor" href="#encasep" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>encaseP</h4>
<pre lang="hs" class="highlight-hs"><span class="n">encaseP</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Promise</span> <span class="n">e</span> <span class="n">r</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">e</span> <span class="n">r</span>
</pre>
<p>Turns Promise-returning functions into Future-returning functions.</p>
<p>Takes a function which returns a Promise, and a value, and returns a Future.
When forked, the Future calls the function with the value to produce the
Promise, and resolves with its resolution value, or rejects with its rejection
reason.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">encaseP</span> <span class="p">(</span><span class="nx">fetch</span><span class="p">)</span> <span class="p">(</span><span class="s1">'https://api.github.com/users/Avaq'</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">chain</span> <span class="p">(</span><span class="nx">encaseP</span> <span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span> <span class="p">())))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Aldwin Vlasblom"</span>
</pre>
<h3>
<a id="transforming-futures" class="anchor" href="#transforming-futures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Transforming Futures</h3>
<h4>
<a id="map" class="anchor" href="#map" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>map</h4>
<pre lang="hs" class="highlight-hs"><span class="n">map</span> <span class="o">::</span> <span class="kt">Functor</span> <span class="n">m</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span>
</pre>
<p>Transforms the resolution value inside the Future or <a href="https://github.com/fantasyland/fantasy-land#functor" rel="nofollow">Functor</a>,
and returns a Future or Functor with the new value. The transformation is only
applied to the resolution branch: if the Future is rejected, the transformation
is ignored.</p>
<p>See also <a href="#chain"><code>chain</code></a> and <a href="#maprej"><code>mapRej</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="bimap" class="anchor" href="#bimap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>bimap</h4>
<pre lang="hs" class="highlight-hs"><span class="n">bimap</span> <span class="o">::</span> <span class="kt">Bifunctor</span> <span class="n">m</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="n">d</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">c</span> <span class="n">d</span>
</pre>
<p>Maps the left function over the rejection reason, or the right function over
the resolution value, depending on which is present. Can be used on any
<a href="https://github.com/fantasyland/fantasy-land#bifunctor" rel="nofollow">Bifunctor</a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">bimap</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="s1">'!'</span><span class="p">)</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">bimap</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="s1">'!'</span><span class="p">)</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"It broke!!"</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">'!'</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>

<span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">'!'</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"It broke!!"</span>
</pre>
<h4>
<a id="chain" class="anchor" href="#chain" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>chain</h4>
<pre lang="hs" class="highlight-hs"><span class="n">chain</span> <span class="o">::</span> <span class="kt">Chain</span> <span class="n">m</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span>
</pre>
<p>Sequence a new Future or <a href="https://github.com/fantasyland/fantasy-land#chain" rel="nofollow">Chain</a> using the resolution value from
another. Similarly to <a href="#map"><code>map</code></a>, <code>chain</code> expects a function. But instead
of returning the new <em>value</em>, chain expects a Future (or instance of the same
Chain) to be returned.</p>
<p>The transformation is only applied to the resolution branch: if the Future is
rejected, the transformation is ignored.</p>
<p>See also <a href="#chainrej"><code>chainRej</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">chain</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="bichain" class="anchor" href="#bichain" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>bichain</h4>
<pre lang="hs" class="highlight-hs"><span class="n">bichain</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">d</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">d</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">d</span>
</pre>
<p>Sequence a new Future using either the resolution or the rejection value from
another. Similarly to <a href="#bimap"><code>bimap</code></a>, <code>bichain</code> expects two functions. But
instead of returning the new <em>value</em>, bichain expects Futures to be returned.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">bichain</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">)</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">bichain</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">)</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="mi">41</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>

<span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="swap" class="anchor" href="#swap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>swap</h4>
<pre lang="hs" class="highlight-hs"><span class="n">swap</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">b</span> <span class="n">a</span>
</pre>
<p>Swap the rejection and resolution branches.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">swap</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="mi">42</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">swap</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="mi">42</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="maprej" class="anchor" href="#maprej" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>mapRej</h4>
<pre lang="hs" class="highlight-hs"><span class="n">mapRej</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">b</span>
</pre>
<p>Map over the <strong>rejection</strong> reason of the Future. This is like <a href="#map"><code>map</code></a>,
but for the rejection branch.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">mapRej</span> <span class="p">(</span><span class="nx">s</span> <span class="o">=&gt;</span> <span class="s2">`Oh no! </span><span class="p">${</span><span class="nx">s</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"Oh no! It broke!"</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="s2">`Oh no! </span><span class="p">${</span><span class="nx">s</span><span class="p">}</span><span class="s2">`</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"Oh no! It broke!"</span>
</pre>
<h4>
<a id="chainrej" class="anchor" href="#chainrej" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>chainRej</h4>
<pre lang="hs" class="highlight-hs"><span class="n">chainRej</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">b</span>
</pre>
<p>Chain over the <strong>rejection</strong> reason of the Future. This is like
<a href="#chain"><code>chain</code></a>, but for the rejection branch.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">chainRej</span> <span class="p">(</span><span class="nx">s</span> <span class="o">=&gt;</span> <span class="nx">resolve</span> <span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">s</span><span class="p">}</span><span class="s2"> But it's all good.`</span><span class="p">))</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"It broke! But it's all good."</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="s2">`</span><span class="p">${</span><span class="nx">s</span><span class="p">}</span><span class="s2"> But it's all good.`</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"It broke! But it's all good."</span>
</pre>
<h4>
<a id="coalesce" class="anchor" href="#coalesce" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>coalesce</h4>
<pre lang="hs" class="highlight-hs"><span class="n">coalesce</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">d</span> <span class="n">c</span>
</pre>
<p>Applies the left function to the rejection value, or the right function to the
resolution value, depending on which is present, and resolves with the result.</p>
<p>This provides a convenient means to ensure a Future is always resolved. It can
be used with other type constructors, like <a href="https://sanctuary.js.org/#either-type" rel="nofollow"><code>S.Either</code></a>, to maintain
a representation of failure.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">coalesce</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Left</span><span class="p">)</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Right</span><span class="p">)</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'hello'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="nx">Right</span> <span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">coalesce</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Left</span><span class="p">)</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Right</span><span class="p">)</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="nx">Left</span> <span class="p">(</span><span class="s2">"It broke!"</span><span class="p">)</span>
</pre>
<p>For comparison, an approximation with Promises is:</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'hello'</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Right</span><span class="p">,</span> <span class="nx">S</span><span class="p">.</span><span class="nx">Left</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="nx">Right</span> <span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span>

<span class="o">&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Right</span><span class="p">,</span> <span class="nx">S</span><span class="p">.</span><span class="nx">Left</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="nx">Left</span> <span class="p">(</span><span class="s2">"It broke!"</span><span class="p">)</span>
</pre>
<h3>
<a id="combining-futures" class="anchor" href="#combining-futures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Combining Futures</h3>
<h4>
<a id="ap" class="anchor" href="#ap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ap</h4>
<pre lang="hs" class="highlight-hs"><span class="n">ap</span> <span class="o">::</span> <span class="kt">Apply</span> <span class="n">m</span> <span class="o">=&gt;</span> <span class="n">m</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span>
</pre>
<p>Applies the function contained in the right-hand Future or <a href="https://github.com/fantasyland/fantasy-land#apply" rel="nofollow">Apply</a>
to the value contained in the left-hand Future or Apply. This process can be
repeated to gradually fill out multiple function arguments of a curried
function, as shown below.</p>
<p>Note that the Futures will be executed in sequence - not in parallel* -
because of the Monadic nature of Futures. The execution order is, as
specified by Fantasy Land, <code>m (a -&gt; b)</code> first followed by <code>m a</code>.
So that's <em>right before left</em>.</p>
<p>* Have a look at <a href="#pap"><code>pap</code></a> for an <code>ap</code> function that runs its arguments
in parallel. If you must use <code>ap</code> (because you're creating a generalized
function), but still want Futures passed into it to run in parallel, then
you could use <a href="#concurrentfuture">ConcurrentFuture</a> instead.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">ap</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">7</span><span class="p">))</span> <span class="p">(</span><span class="nx">ap</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">49</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">y</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">-</span> <span class="nx">y</span><span class="p">))))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="pap" class="anchor" href="#pap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>pap</h4>
<pre lang="hs" class="highlight-hs"><span class="n">pap</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">c</span>
</pre>
<p>Has the same signature and function as <a href="#ap"><code>ap</code></a>, but runs the two Futures
given to it in parallel. See also <a href="#concurrentfuture">ConcurrentFuture</a> for a
more general way to achieve this.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">pap</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">7</span><span class="p">))</span> <span class="p">(</span><span class="nx">pap</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">49</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">y</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">-</span> <span class="nx">y</span><span class="p">))))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="alt" class="anchor" href="#alt" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>alt</h4>
<pre lang="hs" class="highlight-hs"><span class="n">alt</span> <span class="o">::</span> <span class="kt">Alt</span> <span class="n">f</span> <span class="o">=&gt;</span> <span class="n">f</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">f</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">f</span> <span class="n">a</span>
</pre>
<p>Select one of two <a href="#types">Alts</a>.</p>
<p>Behaves like logical <em>or</em> on <a href="#future"><code>Future</code></a> instances, returning a new
Future which either resolves with the first resolution value, or rejects with
the last rejection reason. We can use it if we want a computation to run only
if another has failed.</p>
<p>Note that the Futures will be executed in sequence - not in parallel* -
because of the Monadic nature of Futures. The <em>right</em> Future is evaluated
before the <em>left</em> Future.</p>
<p>See also <a href="#and"><code>and</code></a> and <a href="#lastly"><code>lastly</code></a>.</p>
<p>* If you'd like to use a parallel implementation of <code>alt</code>, you could simply
use <a href="#race"><code>race</code></a>. Alternatively you could wrap your Future instances
with <a href="#concurrentfuture"><code>Par</code></a> before passing them to <code>alt</code>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">alt</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'right'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"right"</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">alt</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"left"</span>
</pre>
<h4>
<a id="and" class="anchor" href="#and" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>and</h4>
<pre lang="hs" class="highlight-hs"><span class="n">and</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">c</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">c</span>
</pre>
<p>Logical <em>and</em> for Futures.</p>
<p>Returns a new Future which either rejects with the first rejection reason, or
resolves with the last resolution value once and if both Futures resolve. We
can use it if we want a computation to run only after another has succeeded.
The <em>right</em> Future is evaluated before the <em>left</em> Future.</p>
<p>See also <a href="#alt"><code>alt</code></a> and <a href="#lastly"><code>lastly</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">and</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'right'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"left"</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">and</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"It broke!"</span>
</pre>
<h4>
<a id="lastly" class="anchor" href="#lastly" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>lastly</h4>
<pre lang="hs" class="highlight-hs"><span class="n">lastly</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">c</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Run a second Future after the first settles (successfully or unsuccessfully).
Rejects with the rejection reason from the first or second Future, or resolves
with the resolution value from the first Future. This can be used to run a
computation after another settles, successfully or unsuccessfully.</p>
<p>If you're looking to clean up resources after running a computation which
acquires them, you should use <a href="#hook"><code>hook</code></a>, which has many more fail-safes
in place.</p>
<p>See also <a href="#and"><code>and</code></a> and <a href="#alt"><code>alt</code></a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">lastly</span> <span class="p">(</span><span class="nx">encase</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'lastly'</span><span class="p">))</span> <span class="p">(</span><span class="s1">'All done!'</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">lastly</span><span class="p">]:</span> <span class="s2">"All done!"</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h3>
<a id="consuming-futures" class="anchor" href="#consuming-futures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Consuming Futures</h3>
<h4>
<a id="fork" class="anchor" href="#fork" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>fork</h4>
<pre lang="hs" class="highlight-hs"><span class="n">fork</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Cancel</span>
</pre>
<p>Execute the computation represented by a Future, passing <code>reject</code> and <code>resolve</code>
callbacks to continue once there is a result.</p>
<p>This function is called <code>fork</code> because it literally represents a fork in our
program: a point where a single code-path splits in two. It is recommended to
keep the number of calls to <code>fork</code> at a minimum for this reason. The more
forks, the higher the code complexity.</p>
<p>Generally, one only needs to call <code>fork</code> in a single place in the entire
program.</p>
<p>After we <code>fork</code> a Future, the computation will start running. If the program
decides halfway through that it's no longer interested in the result of the
computation, it can call the <code>unsubscribe</code> function returned by <code>fork</code>. See
<a href="#cancellation">Cancellation</a>.</p>
<p>If an exception was encountered during the computation, it will be re-thrown
by <code>fork</code> and likely not be catchable. You can handle it using
<code>process.on('uncaughtException')</code> in Node, or use <a href="#forkcatch"><code>forkCatch</code></a>.</p>
<p>Almost all code examples in Fluture use <code>fork</code> to run the computation. There
are some variations on <code>fork</code> that serve different purposes below.</p>
<h4>
<a id="forkcatch" class="anchor" href="#forkcatch" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>forkCatch</h4>
<pre lang="hs" class="highlight-hs"><span class="n">forkCatch</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Error</span> <span class="o">-&gt;</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Cancel</span>
</pre>
<p>An advanced version of <a href="#fork">fork</a> that allows us to react to a fatal error
in a custom way. Fatal errors occur when unexpected exceptions are thrown, when
the Fluture API is used incorrectly, or when resources couldn't be disposed.</p>
<p>The exception handler will always be called with an instance of <code>Error</code>,
independent of what caused the crash.</p>
<p><strong>Using this function is a trade-off;</strong></p>
<p>Generally it's best to let a program crash and restart when an a fatal error
occurs. Restarting is the surest way to restore the memory that was allocated
by the program to an expected state.</p>
<p>By using <code>forkCatch</code>, we can keep our program alive after a fatal error, which
can be very beneficial when the program is being used by multiple clients.
However, since fatal errors might indicate that something, somewhere has
entered an invalid state, it's probably still best to restart our program upon
encountering one.</p>
<p>See <a href="#debugging">Debugging</a> for information about the Error object that is
passed to your exception handler.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">forkCatch</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'fatal error'</span><span class="p">))</span>
<span class="p">.</span>           <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>           <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>           <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="p">.</span><span class="nx">foo</span><span class="p">)</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="kc">null</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">fatal</span> <span class="nx">error</span><span class="p">]:</span> <span class="k">new</span> <span class="nb">Error</span> <span class="p">(</span><span class="s2">"Cannot read property 'foo' of null"</span><span class="p">)</span>
</pre>
<h4>
<a id="value" class="anchor" href="#value" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>value</h4>
<pre lang="hs" class="highlight-hs"><span class="n">value</span> <span class="o">::</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Cancel</span>
</pre>
<p>Like <a href="#fork"><code>fork</code></a> but for the resolution branch only. Only use this function
if you are sure the Future is going to be resolved, for example; after using
<a href="#coalesce"><code>coalesce</code></a>. If the Future rejects, <code>value</code> will throw an Error.</p>
<p>As with <a href="#fork"><code>fork</code></a>, <code>value</code> returns an <code>unsubscribe</code> function. See
<a href="#cancellation">Cancellation</a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">value</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="done" class="anchor" href="#done" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>done</h4>
<pre lang="hs" class="highlight-hs"><span class="n">done</span> <span class="o">::</span> <span class="kt">Nodeback</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Cancel</span>
</pre>
<p>Run the Future using a <a href="#types">Nodeback</a> as the continuation.</p>
<p>This is like <a href="#fork"><code>fork</code></a>, but instead of taking two unary functions, it
takes a single binary function.</p>
<p>As with <a href="#fork"><code>fork</code></a>, <code>done</code> returns an <code>unsubscribe</code> function. See
<a href="#cancellation">Cancellation</a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">done</span> <span class="p">((</span><span class="nx">err</span><span class="p">,</span> <span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">)</span> <span class="p">(</span><span class="nx">val</span><span class="p">))</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="promise" class="anchor" href="#promise" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>promise</h4>
<pre lang="hs" class="highlight-hs"><span class="n">promise</span> <span class="o">::</span> <span class="kt">Future</span> <span class="kt">Error</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Promise</span> <span class="kt">Error</span> <span class="n">a</span>
</pre>
<p>Run the Future and get a Promise to represent its continuation.</p>
<p>Returns a Promise which resolves with the resolution value, or rejects with
the rejection reason of the Future.</p>
<p>If an exception was encountered during the computation, the promise will reject
with it. I recommend using <a href="#coalesce"><code>coalesce</code></a> before <code>promise</code> to ensure
that exceptions and rejections are not mixed into the Promise rejection branch.</p>
<p>Cancellation capabilities are lost when using <code>promise</code> to consume the Future.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">promise</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">))</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>

<span class="o">&gt;</span> <span class="nx">promise</span> <span class="p">(</span><span class="nx">reject</span> <span class="p">(</span><span class="s1">'failure'</span><span class="p">))</span> <span class="p">.</span><span class="nx">then</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">),</span> <span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">[</span><span class="nx">rejection</span><span class="p">]:</span> <span class="s2">"failure"</span>
</pre>
<h3>
<a id="parallelism" class="anchor" href="#parallelism" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parallelism</h3>
<h4>
<a id="race" class="anchor" href="#race" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>race</h4>
<pre lang="hs" class="highlight-hs"><span class="n">race</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Race two Futures against each other. Creates a new Future which resolves or
rejects with the resolution or rejection value of the first Future to settle.</p>
<p>When one Future settles, the other gets cancelled automatically.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">race</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="p">(</span><span class="s1">'right'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"left"</span>
</pre>
<h4>
<a id="both" class="anchor" href="#both" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>both</h4>
<pre lang="hs" class="highlight-hs"><span class="n">both</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">c</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="p">(</span><span class="kt">Pair</span> <span class="n">b</span> <span class="n">c</span><span class="p">)</span>
</pre>
<p>Run two Futures in parallel and get a <a href="#types"><code>Pair</code></a> of the results. When
either Future rejects, the other Future will be cancelled and the resulting
Future will reject.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">both</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="p">(</span><span class="s1">'right'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="p">[</span><span class="s2">"left"</span><span class="p">,</span> <span class="s2">"right"</span><span class="p">]</span>
</pre>
<h4>
<a id="parallel" class="anchor" href="#parallel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>parallel</h4>
<pre lang="hs" class="highlight-hs"><span class="n">parallel</span> <span class="o">::</span> <span class="kt">PositiveInteger</span> <span class="o">-&gt;</span> <span class="kt">Array</span> <span class="p">(</span><span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="p">(</span><span class="kt">Array</span> <span class="n">b</span><span class="p">)</span>
</pre>
<p>Creates a Future which when forked runs all Futures in the given Array in
parallel, ensuring no more than <code>limit</code> Futures are running at once.</p>
<p>In the following example, we're running up to 5 Futures in parallel. Every
Future takes about 20ms to settle, which means the result should appear after
about 40ms.</p>
<p>If we use <code>1</code> for the limit, the Futures would run in sequence, causing the
result to appear only after 200ms.</p>
<p>We can also use <code>Infinity</code> as the limit. This would create a function similar
to <code>Promise.all</code>, which always runs all Futures in parallel. This can easily
cause the computation to consume too many resources, however, so I would
advise using a number roughly equal to maximum size of Array you think your
program should handle.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">parallel</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="k">from</span> <span class="p">(</span><span class="nb">Array</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="p">.</span><span class="nx">keys</span> <span class="p">())</span> <span class="p">.</span><span class="nx">map</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">))))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre>
<p>When one Future rejects, all currently running Futures will be cancelled and
the resulting Future will reject. If you want to settle all Futures, even if
some may fail, you can use <code>parallel</code> in combination with
<a href="#coalesce">coalesce</a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">parallel</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">([</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">),</span> <span class="nx">reject</span> <span class="p">(</span><span class="s1">'It broke!'</span><span class="p">)]</span>
<span class="p">.</span>                     <span class="p">.</span><span class="nx">map</span> <span class="p">(</span><span class="nx">coalesce</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Left</span><span class="p">)</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">Right</span><span class="p">))))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="p">[</span><span class="nx">Right</span> <span class="p">(</span><span class="mi">42</span><span class="p">),</span> <span class="nx">Left</span> <span class="p">(</span><span class="s2">"It broke!"</span><span class="p">)]</span>
</pre>
<h4>
<a id="concurrentfuture" class="anchor" href="#concurrentfuture" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ConcurrentFuture</h4>
<p>The <code>ConcurrentFuture</code> type is very similar to the <code>Future</code> type, except that
it has <em>parallel</em> semantics where <code>Future</code> has <em>sequential</em> semantics.</p>
<p>These sematics are most notable in the implementation of Applicative for
<code>ConcurrentFuture</code>. When using <a href="#ap"><code>ap</code></a> on two ConcurrentFutures, they
run parallely, whereas regular <code>Future</code> instances would've run sequentially.
This means that <code>ConcurrentFuture</code> cannot be a Monad, which is why we have
it as a separate type.</p>
<p>The implementation of Alternative on <code>ConcurrentFuture</code> has parallel semantics
as well. Whereas <a href="#alt"><code>alt</code></a> on regular Futures uses the failure effect to
determine a winner, on ConcurrentFutures <em>timing</em> is used, and the winner will
be whichever ConcurrentFuture settled first.</p>
<p>The idea is that we can switch back and forth between <code>Future</code> and
<code>ConcurrentFuture</code>, using <a href="#par"><code>Par</code></a> and <a href="#seq"><code>seq</code></a>, to get sequential or
concurrent behaviour respectively. It's a useful type to pass to abstractions
that don't know about Future-specific functions like <a href="#parallel"><code>parallel</code></a> or
<a href="#race"><code>race</code></a>, but <em>do</em> know how to operate on Apply and Alternative.</p>
<pre lang="js" class="highlight-js"><span class="c1">//Some dummy values</span>
<span class="kd">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">41</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">//The following two are equal ways to construct a ConcurrentFuture</span>
<span class="kd">const</span> <span class="nx">parx</span> <span class="o">=</span> <span class="nx">S</span><span class="p">.</span><span class="k">of</span> <span class="p">(</span><span class="nx">Par</span><span class="p">)</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">parf</span> <span class="o">=</span> <span class="nx">Par</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="k">of</span> <span class="p">(</span><span class="nx">Future</span><span class="p">)</span> <span class="p">(</span><span class="nx">f</span><span class="p">))</span>

<span class="c1">//We can make use of parallel apply</span>
<span class="nx">value</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">seq</span> <span class="p">(</span><span class="nx">ap</span> <span class="p">(</span><span class="nx">parx</span><span class="p">)</span> <span class="p">(</span><span class="nx">parf</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>

<span class="c1">//Concurrent sequencing</span>
<span class="nx">value</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">seq</span> <span class="p">(</span><span class="nx">S</span><span class="p">.</span><span class="nx">sequence</span> <span class="p">(</span><span class="nx">Par</span><span class="p">)</span> <span class="p">([</span><span class="nx">parx</span><span class="p">,</span> <span class="nx">parx</span><span class="p">,</span> <span class="nx">parx</span><span class="p">])))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="p">[</span><span class="mi">41</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">41</span><span class="p">]</span>

<span class="c1">//And concurrent alt</span>
<span class="nx">value</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">alt</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="p">(</span><span class="s1">'left'</span><span class="p">))</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="p">(</span><span class="s1">'right'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"left"</span>
</pre>
<h5>
<a id="par" class="anchor" href="#par" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Par</h5>
<pre lang="hs" class="highlight-hs"><span class="kt">Par</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">ConcurrentFuture</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Converts a Future to a ConcurrentFuture.</p>
<h5>
<a id="seq" class="anchor" href="#seq" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>seq</h5>
<p>Converts a ConcurrentFuture to a Future.</p>
<pre lang="hs" class="highlight-hs"><span class="n">seq</span> <span class="o">::</span> <span class="kt">ConcurrentFuture</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<h3>
<a id="resource-management" class="anchor" href="#resource-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Resource management</h3>
<p>Functions listed under this category allow for more fine-grained control over
the flow of acquired values.</p>
<h4>
<a id="hook" class="anchor" href="#hook" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>hook</h4>
<pre lang="hs" class="highlight-hs"><span class="n">hook</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">c</span> <span class="n">d</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">e</span>
</pre>
<p>Combines resource acquisition, consumption, and disposal in such a way that you
can be sure that a resource will always be disposed if it was acquired, even if
an exception is thrown during consumption; Sometimes referred to as bracketing.</p>
<p>The signature is like <code>hook (acquire, dispose, consume)</code>, where:</p>
<ul>
<li>
<code>acquire</code> is a Future which might create connections, open files, etc.</li>
<li>
<code>dispose</code> is a function that takes the result from <code>acquire</code> and should be
used to clean up (close connections etc). The Future it returns must
resolve, and its resolution value is ignored. If it rejects, a fatal error
is raised which can only be handled with <a href="#forkcatch"><code>forkCatch</code></a>.</li>
<li>
<code>consume</code> is another Function takes the result from <code>acquire</code>, and may be
used to perform any arbitrary computations using the resource.</li>
</ul>
<p>Typically, you'd want to partially apply this function with the first two
arguments (acquisition and disposal), as shown in the example.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="k">import</span> <span class="p">{</span><span class="nx">open</span><span class="p">,</span> <span class="nx">read</span><span class="p">,</span> <span class="nx">close</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fs'</span>

<span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">withFile</span> <span class="o">=</span> <span class="nx">hook</span> <span class="p">(</span><span class="nx">node</span> <span class="p">(</span><span class="nx">done</span> <span class="o">=&gt;</span> <span class="nx">open</span> <span class="p">(</span><span class="s1">'package.json'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">,</span> <span class="nx">done</span><span class="p">)))</span>
<span class="p">.</span>                       <span class="p">(</span><span class="nx">fd</span> <span class="o">=&gt;</span> <span class="nx">node</span> <span class="p">(</span><span class="nx">done</span> <span class="o">=&gt;</span> <span class="nx">close</span> <span class="p">(</span><span class="nx">fd</span><span class="p">,</span> <span class="nx">done</span><span class="p">)))</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span>
<span class="p">.</span>      <span class="p">(</span><span class="nx">withFile</span> <span class="p">(</span><span class="nx">fd</span> <span class="o">=&gt;</span> <span class="nx">node</span> <span class="p">(</span><span class="nx">done</span> <span class="o">=&gt;</span> <span class="p">(</span>
<span class="p">.</span>        <span class="nx">read</span> <span class="p">(</span><span class="nx">fd</span><span class="p">,</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">alloc</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">done</span> <span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">x</span><span class="p">)))</span>
<span class="p">.</span>      <span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="o">&lt;</span><span class="nx">Buffer</span> <span class="mi">7</span><span class="nx">b</span><span class="o">&gt;</span>
</pre>
<p>When a hooked Future is cancelled while acquiring its resource, nothing else
will happen. When it's cancelled after acquistion completes, however, the
disposal will still run, and if it fails, an exception will be thrown.</p>
<p>If you have multiple resources that you'd like to consume all at once, you can
use <a href="https://github.com/fluture-js/fluture-hooks" rel="nofollow">Fluture Hooks</a> to combine
multiple hooks into one.</p>
<h3>
<a id="utility-functions" class="anchor" href="#utility-functions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Utility functions</h3>
<h4>
<a id="pipe" class="anchor" href="#pipe" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>pipe</h4>
<pre lang="hs" class="highlight-hs"><span class="kt">Future</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">pipe</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">~&gt;</span> <span class="p">(</span><span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">c</span>
</pre>
<p>A method available on all Futures to allow arbitrary functions over Futures to
be included in a fluent-style method chain.</p>
<p>You can think of this as a fallback for the <a href="https://github.com/tc39/proposal-pipeline-operator" rel="nofollow">ESNext pipe operator (<code>|&gt;</code>)</a>.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">resolve</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">y</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">)</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">ap</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">)))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">ap</span> <span class="p">(</span><span class="nx">after</span> <span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="p">(</span><span class="mf">13.37</span><span class="p">)))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">))</span>
<span class="p">.</span> <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">)))</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="mi">42</span>
</pre>
<h4>
<a id="cache" class="anchor" href="#cache" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>cache</h4>
<pre lang="hs" class="highlight-hs"><span class="n">cache</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>Returns a Future which caches the resolution value or rejection reason of the
given Future so that whenever it's forked, it can load the value from cache
rather than re-executing the underlying computation.</p>
<p>This essentially turns a unicast Future into a multicast Future, allowing
multiple consumers to subscribe to the same result. The underlying computation
is never <a href="#cancellation">cancelled</a> unless <em>all</em> consumers unsubscribe before
it completes.</p>
<p><strong>There is a glaring drawback to using <code>cache</code></strong>, which is that returned
Futures are no longer referentially transparent, making reasoning about them
more difficult and refactoring code that uses them harder.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="k">import</span> <span class="p">{</span><span class="nx">readFile</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'fs'</span>

<span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">eventualPackageName</span> <span class="o">=</span> <span class="p">(</span>
<span class="p">.</span>   <span class="nx">node</span> <span class="p">(</span><span class="nx">done</span> <span class="o">=&gt;</span> <span class="nx">readFile</span> <span class="p">(</span><span class="s1">'package.json'</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">,</span> <span class="nx">done</span><span class="p">))</span>
<span class="p">.</span>   <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">chain</span> <span class="p">(</span><span class="nx">encase</span> <span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">)))</span>
<span class="p">.</span>   <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">chain</span> <span class="p">(</span><span class="nx">encase</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="p">.</span><span class="nx">name</span><span class="p">)))</span>
<span class="p">.</span>   <span class="p">.</span><span class="nx">pipe</span> <span class="p">(</span><span class="nx">map</span> <span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="p">.</span>      <span class="nx">log</span> <span class="p">(</span><span class="s1">'debug'</span><span class="p">)</span> <span class="p">(</span><span class="s1">'Read, parsed, and traversed the package data'</span><span class="p">)</span>
<span class="p">.</span>      <span class="k">return</span> <span class="nx">data</span>
<span class="p">.</span>    <span class="p">}))</span>
<span class="p">.</span> <span class="p">)</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">eventualPackageName</span><span class="p">)</span>
<span class="p">[</span><span class="nx">debug</span><span class="p">]:</span> <span class="s2">"Read, parsed, and traversed the package data"</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Fluture"</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">eventualPackageName</span><span class="p">)</span>
<span class="p">[</span><span class="nx">debug</span><span class="p">]:</span> <span class="s2">"Read, parsed, and traversed the package data"</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Fluture"</span>

<span class="o">&gt;</span> <span class="kd">const</span> <span class="nx">eventualCachedPackageName</span> <span class="o">=</span> <span class="nx">cache</span> <span class="p">(</span><span class="nx">eventualPackageName</span><span class="p">)</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">eventualCachedPackageName</span><span class="p">)</span>
<span class="p">[</span><span class="nx">debug</span><span class="p">]:</span> <span class="s2">"Read, parsed, and traversed the package data"</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Fluture"</span>

<span class="o">&gt;</span> <span class="nx">fork</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'rejection'</span><span class="p">))</span> <span class="p">(</span><span class="nx">log</span> <span class="p">(</span><span class="s1">'resolution'</span><span class="p">))</span> <span class="p">(</span><span class="nx">eventualCachedPackageName</span><span class="p">)</span>
<span class="p">[</span><span class="nx">resolution</span><span class="p">]:</span> <span class="s2">"Fluture"</span>
</pre>
<h4>
<a id="isfuture" class="anchor" href="#isfuture" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>isFuture</h4>
<pre lang="hs" class="highlight-hs"><span class="n">isFuture</span> <span class="o">::</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Boolean</span>
</pre>
<p>Returns true for <a href="#types">Futures</a> and false for everything else. This function
(and <a href="https://sanctuary.js.org/#is" rel="nofollow"><code>S.is</code></a>) also return <code>true</code> for instances of Future that were
created within other contexts. It is therefore recommended to use this over
<code>instanceof</code>, unless your intent is to explicitly check for Futures created
using the exact <code>Future</code> constructor you're testing against.</p>
<pre lang="js" class="highlight-js"><span class="o">&gt;</span> <span class="nx">isFuture</span> <span class="p">(</span><span class="nx">resolve</span> <span class="p">(</span><span class="mi">42</span><span class="p">))</span>
<span class="kc">true</span>

<span class="o">&gt;</span> <span class="nx">isFuture</span> <span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="kc">false</span>
</pre>
<h4>
<a id="never" class="anchor" href="#never" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>never</h4>
<pre lang="hs" class="highlight-hs"><span class="n">never</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span>
</pre>
<p>A Future that never settles. Can be useful as an initial value when reducing
with <a href="#race"><code>race</code></a>, for example.</p>
<h4>
<a id="isnever" class="anchor" href="#isnever" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>isNever</h4>
<pre lang="hs" class="highlight-hs"><span class="n">isNever</span> <span class="o">::</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Boolean</span>
</pre>
<p>Returns <code>true</code> if the given input is a <code>never</code>.</p>
<h4>
<a id="extractleft" class="anchor" href="#extractleft" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>extractLeft</h4>
<pre lang="hs" class="highlight-hs"><span class="n">extractLeft</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Array</span> <span class="n">a</span>
</pre>
<p>Returns an array whose only element is the rejection reason of the Future.
In many cases it will be impossible to extract this value; In those cases, the
array will be empty. This function is meant to be used for type introspection:
it is <strong>not</strong> the correct way to <a href="#consuming-futures">consume a Future</a>.</p>
<h4>
<a id="extractright" class="anchor" href="#extractright" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>extractRight</h4>
<pre lang="hs" class="highlight-hs"><span class="n">extractRight</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="kt">Array</span> <span class="n">b</span>
</pre>
<p>Returns an array whose only element is the resolution value of the Future.
In many cases it will be impossible to extract this value; In those cases, the
array will be empty. This function is meant to be used for type introspection:
it is <strong>not</strong> the correct way to <a href="#consuming-futures">consume a Future</a>.</p>
<h4>
<a id="debugmode" class="anchor" href="#debugmode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>debugMode</h4>
<pre lang="hs" class="highlight-hs"><span class="n">debugMode</span> <span class="o">::</span> <span class="kt">Boolean</span> <span class="o">-&gt;</span> <span class="kt">Undefined</span>
</pre>
<p>Enable or disable Fluture's debug mode. Debug mode is disabled by default.
Pass <code>true</code> to enable, or <code>false</code> to disable.</p>
<pre lang="js" class="highlight-js"><span class="nx">debugMode</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</pre>
<p>For more information, see <a href="#debugging">Debugging</a> and <a href="#context">Context</a>.</p>
<h4>
<a id="context" class="anchor" href="#context" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>context</h4>
<pre lang="hs" class="highlight-hs"><span class="kt">Future</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">context</span> <span class="o">::</span> <span class="kt">Future</span> <span class="n">a</span> <span class="n">b</span> <span class="o">~&gt;</span> <span class="kt">List</span> <span class="kt">Context</span>
</pre>
<p>A linked list of debugging contexts made available on every instance of
<code>Future</code>. When <a href="#debugmode">debug mode</a> is disabled, the list is always empty.</p>
<p>The context objects have <code>stack</code> properties which contain snapshots of the
stacktraces leading up to the creation of the <code>Future</code> instance. They are used
by Fluture to generate contextual stack traces.</p>
<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>
<p><a href="https://github.com/fluture-js/Fluture/blob/master/LICENSE" rel="nofollow">MIT licensed</a></p>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">(function(){window['__CF$cv$params']={r:'6120b8622f62e738',m:'3ae81d1041bf0ec77258e68da3e422fd6f26097d-1610725489-1800-Ae2P+fs3mzd/3iin54P2ZdyPhty+M0v+hUvIV9PK8MfCLeJ3bq/c1ZO4GqdmdWcZBrCzYDGazc/gkxny9ryGASWqXtaRQjhtSsYYBCVIf09zAC4G2DGIBe/TpAVIcoXdksFeo0S+nfRDSY1Xptw7RHk=',s:[0xd966b3b530,0x5056a5a74a],}})();</script></body></html>
</div><div><br/><div style="border:1px solid gray;border-radius:5px;background-color:lightgray;padding:2%"><div style="font-size:24px;font-weight:bold;margin-bottom:10px">Get A Weekly Email With Trending Projects For These Topics</div><div style="margin-bottom:10px">No Spam.  Unsubscribe easily at any time.</div><div><div><input type="checkbox" name="topics" value="javascript"/> <!-- -->javascript<!-- --> (<!-- -->67,310<!-- -->)Â </div><div><input type="checkbox" name="topics" value="functional-programming"/> <!-- -->functional-programming<!-- --> (<!-- -->457<!-- -->)Â </div><div><input type="checkbox" name="topics" value="async"/> <!-- -->async<!-- --> (<!-- -->452<!-- -->)Â </div><div><input type="checkbox" name="topics" value="promise"/> <!-- -->promise<!-- --> (<!-- -->197<!-- -->)Â </div><div><input type="checkbox" name="topics" value="monad"/> <!-- -->monad<!-- --> (<!-- -->59<!-- -->)Â </div><div><input type="checkbox" name="topics" value="algebraic-data-types"/> <!-- -->algebraic-data-types<!-- --> (<!-- -->28<!-- -->)Â </div><div><input type="checkbox" name="topics" value="future"/> <!-- -->future<!-- --> (<!-- -->25<!-- -->)Â </div><div><input type="checkbox" name="topics" value="fantasy-land"/> <!-- -->fantasy-land<!-- --> (<!-- -->14<!-- -->)Â </div></div><div><input type="email" style="width:95%;margin-top:10px;margin-bottom:10px;padding:5px;font-size:20px;border-radius:5px" name="email" placeholder="Your email address"/></div><div><input type="submit" style="color:white;background-color:#0366d6;font-size:20px;border:1px solid black;border-radius:5px;padding:5px;cursor:pointer" value="Subscribe"/></div></div></div><h2>Find Open Source By Browsing 7,000 Topics Across 59 Categories</h2><div class="aos_topics_sidebar" style="margin:0;width:100%"><div class="category_topic_filter_container"><input style="width:100%" placeholder="Search, browse and combine topics" value="" class="aos_filter_topics_input"/></div><div style="display:block;box-shadow:1px 1px 5px lightgray"><a data-category-name="Advertising" href="https://awesomeopensource.com/categories/advertising"><div class="aos_category_explorer_category_container" data-category-name="Advertising"><span data-category-name="Advertising">Advertising<span data-category-name="Advertising" class="aos_project_count"> ðŸ“¦Â <!-- -->10</span></span></div></a><a data-category-name="All Projects" href="https://awesomeopensource.com/projects"><div class="aos_category_explorer_category_container" data-category-name="All Projects"><span data-category-name="All Projects">All Projects</span></div></a><a data-category-name="Application Programming Interfaces" href="https://awesomeopensource.com/categories/application-programming-interfaces"><div class="aos_category_explorer_category_container" data-category-name="Application Programming Interfaces"><span data-category-name="Application Programming Interfaces">Application Programming Interfaces<span data-category-name="Application Programming Interfaces" class="aos_project_count"> ðŸ“¦Â <!-- -->124</span></span></div></a><a data-category-name="Applications" href="https://awesomeopensource.com/categories/applications"><div class="aos_category_explorer_category_container" data-category-name="Applications"><span data-category-name="Applications">Applications<span data-category-name="Applications" class="aos_project_count"> ðŸ“¦Â <!-- -->192</span></span></div></a><a data-category-name="Artificial Intelligence" href="https://awesomeopensource.com/categories/artificial-intelligence"><div class="aos_category_explorer_category_container" data-category-name="Artificial Intelligence"><span data-category-name="Artificial Intelligence">Artificial Intelligence<span data-category-name="Artificial Intelligence" class="aos_project_count"> ðŸ“¦Â <!-- -->78</span></span></div></a><a data-category-name="Blockchain" href="https://awesomeopensource.com/categories/blockchain"><div class="aos_category_explorer_category_container" data-category-name="Blockchain"><span data-category-name="Blockchain">Blockchain<span data-category-name="Blockchain" class="aos_project_count"> ðŸ“¦Â <!-- -->73</span></span></div></a><a data-category-name="Build Tools" href="https://awesomeopensource.com/categories/build-tools"><div class="aos_category_explorer_category_container" data-category-name="Build Tools"><span data-category-name="Build Tools">Build Tools<span data-category-name="Build Tools" class="aos_project_count"> ðŸ“¦Â <!-- -->113</span></span></div></a><a data-category-name="Cloud Computing" href="https://awesomeopensource.com/categories/cloud-computing"><div class="aos_category_explorer_category_container" data-category-name="Cloud Computing"><span data-category-name="Cloud Computing">Cloud Computing<span data-category-name="Cloud Computing" class="aos_project_count"> ðŸ“¦Â <!-- -->80</span></span></div></a><a data-category-name="Code Quality" href="https://awesomeopensource.com/categories/code-quality"><div class="aos_category_explorer_category_container" data-category-name="Code Quality"><span data-category-name="Code Quality">Code Quality<span data-category-name="Code Quality" class="aos_project_count"> ðŸ“¦Â <!-- -->28</span></span></div></a><a data-category-name="Collaboration" href="https://awesomeopensource.com/categories/collaboration"><div class="aos_category_explorer_category_container" data-category-name="Collaboration"><span data-category-name="Collaboration">Collaboration<span data-category-name="Collaboration" class="aos_project_count"> ðŸ“¦Â <!-- -->32</span></span></div></a><a data-category-name="Command Line Interface" href="https://awesomeopensource.com/categories/command-line-interface"><div class="aos_category_explorer_category_container" data-category-name="Command Line Interface"><span data-category-name="Command Line Interface">Command Line Interface<span data-category-name="Command Line Interface" class="aos_project_count"> ðŸ“¦Â <!-- -->49</span></span></div></a><a data-category-name="Community" href="https://awesomeopensource.com/categories/community"><div class="aos_category_explorer_category_container" data-category-name="Community"><span data-category-name="Community">Community<span data-category-name="Community" class="aos_project_count"> ðŸ“¦Â <!-- -->83</span></span></div></a><a data-category-name="Companies" href="https://awesomeopensource.com/categories/companies"><div class="aos_category_explorer_category_container" data-category-name="Companies"><span data-category-name="Companies">Companies<span data-category-name="Companies" class="aos_project_count"> ðŸ“¦Â <!-- -->60</span></span></div></a><a data-category-name="Compilers" href="https://awesomeopensource.com/categories/compilers"><div class="aos_category_explorer_category_container" data-category-name="Compilers"><span data-category-name="Compilers">Compilers<span data-category-name="Compilers" class="aos_project_count"> ðŸ“¦Â <!-- -->63</span></span></div></a><a data-category-name="Computer Science" href="https://awesomeopensource.com/categories/computer-science"><div class="aos_category_explorer_category_container" data-category-name="Computer Science"><span data-category-name="Computer Science">Computer Science<span data-category-name="Computer Science" class="aos_project_count"> ðŸ“¦Â <!-- -->80</span></span></div></a><a data-category-name="Configuration Management" href="https://awesomeopensource.com/categories/configuration-management"><div class="aos_category_explorer_category_container" data-category-name="Configuration Management"><span data-category-name="Configuration Management">Configuration Management<span data-category-name="Configuration Management" class="aos_project_count"> ðŸ“¦Â <!-- -->42</span></span></div></a><a data-category-name="Content Management" href="https://awesomeopensource.com/categories/content-management"><div class="aos_category_explorer_category_container" data-category-name="Content Management"><span data-category-name="Content Management">Content Management<span data-category-name="Content Management" class="aos_project_count"> ðŸ“¦Â <!-- -->175</span></span></div></a><a data-category-name="Control Flow" href="https://awesomeopensource.com/categories/control-flow"><div class="aos_category_explorer_category_container" data-category-name="Control Flow"><span data-category-name="Control Flow">Control Flow<span data-category-name="Control Flow" class="aos_project_count"> ðŸ“¦Â <!-- -->213</span></span></div></a><a data-category-name="Data Formats" href="https://awesomeopensource.com/categories/data-formats"><div class="aos_category_explorer_category_container" data-category-name="Data Formats"><span data-category-name="Data Formats">Data Formats<span data-category-name="Data Formats" class="aos_project_count"> ðŸ“¦Â <!-- -->78</span></span></div></a><a data-category-name="Data Processing" href="https://awesomeopensource.com/categories/data-processing"><div class="aos_category_explorer_category_container" data-category-name="Data Processing"><span data-category-name="Data Processing">Data Processing<span data-category-name="Data Processing" class="aos_project_count"> ðŸ“¦Â <!-- -->276</span></span></div></a><a data-category-name="Data Storage" href="https://awesomeopensource.com/categories/data-storage"><div class="aos_category_explorer_category_container" data-category-name="Data Storage"><span data-category-name="Data Storage">Data Storage<span data-category-name="Data Storage" class="aos_project_count"> ðŸ“¦Â <!-- -->135</span></span></div></a><a data-category-name="Economics" href="https://awesomeopensource.com/categories/economics"><div class="aos_category_explorer_category_container" data-category-name="Economics"><span data-category-name="Economics">Economics<span data-category-name="Economics" class="aos_project_count"> ðŸ“¦Â <!-- -->64</span></span></div></a><a data-category-name="Frameworks" href="https://awesomeopensource.com/categories/frameworks"><div class="aos_category_explorer_category_container" data-category-name="Frameworks"><span data-category-name="Frameworks">Frameworks<span data-category-name="Frameworks" class="aos_project_count"> ðŸ“¦Â <!-- -->215</span></span></div></a><a data-category-name="Games" href="https://awesomeopensource.com/categories/games"><div class="aos_category_explorer_category_container" data-category-name="Games"><span data-category-name="Games">Games<span data-category-name="Games" class="aos_project_count"> ðŸ“¦Â <!-- -->129</span></span></div></a><a data-category-name="Graphics" href="https://awesomeopensource.com/categories/graphics"><div class="aos_category_explorer_category_container" data-category-name="Graphics"><span data-category-name="Graphics">Graphics<span data-category-name="Graphics" class="aos_project_count"> ðŸ“¦Â <!-- -->110</span></span></div></a><a data-category-name="Hardware" href="https://awesomeopensource.com/categories/hardware"><div class="aos_category_explorer_category_container" data-category-name="Hardware"><span data-category-name="Hardware">Hardware<span data-category-name="Hardware" class="aos_project_count"> ðŸ“¦Â <!-- -->152</span></span></div></a><a data-category-name="Integrated Development Environments" href="https://awesomeopensource.com/categories/integrated-development-environments"><div class="aos_category_explorer_category_container" data-category-name="Integrated Development Environments"><span data-category-name="Integrated Development Environments">Integrated Development Environments<span data-category-name="Integrated Development Environments" class="aos_project_count"> ðŸ“¦Â <!-- -->49</span></span></div></a><a data-category-name="Learning Resources" href="https://awesomeopensource.com/categories/learning-resources"><div class="aos_category_explorer_category_container" data-category-name="Learning Resources"><span data-category-name="Learning Resources">Learning Resources<span data-category-name="Learning Resources" class="aos_project_count"> ðŸ“¦Â <!-- -->166</span></span></div></a><a data-category-name="Legal" href="https://awesomeopensource.com/categories/legal"><div class="aos_category_explorer_category_container" data-category-name="Legal"><span data-category-name="Legal">Legal<span data-category-name="Legal" class="aos_project_count"> ðŸ“¦Â <!-- -->29</span></span></div></a><a data-category-name="Libraries" href="https://awesomeopensource.com/categories/libraries"><div class="aos_category_explorer_category_container" data-category-name="Libraries"><span data-category-name="Libraries">Libraries<span data-category-name="Libraries" class="aos_project_count"> ðŸ“¦Â <!-- -->129</span></span></div></a><a data-category-name="Lists Of Projects" href="https://awesomeopensource.com/categories/lists-of-projects"><div class="aos_category_explorer_category_container" data-category-name="Lists Of Projects"><span data-category-name="Lists Of Projects">Lists Of Projects<span data-category-name="Lists Of Projects" class="aos_project_count"> ðŸ“¦Â <!-- -->22</span></span></div></a><a data-category-name="Machine Learning" href="https://awesomeopensource.com/categories/machine-learning"><div class="aos_category_explorer_category_container" data-category-name="Machine Learning"><span data-category-name="Machine Learning">Machine Learning<span data-category-name="Machine Learning" class="aos_project_count"> ðŸ“¦Â <!-- -->347</span></span></div></a><a data-category-name="Mapping" href="https://awesomeopensource.com/categories/mapping"><div class="aos_category_explorer_category_container" data-category-name="Mapping"><span data-category-name="Mapping">Mapping<span data-category-name="Mapping" class="aos_project_count"> ðŸ“¦Â <!-- -->64</span></span></div></a><a data-category-name="Marketing" href="https://awesomeopensource.com/categories/marketing"><div class="aos_category_explorer_category_container" data-category-name="Marketing"><span data-category-name="Marketing">Marketing<span data-category-name="Marketing" class="aos_project_count"> ðŸ“¦Â <!-- -->15</span></span></div></a><a data-category-name="Mathematics" href="https://awesomeopensource.com/categories/mathematics"><div class="aos_category_explorer_category_container" data-category-name="Mathematics"><span data-category-name="Mathematics">Mathematics<span data-category-name="Mathematics" class="aos_project_count"> ðŸ“¦Â <!-- -->55</span></span></div></a><a data-category-name="Media" href="https://awesomeopensource.com/categories/media"><div class="aos_category_explorer_category_container" data-category-name="Media"><span data-category-name="Media">Media<span data-category-name="Media" class="aos_project_count"> ðŸ“¦Â <!-- -->239</span></span></div></a><a data-category-name="Messaging" href="https://awesomeopensource.com/categories/messaging"><div class="aos_category_explorer_category_container" data-category-name="Messaging"><span data-category-name="Messaging">Messaging<span data-category-name="Messaging" class="aos_project_count"> ðŸ“¦Â <!-- -->98</span></span></div></a><a data-category-name="Networking" href="https://awesomeopensource.com/categories/networking"><div class="aos_category_explorer_category_container" data-category-name="Networking"><span data-category-name="Networking">Networking<span data-category-name="Networking" class="aos_project_count"> ðŸ“¦Â <!-- -->315</span></span></div></a><a data-category-name="Operating Systems" href="https://awesomeopensource.com/categories/operating-systems"><div class="aos_category_explorer_category_container" data-category-name="Operating Systems"><span data-category-name="Operating Systems">Operating Systems<span data-category-name="Operating Systems" class="aos_project_count"> ðŸ“¦Â <!-- -->89</span></span></div></a><a data-category-name="Operations" href="https://awesomeopensource.com/categories/operations"><div class="aos_category_explorer_category_container" data-category-name="Operations"><span data-category-name="Operations">Operations<span data-category-name="Operations" class="aos_project_count"> ðŸ“¦Â <!-- -->121</span></span></div></a><a data-category-name="Package Managers" href="https://awesomeopensource.com/categories/package-managers"><div class="aos_category_explorer_category_container" data-category-name="Package Managers"><span data-category-name="Package Managers">Package Managers<span data-category-name="Package Managers" class="aos_project_count"> ðŸ“¦Â <!-- -->55</span></span></div></a><a data-category-name="Programming Languages" href="https://awesomeopensource.com/categories/programming-languages"><div class="aos_category_explorer_category_container" data-category-name="Programming Languages"><span data-category-name="Programming Languages">Programming Languages<span data-category-name="Programming Languages" class="aos_project_count"> ðŸ“¦Â <!-- -->245</span></span></div></a><a data-category-name="Runtime Environments" href="https://awesomeopensource.com/categories/runtime-environments"><div class="aos_category_explorer_category_container" data-category-name="Runtime Environments"><span data-category-name="Runtime Environments">Runtime Environments<span data-category-name="Runtime Environments" class="aos_project_count"> ðŸ“¦Â <!-- -->100</span></span></div></a><a data-category-name="Science" href="https://awesomeopensource.com/categories/science"><div class="aos_category_explorer_category_container" data-category-name="Science"><span data-category-name="Science">Science<span data-category-name="Science" class="aos_project_count"> ðŸ“¦Â <!-- -->42</span></span></div></a><a data-category-name="Security" href="https://awesomeopensource.com/categories/security"><div class="aos_category_explorer_category_container" data-category-name="Security"><span data-category-name="Security">Security<span data-category-name="Security" class="aos_project_count"> ðŸ“¦Â <!-- -->396</span></span></div></a><a data-category-name="Social Media" href="https://awesomeopensource.com/categories/social-media"><div class="aos_category_explorer_category_container" data-category-name="Social Media"><span data-category-name="Social Media">Social Media<span data-category-name="Social Media" class="aos_project_count"> ðŸ“¦Â <!-- -->27</span></span></div></a><a data-category-name="Software Architecture" href="https://awesomeopensource.com/categories/software-architecture"><div class="aos_category_explorer_category_container" data-category-name="Software Architecture"><span data-category-name="Software Architecture">Software Architecture<span data-category-name="Software Architecture" class="aos_project_count"> ðŸ“¦Â <!-- -->72</span></span></div></a><a data-category-name="Software Development" href="https://awesomeopensource.com/categories/software-development"><div class="aos_category_explorer_category_container" data-category-name="Software Development"><span data-category-name="Software Development">Software Development<span data-category-name="Software Development" class="aos_project_count"> ðŸ“¦Â <!-- -->72</span></span></div></a><a data-category-name="Software Performance" href="https://awesomeopensource.com/categories/software-performance"><div class="aos_category_explorer_category_container" data-category-name="Software Performance"><span data-category-name="Software Performance">Software Performance<span data-category-name="Software Performance" class="aos_project_count"> ðŸ“¦Â <!-- -->58</span></span></div></a><a data-category-name="Software Quality" href="https://awesomeopensource.com/categories/software-quality"><div class="aos_category_explorer_category_container" data-category-name="Software Quality"><span data-category-name="Software Quality">Software Quality<span data-category-name="Software Quality" class="aos_project_count"> ðŸ“¦Â <!-- -->133</span></span></div></a><a data-category-name="Text Editors" href="https://awesomeopensource.com/categories/text-editors"><div class="aos_category_explorer_category_container" data-category-name="Text Editors"><span data-category-name="Text Editors">Text Editors<span data-category-name="Text Editors" class="aos_project_count"> ðŸ“¦Â <!-- -->49</span></span></div></a><a data-category-name="Text Processing" href="https://awesomeopensource.com/categories/text-processing"><div class="aos_category_explorer_category_container" data-category-name="Text Processing"><span data-category-name="Text Processing">Text Processing<span data-category-name="Text Processing" class="aos_project_count"> ðŸ“¦Â <!-- -->136</span></span></div></a><a data-category-name="User Interface" href="https://awesomeopensource.com/categories/user-interface"><div class="aos_category_explorer_category_container" data-category-name="User Interface"><span data-category-name="User Interface">User Interface<span data-category-name="User Interface" class="aos_project_count"> ðŸ“¦Â <!-- -->330</span></span></div></a><a data-category-name="User Interface Components" href="https://awesomeopensource.com/categories/user-interface-components"><div class="aos_category_explorer_category_container" data-category-name="User Interface Components"><span data-category-name="User Interface Components">User Interface Components<span data-category-name="User Interface Components" class="aos_project_count"> ðŸ“¦Â <!-- -->514</span></span></div></a><a data-category-name="Version Control" href="https://awesomeopensource.com/categories/version-control"><div class="aos_category_explorer_category_container" data-category-name="Version Control"><span data-category-name="Version Control">Version Control<span data-category-name="Version Control" class="aos_project_count"> ðŸ“¦Â <!-- -->30</span></span></div></a><a data-category-name="Virtualization" href="https://awesomeopensource.com/categories/virtualization"><div class="aos_category_explorer_category_container" data-category-name="Virtualization"><span data-category-name="Virtualization">Virtualization<span data-category-name="Virtualization" class="aos_project_count"> ðŸ“¦Â <!-- -->71</span></span></div></a><a data-category-name="Web Browsers" href="https://awesomeopensource.com/categories/web-browsers"><div class="aos_category_explorer_category_container" data-category-name="Web Browsers"><span data-category-name="Web Browsers">Web Browsers<span data-category-name="Web Browsers" class="aos_project_count"> ðŸ“¦Â <!-- -->42</span></span></div></a><a data-category-name="Web Servers" href="https://awesomeopensource.com/categories/web-servers"><div class="aos_category_explorer_category_container" data-category-name="Web Servers"><span data-category-name="Web Servers">Web Servers<span data-category-name="Web Servers" class="aos_project_count"> ðŸ“¦Â <!-- -->26</span></span></div></a><a data-category-name="Web User Interface" href="https://awesomeopensource.com/categories/web-user-interface"><div class="aos_category_explorer_category_container" data-category-name="Web User Interface"><span data-category-name="Web User Interface">Web User Interface<span data-category-name="Web User Interface" class="aos_project_count"> ðŸ“¦Â <!-- -->210</span></span></div></a></div></div><div class="aos_project_metadata_trademark_notice">&quot;<!-- -->Fluture<!-- -->&quot; and other potentially trademarked words, copyrighted images and copyrighted readme contents likely belong to the legal entity who owns the &quot;<a href="https://github.com/fluture-js" target="_blank">Fluture <!-- -->Js</a>&quot; organization.  Awesome Open Source is not affiliated with the legal entity who owns the &quot;<a href="https://github.com/fluture-js" target="_blank">Fluture <!-- -->Js</a>&quot; organization.</div></div></div><div class="aos_fixed_footer_container"><br/></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Root" data-dom-id="Root-react-component-52721d0e-729c-423d-bae0-d27b19e74bbf">{"topics":[{"id":null,"name":"javascript","count":67310},{"id":null,"name":"python","count":49729},{"id":null,"name":"java","count":30048},{"id":null,"name":"c-plus-plus","count":17339},{"id":null,"name":"php","count":15812},{"id":null,"name":"c","count":14340},{"id":null,"name":"go","count":14132},{"id":null,"name":"ruby","count":12268},{"id":null,"name":"c-sharp","count":11505},{"id":null,"name":"objective-c","count":10769}],"projectTopics":[{"id":null,"name":"algebraic-data-types","count":28},{"id":null,"name":"async","count":452},{"id":null,"name":"fantasy-land","count":14},{"id":null,"name":"functional-programming","count":457},{"id":null,"name":"future","count":25},{"id":null,"name":"javascript","count":67310},{"id":null,"name":"monad","count":59},{"id":null,"name":"promise","count":197}],"selectedTopics":[],"currentUrl":"https://awesomeopensource.com/project/fluture-js/Fluture","projects":[],"project":{"id":107849,"created_at":"2018-08-21T02:00:27.198Z","updated_at":"2021-01-14T05:19:21.209Z","markdown_readme":"\u003c!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"http://www.w3.org/TR/REC-html40/loose.dtd\"\u003e\n\u003chtml\u003e\u003cbody\u003e\n\u003ch1\u003e\n\u003ca id=\"\" class=\"anchor\" href=\"#\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003e\u003ca href=\"#butterfly\"\u003e\u003cimg src=\"https://raw.githubusercontent.com/fluture-js/Fluture/master/logo.png\" alt=\"Fluture\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\n\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/fluture-js/Fluture/actions?query=branch%3Amaster+workflow%3ATest\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/fluture-js/Fluture/workflows/Test/badge.svg\" alt=\"Build Status\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"https://codecov.io/gh/fluture-js/Fluture/branch/master\" rel=\"nofollow\"\u003e\u003cimg src=\"https://img.shields.io/codecov/c/github/fluture-js/Fluture/master.svg\" alt=\"Code Coverage\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"https://david-dm.org/fluture-js/Fluture\" rel=\"nofollow\"\u003e\u003cimg src=\"https://img.shields.io/david/fluture-js/Fluture.svg\" alt=\"Dependency Status\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"https://www.npmjs.com/package/fluture\" rel=\"nofollow\"\u003e\u003cimg src=\"https://img.shields.io/npm/v/fluture.svg\" alt=\"NPM Package\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"https://gitter.im/fluture-js/Fluture\" rel=\"nofollow\"\u003e\u003cimg src=\"https://img.shields.io/gitter/room/fluture-js/Fluture.svg?colorB=blue\" alt=\"Gitter Chat\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eFluture offers a control structure similar to Promises, Tasks, Deferreds, and\nwhat-have-you. Let's call them Futures.\u003c/p\u003e\n\u003cp\u003eMuch like Promises, Futures represent the value arising from the success or\nfailure of an asynchronous operation (I/O). Though unlike Promises, Futures are\n\u003cem\u003elazy\u003c/em\u003e and adhere to \u003ca href=\"#interoperability\"\u003ethe \u003cem\u003emonadic\u003c/em\u003e interface\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eSome of the features provided by Fluture include:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#cancellation\"\u003eCancellation\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#resource-management\"\u003eResource management utilities\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#stack-safety\"\u003eStack safe composition and recursion\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#sanctuary\"\u003eIntegration\u003c/a\u003e with \u003ca href=\"https://sanctuary.js.org/\" rel=\"nofollow\"\u003eSanctuary\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#debugging\"\u003eA pleasant debugging experience\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor more information:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#documentation\"\u003eAPI documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.to/avaq/fluture-a-functional-alternative-to-promises-21b\" rel=\"nofollow\"\u003eArticle: Introduction to Fluture - A Functional Alternative to Promises\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/fluture-js/Fluture/wiki/Comparison-to-Promises\" rel=\"nofollow\"\u003eWiki: Compare Futures to Promises\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/fluture-js/Fluture/wiki/Comparison-of-Future-Implementations\" rel=\"nofollow\"\u003eWiki: Compare Fluture to similar libraries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://vimeo.com/106008027\" rel=\"nofollow\"\u003eVideo: Monad a Day - Futures by @DrBoolean\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\n\u003ca id=\"installation\" class=\"anchor\" href=\"#installation\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eInstallation\u003c/h2\u003e\n\u003ch3\u003e\n\u003ca id=\"with-npm\" class=\"anchor\" href=\"#with-npm\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eWith NPM\u003c/h3\u003e\n\u003cpre lang=\"console\" class=\"highlight-console\"\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e npm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save\u003c/span\u003e fluture\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"bundled-from-a-cdn\" class=\"anchor\" href=\"#bundled-from-a-cdn\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eBundled from a CDN\u003c/h3\u003e\n\u003cp\u003eTo load Fluture directly into a browser, a code pen, or \u003ca href=\"https://deno.land/\" rel=\"nofollow\"\u003eDeno\u003c/a\u003e, use one of\nthe following downloads from the JSDelivr content delivery network. These are\nsingle files that come with all of Fluture's dependencies pre-bundled.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/bundle.js\" rel=\"nofollow\"\u003eFluture Script\u003c/a\u003e: A JavaScript file that adds \u003ccode\u003eFluture\u003c/code\u003e to the global\nscope. Ideal for older browsers and code pens.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/bundle.min.js\" rel=\"nofollow\"\u003eFluture Script Minified\u003c/a\u003e: The same as above, but minified.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/module.js\" rel=\"nofollow\"\u003eFluture Module\u003c/a\u003e: An EcmaScript module with named exports. Ideal for Deno\nor modern browsers.\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://cdn.jsdelivr.net/gh/fluture-js/Fluture@13.0.1/dist/module.min.js\" rel=\"nofollow\"\u003eFluture Module Minified\u003c/a\u003e: A minified EcmaScript module without TypeScript\ntypings. Not recommended for Deno.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\n\u003ca id=\"usage\" class=\"anchor\" href=\"#usage\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eUsage\u003c/h2\u003e\n\u003ch3\u003e\n\u003ca id=\"ecmascript-module\" class=\"anchor\" href=\"#ecmascript-module\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eEcmaScript Module\u003c/h3\u003e\n\u003cp\u003eFluture is written as modular JavaScript.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eOn Node 14 and up, Fluture can be loaded directly with \u003ccode\u003eimport 'fluture'\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eOn Node 13 and lower, Fluture can be loaded directly with \u003ccode\u003eimport 'fluture/index.js'\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eOn Node 12, the \u003ccode\u003e--experimental-modules\u003c/code\u003e flag must be provided in addition.\u003c/li\u003e\n\u003cli\u003eOn Node versions below 12, the \u003ca href=\"https://github.com/standard-things/esm\" rel=\"nofollow\"\u003eesm loader\u003c/a\u003e can be used. Alternatively,\nthere is a \u003ca href=\"#commonjs-module\"\u003eCommonJS Module\u003c/a\u003e available.\u003c/li\u003e\n\u003cli\u003eModern browsers can run Fluture directly. If you'd like to try this out,\nI recommend installing Fluture with \u003ca href=\"https://www.pikapkg.com/\" rel=\"nofollow\"\u003ePika\u003c/a\u003e or \u003ca href=\"https://www.snowpack.dev/\" rel=\"nofollow\"\u003eSnowpack\u003c/a\u003e. You can also\ntry the \u003ca href=\"#bundled-from-a-cdn\"\u003ebundled module\u003c/a\u003e to avoid a package manager.\u003c/li\u003e\n\u003cli\u003eFor older browsers, use a bundler such as \u003ca href=\"https://rollupjs.org/\" rel=\"nofollow\"\u003eRollup\u003c/a\u003e or WebPack. Besides the\nmodule system, Fluture uses purely ES5-compatible syntax, so the source does\nnot have to be transpiled after bundling. Alternatively, there is a\n\u003ca href=\"#commonjs-module\"\u003eCommonJS Module\u003c/a\u003e available.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003ereadFile\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fs'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003enode\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eencase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003echain\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fluture'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPackageName\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ereadFile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'utf8'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eencase\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eparse\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egetPackageName\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'package.json'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"commonjs-module\" class=\"anchor\" href=\"#commonjs-module\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCommonJS Module\u003c/h3\u003e\n\u003cp\u003eAlthough the Fluture source uses the EcmaScript module system,\nthe \u003ccode\u003emain\u003c/code\u003e file points to a CommonJS version of Fluture.\u003c/p\u003e\n\u003cp\u003eOn older environments one or more of the following functions may need to be\npolyfilled: \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow\"\u003e\u003ccode\u003eObject.create\u003c/code\u003e\u003c/a\u003e,\n\u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow\"\u003e\u003ccode\u003eObject.assign\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\" rel=\"nofollow\"\u003e\u003ccode\u003eArray.isArray\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequire\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'fs'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequire\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'fluture'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetPackageName\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003efs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereadFile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'utf8'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eencase\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eparse\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egetPackageName\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'package.json'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch2\u003e\n\u003ca id=\"documentation\" class=\"anchor\" href=\"#documentation\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eDocumentation\u003c/h2\u003e\n\u003ch3\u003e\n\u003ca id=\"table-of-contents\" class=\"anchor\" href=\"#table-of-contents\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eTable of contents\u003c/h3\u003e\n\u003cdetails open\u003e\u003csummary\u003eGeneral\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#installation\"\u003eInstallation instructions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#usage\"\u003eUsage instructions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#butterfly\"\u003eAbout the Fluture project\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#interoperability\"\u003eOn interoperability with other libraries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#type-signatures\"\u003eHow to read the type signatures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#cancellation\"\u003eHow cancellation works\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#stack-safety\"\u003eOn stack safety\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#debugging\"\u003eDebugging with Fluture\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#casting-futures-to-string\"\u003eCasting Futures to String\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#sanctuary\"\u003eUsage with Sanctuary\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#incompatible-fluture-versions\"\u003eUsing multiple versions of Fluture alongside each other\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eCreating new Futures\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#future\"\u003e\u003ccode\u003eFuture\u003c/code\u003e: Create a possibly cancellable Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#resolve\"\u003e\u003ccode\u003eresolve\u003c/code\u003e: Create a resolved Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#reject\"\u003e\u003ccode\u003ereject\u003c/code\u003e: Create a rejected Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#after\"\u003e\u003ccode\u003eafter\u003c/code\u003e: Create a Future that resolves after a timeout\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#rejectafter\"\u003e\u003ccode\u003erejectAfter\u003c/code\u003e: Create a Future that rejects after a timeout\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#go\"\u003e\u003ccode\u003ego\u003c/code\u003e: Create a \"coroutine\" using a generator function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#attempt\"\u003e\u003ccode\u003eattempt\u003c/code\u003e: Create a Future using a possibly throwing function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#attemptp\"\u003e\u003ccode\u003eattemptP\u003c/code\u003e: Create a Future using a Promise-returning function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#node\"\u003e\u003ccode\u003enode\u003c/code\u003e: Create a Future using a Node-style callback\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#encase\"\u003e\u003ccode\u003eencase\u003c/code\u003e: Convert a possibly throwing function to a Future function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#encasep\"\u003e\u003ccode\u003eencaseP\u003c/code\u003e: Convert a Promise-returning function to a Future function\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eConverting between Nodeback APIs and Futures\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#node\"\u003e\u003ccode\u003enode\u003c/code\u003e: Create a Future using a Node-style callback\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#done\"\u003e\u003ccode\u003edone\u003c/code\u003e: Consume a Future by providing a Nodeback\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eConverting between Promises and Futures\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#attemptp\"\u003e\u003ccode\u003eattemptP\u003c/code\u003e: Create a Future using a Promise-returning function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#encasep\"\u003e\u003ccode\u003eencaseP\u003c/code\u003e: Convert a Promise-returning function to a Future function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#promise\"\u003e\u003ccode\u003epromise\u003c/code\u003e: Convert a Future to a Promise\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eTransforming and combining Futures\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#pipe\"\u003e\u003ccode\u003epipe\u003c/code\u003e: Apply a function to a Future in a fluent method chain\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#map\"\u003e\u003ccode\u003emap\u003c/code\u003e: Synchronously process the success value in a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#bimap\"\u003e\u003ccode\u003ebimap\u003c/code\u003e: Synchronously process the success or failure value in a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#chain\"\u003e\u003ccode\u003echain\u003c/code\u003e: Asynchronously process the success value in a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#bichain\"\u003e\u003ccode\u003ebichain\u003c/code\u003e: Asynchronously process the success or failure value in a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#swap\"\u003e\u003ccode\u003eswap\u003c/code\u003e: Swap the success with the failure value\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#maprej\"\u003e\u003ccode\u003emapRej\u003c/code\u003e: Synchronously process the failure value in a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#chainrej\"\u003e\u003ccode\u003echainRej\u003c/code\u003e: Asynchronously process the failure value in a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#coalesce\"\u003e\u003ccode\u003ecoalesce\u003c/code\u003e: Coerce success and failure values into the same success value\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#ap\"\u003e\u003ccode\u003eap\u003c/code\u003e: Combine the success values of multiple Futures using a function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#pap\"\u003e\u003ccode\u003epap\u003c/code\u003e: Combine the success values of multiple Futures in parallel using a function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#and\"\u003e\u003ccode\u003eand\u003c/code\u003e: Logical \u003cem\u003eand\u003c/em\u003e for Futures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#alt\"\u003e\u003ccode\u003ealt\u003c/code\u003e: Logical \u003cem\u003eor\u003c/em\u003e for Futures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#lastly\"\u003e\u003ccode\u003elastly\u003c/code\u003e: Run a Future after the previous settles\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#race\"\u003e\u003ccode\u003erace\u003c/code\u003e: Race two Futures against each other\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#both\"\u003e\u003ccode\u003eboth\u003c/code\u003e: Await both success values from two Futures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#parallel\"\u003e\u003ccode\u003eparallel\u003c/code\u003e: Await all success values from many Futures\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eConsuming/forking Futures\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#fork\"\u003e\u003ccode\u003efork\u003c/code\u003e: Standard way to run a Future and get at its result\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#forkcatch\"\u003e\u003ccode\u003eforkCatch\u003c/code\u003e: Fork with exception recovery\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#value\"\u003e\u003ccode\u003evalue\u003c/code\u003e: Shorter variant of \u003ccode\u003efork\u003c/code\u003e for Futures sure to succeed\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#done\"\u003e\u003ccode\u003edone\u003c/code\u003e: Nodeback style \u003ccode\u003efork\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#promise\"\u003e\u003ccode\u003epromise\u003c/code\u003e: Convert a Future to a Promise\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eConcurrency related utilities and data structures\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#pap\"\u003e\u003ccode\u003epap\u003c/code\u003e: Combine the success values of multiple Futures in parallel using a function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#race\"\u003e\u003ccode\u003erace\u003c/code\u003e: Race two Futures against each other\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#both\"\u003e\u003ccode\u003eboth\u003c/code\u003e: Await both success values from two Futures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#parallel\"\u003e\u003ccode\u003eparallel\u003c/code\u003e: Await all success values from many Futures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#concurrentfuture\"\u003e\u003ccode\u003eConcurrentFuture\u003c/code\u003e: A separate data-type for doing algebraic concurrency\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#alt\"\u003e\u003ccode\u003ealt\u003c/code\u003e: Behaves like \u003ccode\u003erace\u003c/code\u003e on \u003ccode\u003eConcurrentFuture\u003c/code\u003e instances\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eResource management\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#hook\"\u003e\u003ccode\u003ehook\u003c/code\u003e: Safely create and dispose resources\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#lastly\"\u003e\u003ccode\u003elastly\u003c/code\u003e: Run a Future after the previous settles\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eOther utilities\u003c/summary\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#pipe\"\u003e\u003ccode\u003epipe\u003c/code\u003e: Apply a function to a Future in a fluent method chain\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#cache\"\u003e\u003ccode\u003ecache\u003c/code\u003e: Cache a Future so that it can be forked multiple times\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#isfuture\"\u003e\u003ccode\u003eisFuture\u003c/code\u003e: Determine whether a value is a Fluture compatible Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#never\"\u003e\u003ccode\u003enever\u003c/code\u003e: A Future that never settles\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#debugmode\"\u003e\u003ccode\u003edebugMode\u003c/code\u003e: Configure Fluture's debug mode\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#context\"\u003e\u003ccode\u003econtext\u003c/code\u003e: The debugging context of a Future instance\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/details\u003e\n\u003ch3\u003e\n\u003ca id=\"butterfly\" class=\"anchor\" href=\"#butterfly\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eButterfly\u003c/h3\u003e\n\u003cp\u003eThe name \"Fluture\" is a conjunction of \"FL\" (the acronym to \u003ca href=\"https://github.com/fantasyland/fantasy-land\" rel=\"nofollow\"\u003eFantasy Land\u003c/a\u003e)\nand \"future\". Fluture means butterfly in Romanian: A creature one might expect\nto see in Fantasy Land.\u003c/p\u003e\n\u003cp\u003eCredit goes to Erik Fuente for styling the logo, and \u003ca href=\"https://wearereasonablepeople.nl/\" rel=\"nofollow\"\u003eWEAREREASONABLEPEOPLE\u003c/a\u003e\nfor sponsoring the project.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"interoperability\" class=\"anchor\" href=\"#interoperability\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eInteroperability\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/fantasyland/fantasy-land\" rel=\"nofollow\"\u003e\u003cimg src=\"https://raw.github.com/fantasyland/fantasy-land/master/logo.png\" align=\"right\" width=\"82\" height=\"82\" alt=\"Fantasy Land\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eFuture\u003c/code\u003e implements \u003ca href=\"https://github.com/fantasyland/fantasy-land\" rel=\"nofollow\"\u003eFantasy Land\u003c/a\u003e 1.0+ -compatible\n\u003ccode\u003eAlt\u003c/code\u003e, \u003ccode\u003eBifunctor\u003c/code\u003e, \u003ccode\u003eMonad\u003c/code\u003e, and \u003ccode\u003eChainRec\u003c/code\u003e\n(\u003ccode\u003eof\u003c/code\u003e, \u003ccode\u003eap\u003c/code\u003e, \u003ccode\u003ealt\u003c/code\u003e, \u003ccode\u003emap\u003c/code\u003e, \u003ccode\u003ebimap\u003c/code\u003e, \u003ccode\u003echain\u003c/code\u003e, \u003ccode\u003echainRec\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eFuture.Par\u003c/code\u003e implements \u003ca href=\"https://github.com/fantasyland/fantasy-land\" rel=\"nofollow\"\u003eFantasy Land 3\u003c/a\u003e -compatible\n\u003ccode\u003eAlternative\u003c/code\u003e (\u003ccode\u003eof\u003c/code\u003e, \u003ccode\u003ezero\u003c/code\u003e, \u003ccode\u003emap\u003c/code\u003e, \u003ccode\u003eap\u003c/code\u003e, \u003ccode\u003ealt\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eThe Future and ConcurrentFuture representatives contain \u003ccode\u003e@@type\u003c/code\u003e properties\nfor \u003ca href=\"https://github.com/sanctuary-js/sanctuary-type-identifiers\" rel=\"nofollow\"\u003eSanctuary Type Identifiers\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eThe Future and ConcurrentFuture instances contain \u003ccode\u003e@@show\u003c/code\u003e properties for\n\u003ca href=\"https://github.com/sanctuary-js/sanctuary-show\" rel=\"nofollow\"\u003eSanctuary Show\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e\n\u003ca id=\"type-signatures\" class=\"anchor\" href=\"#type-signatures\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eType signatures\u003c/h3\u003e\n\u003cp\u003eThe various function signatures are provided in a small language referred to as\nHindley-Milner notation.\u003c/p\u003e\n\u003cp\u003eIn summary, the syntax is as follows: \u003ccode\u003eInputType -\u0026gt; OutputType\u003c/code\u003e. Now,\nbecause functions in Fluture are \u003ca href=\"https://drboolean.gitbooks.io/mostly-adequate-guide-old/content/ch4.html\" rel=\"nofollow\"\u003ecurried\u003c/a\u003e, the \"output\" of a\nfunction is often \u003cem\u003eanother function\u003c/em\u003e. In Hindley-Milner that's simply written\nas \u003ccode\u003eInputputType -\u0026gt; InputToSecondFunction -\u0026gt; OutputType\u003c/code\u003e and so forth.\u003c/p\u003e\n\u003cp\u003eBy convention, types starting with an upper-case letter are\n\u003ca href=\"#types\"\u003econcrete types\u003c/a\u003e. When they start with a lower-case letter they're\n\u003cem\u003etype variables\u003c/em\u003e. You can think of these type variables as generic types.\nSo \u003ccode\u003ea -\u0026gt; b\u003c/code\u003e denotes a function from generic type \u003ccode\u003ea\u003c/code\u003e to generic type \u003ccode\u003eb\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eFinally, through so-called \u003ca href=\"#type-classes\"\u003e\u003cem\u003econstraints\u003c/em\u003e\u003c/a\u003e, type variables can\nbe forced to conform to an \"interface\" (or \u003cem\u003eType Class\u003c/em\u003e in functional jargon).\nFor example, \u003ccode\u003eMyInterface a =\u0026gt; a -\u0026gt; b\u003c/code\u003e, denotes a function from generic type\n\u003ccode\u003ea\u003c/code\u003e to generic type \u003ccode\u003eb\u003c/code\u003e, \u003cem\u003ewhere \u003ccode\u003ea\u003c/code\u003e must implement \u003ccode\u003eMyInterface\u003c/code\u003e\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eYou can read in depth about \u003ca href=\"https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch7.html\" rel=\"nofollow\"\u003eHindley-Milner in JavaScript\u003c/a\u003e here.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"types\" class=\"anchor\" href=\"#types\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eTypes\u003c/h4\u003e\n\u003cp\u003eThe concrete types you will encounter throughout this documentation:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eFuture\u003c/strong\u003e - Instances of Future provided by\n\u003ca href=\"#incompatible-fluture-versions\"\u003ecompatible versions\u003c/a\u003e of Fluture.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eConcurrentFuture\u003c/strong\u003e - Futures wrapped with (\u003ca href=\"#concurrentfuture\"\u003e\u003ccode\u003eFuture.Par\u003c/code\u003e\u003c/a\u003e).\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ePromise a b\u003c/strong\u003e - Values which conform to the \u003ca href=\"https://promisesaplus.com/\" rel=\"nofollow\"\u003ePromises/A+ specification\u003c/a\u003e\nand have a rejection reason of type \u003ccode\u003ea\u003c/code\u003e and a resolution value of type \u003ccode\u003eb\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eNodeback a b\u003c/strong\u003e - A Node-style callback; A function of signature \u003ccode\u003e(a | Nil, b) -\u0026gt; x\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003ePair a b\u003c/strong\u003e - An array with exactly two elements: \u003ccode\u003e[a, b]\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eIterator\u003c/strong\u003e - Objects with \u003ccode\u003enext\u003c/code\u003e-methods which conform to the \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterator\" rel=\"nofollow\"\u003eIterator protocol\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eCancel\u003c/strong\u003e - The nullary \u003ca href=\"#cancellation\"\u003ecancellation\u003c/a\u003e functions returned from computations.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eThrowing e a b\u003c/strong\u003e - A function from \u003ccode\u003ea\u003c/code\u003e to \u003ccode\u003eb\u003c/code\u003e that may throw an exception \u003ccode\u003ee\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eList\u003c/strong\u003e - Fluture's internal linked-list structure: \u003ccode\u003e{ head :: Any, tail :: List }\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eContext\u003c/strong\u003e - Fluture's internal debugging context object:\n\u003ccode\u003e{ tag :: String, name :: String, stack :: String }\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\n\u003ca id=\"type-classes\" class=\"anchor\" href=\"#type-classes\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eType classes\u003c/h4\u003e\n\u003cp\u003eSome signatures contain \u003ca href=\"https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch7.html#constraints\" rel=\"nofollow\"\u003econstrained type variables\u003c/a\u003e.\nGenerally, these constraints express that some value must conform to a\n\u003ca href=\"https://github.com/fantasyland/fantasy-land\" rel=\"nofollow\"\u003eFantasy Land\u003c/a\u003e-specified interface.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eFunctor\u003c/strong\u003e - \u003ca href=\"https://github.com/fantasyland/fantasy-land#functor\" rel=\"nofollow\"\u003eFantasy Land Functor\u003c/a\u003e conformant values.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eBifunctor\u003c/strong\u003e - \u003ca href=\"https://github.com/fantasyland/fantasy-land#bifunctor\" rel=\"nofollow\"\u003eFantasy Land Bifunctor\u003c/a\u003e conformant values.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eChain\u003c/strong\u003e - \u003ca href=\"https://github.com/fantasyland/fantasy-land#chain\" rel=\"nofollow\"\u003eFantasy Land Chain\u003c/a\u003e conformant values.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eApply\u003c/strong\u003e - \u003ca href=\"https://github.com/fantasyland/fantasy-land#apply\" rel=\"nofollow\"\u003eFantasy Land Apply\u003c/a\u003e conformant values.\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eAlt\u003c/strong\u003e - \u003ca href=\"https://github.com/fantasyland/fantasy-land#alt\" rel=\"nofollow\"\u003eFantasy Land Alt\u003c/a\u003e conformant values.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e\n\u003ca id=\"cancellation\" class=\"anchor\" href=\"#cancellation\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCancellation\u003c/h3\u003e\n\u003cp\u003eCancellation is a system whereby running Futures get an opportunity to stop\nwhat they're doing and release resources that they were holding, when the\nconsumer indicates it is no longer interested in the result.\u003c/p\u003e\n\u003cp\u003eTo cancel a Future, it must be unsubscribed from. Most of the\n\u003ca href=\"#consuming-futures\"\u003econsumption functions\u003c/a\u003e return an \u003ccode\u003eunsubscribe\u003c/code\u003e function.\nCalling it signals that we are no longer interested in the result. After\ncalling \u003ccode\u003eunsubscribe\u003c/code\u003e, Fluture guarantees that our callbacks will not be\ncalled; but more importantly: a cancellation signal is sent upstream.\u003c/p\u003e\n\u003cp\u003eThe cancellation signal travels all the way back to the source (with the\nexception of cached Futures - see \u003ca href=\"#cache\"\u003e\u003ccode\u003ecache\u003c/code\u003e\u003c/a\u003e), allowing all parties\nalong the way to clean up.\u003c/p\u003e\n\u003cp\u003eWith the \u003ca href=\"#future\"\u003e\u003ccode\u003eFuture\u003c/code\u003e constructor\u003c/a\u003e, we can provide a custom cancellation\nhandler by returning it from the computation. Let's see what this looks like:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"c1\"\u003e// We use the Future constructor to create a Future instance.\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eeventualAnswer\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003ecomputeTheAnswer\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erej\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// We give the computer time to think about the answer, which is 42.\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etimeoutId\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTimeout\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e60000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// Here is how we handle cancellation. This signal is received when nobody\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// is interested in the answer any more.\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003eonCancel\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// Clearing the timeout releases the resources we were holding.\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eclearTimeout\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etimeoutId\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// Now, let's fork our computation and wait for an answer. Forking gives us\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// the unsubscribe function.\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eunsubscribe\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eeventualAnswer\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// After some time passes, we might not care about the answer any more.\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// Calling unsubscribe will send a cancellation signal back to the source,\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// and trigger the onCancel function.\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eunsubscribe\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eMany natural sources in Fluture have cancellation handlers of their own.\n\u003ca href=\"#after\"\u003e\u003ccode\u003eafter\u003c/code\u003e\u003c/a\u003e, for example, does exactly what we've done just now: calling\n\u003ccode\u003eclearTimeout\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eFinally, Fluture unsubscribes from Futures that it forks \u003cem\u003efor us\u003c/em\u003e, when it no\nlonger needs the result. For example, both Futures passed into \u003ca href=\"#race\"\u003erace\u003c/a\u003e\nare forked, but once one of them produces a result, the other is unsubscribed\nfrom, triggering cancellation. This means that generally, unsubscription and\ncancellation is fully managed for us behind the scenes.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"stack-safety\" class=\"anchor\" href=\"#stack-safety\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eStack safety\u003c/h3\u003e\n\u003cp\u003eFluture interprets our transformations in a stack safe way.\nThis means that none of the following operations result in a\n\u003ccode\u003eRangeError: Maximum call stack size exceeded\u003c/code\u003e:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eadd1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e100000\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"nx\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eadd1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100001\u003c/span\u003e\n\u003c/pre\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003erecur\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e100000\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erecur\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emx\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003emx\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e}(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003em\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100001\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eTo learn more about memory and stack usage under different types of recursion,\nsee (or execute) \u003ca href=\"https://github.com/fluture-js/Fluture/blob/master/scripts/test-mem\" rel=\"nofollow\"\u003e\u003ccode\u003escripts/test-mem\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"debugging\" class=\"anchor\" href=\"#debugging\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eDebugging\u003c/h3\u003e\n\u003cp\u003eFirst and foremost, Fluture type-checks all of its input and throws TypeErrors\nwhen incorrect input is provided. The messages they carry are designed to\nprovide enough insight to figure out what went wrong.\u003c/p\u003e\n\u003cp\u003eSecondly, Fluture catches exceptions that are thrown asynchronously, and\nexposes them to you in one of two ways:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eBy throwing an Error when it happens.\u003c/li\u003e\n\u003cli\u003eBy calling your \u003ca href=\"#forkcatch\"\u003eexception handler\u003c/a\u003e with an Error.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe original exception isn't used because it might have been any value.\nInstead, a regular JavaScript Error instance whose properties are based on the\noriginal exception is created. Its properties are as follows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003ename\u003c/code\u003e: Always just \u003ccode\u003e\"Error\"\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003emessage\u003c/code\u003e: The original error message, or a message describing the value.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003ereason\u003c/code\u003e: The original value that was caught by Fluture.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003econtext\u003c/code\u003e: A linked list of \"context\" objects. This is used to create the\n\u003ccode\u003estack\u003c/code\u003e property, and you generally don't need to look at it. If debug mode\nis not enabled, the list is always empty.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003estack\u003c/code\u003e: The stack trace of the original exception if it had one, or the\nError's own stack trace otherwise. If debug mode (see below) is enabled,\nadditional stack traces from the steps leading up to the crash are included.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003efuture\u003c/code\u003e: The instance of \u003ca href=\"#future\"\u003e\u003ccode\u003eFuture\u003c/code\u003e\u003c/a\u003e that was being\n\u003ca href=\"#consuming-futures\"\u003econsumed\u003c/a\u003e when the exception happened. Often\n\u003ca href=\"#casting-futures-to-string\"\u003eprinting it as a String\u003c/a\u003e can yield useful\ninformation. You can also try to consume it in isolation to better identify\nwhat's going wrong.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFinally, as mentioned, Fluture has a \u003ca href=\"#debugmode\"\u003edebug mode\u003c/a\u003e wherein\nadditional contextual information across multiple JavaScript ticks is\ncollected, included as an extended \"async stack trace\" on Errors, and\n\u003ca href=\"#context\"\u003eexposed on Future instances\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eDebug mode can have a significant impact on performance, and uses up memory,\nso I would advise against using it in production.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"casting-futures-to-string\" class=\"anchor\" href=\"#casting-futures-to-string\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCasting Futures to String\u003c/h3\u003e\n\u003cp\u003eThere are multiple ways to print a Future to String. Let's take a simple\ncomputation as an example:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eadd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nx\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eeventualAnswer\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e22\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)));\u003c/span\u003e\n\u003c/pre\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eCasting it to String directly by calling \u003ccode\u003eString(eventualAnswer)\u003c/code\u003e or\n\u003ccode\u003eeventualAnswer.toString()\u003c/code\u003e will yield an approximation of the code that\nwas used to create the Future. In this case:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"s2\"\u003e\"ap (resolve (22)) (map (a =\u0026gt; b =\u0026gt; a + b) (resolve (20)))\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCasting it to String using \u003ccode\u003eJSON.stringify(eventualAnswer, null, 2)\u003c/code\u003e will\nyield a kind of abstract syntax tree.\u003c/p\u003e\n\u003cpre lang=\"json\" class=\"highlight-json\"\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"fluture/Future@5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"kind\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"interpreter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"transform\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"fluture/Future@5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"kind\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"interpreter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"resolve\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"fluture/Future@5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"kind\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"transformation\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ap\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"fluture/Future@5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"kind\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"interpreter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"resolve\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n              \u003c/span\u003e\u003cspan class=\"mi\"\u003e22\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"$\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"fluture/Future@5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"kind\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"transformation\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"map\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003e\n\u003ca id=\"sanctuary\" class=\"anchor\" href=\"#sanctuary\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eSanctuary\u003c/h3\u003e\n\u003cp\u003eWhen using this module with \u003ca href=\"https://github.com/sanctuary-js/sanctuary-def\" rel=\"nofollow\"\u003eSanctuary Def\u003c/a\u003e (and \u003ca href=\"https://sanctuary.js.org/\" rel=\"nofollow\"\u003eSanctuary\u003c/a\u003e by\nextension) one might run into the following issue:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'sanctuary'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fluture'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eI\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"o\"\u003e!\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypeError\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eSince\u003c/span\u003e \u003cspan class=\"nx\"\u003ethere\u003c/span\u003e \u003cspan class=\"nx\"\u003eis\u003c/span\u003e \u003cspan class=\"nx\"\u003eno\u003c/span\u003e \u003cspan class=\"nx\"\u003etype\u003c/span\u003e \u003cspan class=\"k\"\u003eof\u003c/span\u003e \u003cspan class=\"nx\"\u003ewhich\u003c/span\u003e \u003cspan class=\"nx\"\u003eall\u003c/span\u003e \u003cspan class=\"nx\"\u003ethe\u003c/span\u003e \u003cspan class=\"nx\"\u003eabove\u003c/span\u003e \u003cspan class=\"nx\"\u003evalues\u003c/span\u003e \u003cspan class=\"nx\"\u003eare\u003c/span\u003e \u003cspan class=\"nx\"\u003emembers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"nx\"\u003ethe\u003c/span\u003e \u003cspan class=\"nx\"\u003etype\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"nx\"\u003evariable\u003c/span\u003e \u003cspan class=\"nx\"\u003econstraint\u003c/span\u003e \u003cspan class=\"nx\"\u003ehas\u003c/span\u003e \u003cspan class=\"nx\"\u003ebeen\u003c/span\u003e \u003cspan class=\"nx\"\u003eviolated\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eThis happens because Sanctuary Def needs to know about the types created by\nFluture to determine whether the type-variables are consistent.\u003c/p\u003e\n\u003cp\u003eTo let Sanctuary know about these types, we can obtain the type definitions\nfrom \u003ca href=\"https://github.com/fluture-js/fluture-sanctuary-types\" rel=\"nofollow\"\u003e\u003ccode\u003efluture-sanctuary-types\u003c/code\u003e\u003c/a\u003e and pass them to \u003ca href=\"https://sanctuary.js.org/#create\" rel=\"nofollow\"\u003e\u003ccode\u003eS.create\u003c/code\u003e\u003c/a\u003e:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003esanctuary\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'sanctuary'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"nx\"\u003eflutureEnv\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fluture-sanctuary-types'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fluture'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esanctuary\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreate\u003c/span\u003e \u003cspan class=\"p\"\u003e({\u003c/span\u003e\u003cspan class=\"na\"\u003echeckTypes\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003esanctuary\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econcat\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eflutureEnv\u003c/span\u003e\u003cspan class=\"p\"\u003e)})\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eI\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"incompatible-fluture-versions\" class=\"anchor\" href=\"#incompatible-fluture-versions\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eIncompatible Fluture Versions\u003c/h3\u003e\n\u003cp\u003eMost versions of Fluture understand how to consume instances from most other\nversions, even across Fluture's major releases. This allows for different\npackages that depend on Fluture to interact.\u003c/p\u003e\n\u003cp\u003eHowever, sometimes it's unavoidable that a newer version of Fluture is released\nthat can no longer understand older versions, and vice-versa. This only ever\nhappens on a major release, and will be mentioned in the breaking change log.\nWhen two incompatible versions of Fluture meet instances, they do their best to\nissue a clear error message about it.\u003c/p\u003e\n\u003cp\u003eWhen this happens, you need to manually convert the older instance to a newer\ninstance of Future. When \u003ca href=\"#isfuture\"\u003e\u003ccode\u003eisFuture\u003c/code\u003e\u003c/a\u003e returns \u003ccode\u003efalse\u003c/code\u003e, a conversion\nis necessary. You can also apply this trick if the Future comes from another\nlibrary similar to Fluture.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eNoFuture\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequire\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'incompatible-future'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eincompatible\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eNoFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003eof\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Hello'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecompatible\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003erej\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eNoFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erej\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eincompatible\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003eboth\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecompatible\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'world'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"creating-futures\" class=\"anchor\" href=\"#creating-futures\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCreating Futures\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"future\" class=\"anchor\" href=\"#future\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eFuture\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eUndefined\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eUndefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eCancel\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future with the given computation. A computation is a function which\ntakes two callbacks. Both are continuations for the computation. The first is\n\u003ccode\u003ereject\u003c/code\u003e, commonly abbreviated to \u003ccode\u003erej\u003c/code\u003e; The second is \u003ccode\u003eresolve\u003c/code\u003e, or \u003ccode\u003eres\u003c/code\u003e.\nWhen the computation is finished (possibly asynchronously) it may call the\nappropriate continuation with a failure or success value.\u003c/p\u003e\n\u003cp\u003eAdditionally, the computation must return a nullary function containing\ncancellation logic. See \u003ca href=\"#cancellation\"\u003eCancellation\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eIf you find that there is no way to cancel your computation, you can return a\n\u003ccode\u003enoop\u003c/code\u003e function as a cancellation function. However, at this point there is\nusually a more fitting way to \u003ca href=\"#creating-futures\"\u003ecreate that Future\u003c/a\u003e\n(like for example via \u003ca href=\"#node\"\u003e\u003ccode\u003enode\u003c/code\u003e\u003c/a\u003e).\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003ecomputation\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e        \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003et\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTimeout\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eclearTimeout\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"resolve\" class=\"anchor\" href=\"#resolve\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eresolve\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eresolve\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which immediately resolves with the given value.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eanswer\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"reject\" class=\"anchor\" href=\"#reject\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ereject\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ereject\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which immediately rejects with the given value.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"after\" class=\"anchor\" href=\"#after\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eafter\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eafter\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eNumber\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which resolves with the given value after\nthe given number of milliseconds.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"rejectafter\" class=\"anchor\" href=\"#rejectafter\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003erejectAfter\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003erejectAfter\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eNumber\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which rejects with the given reason after the given number of\nmilliseconds.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erejectAfter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"go\" class=\"anchor\" href=\"#go\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ego\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ego\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eIterator\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eA way to do \u003ccode\u003easync\u003c/code\u003e/\u003ccode\u003eawait\u003c/code\u003e with Futures, similar to Promise Coroutines or\nHaskell Do-notation.\u003c/p\u003e\n\u003cp\u003eTakes a function which returns an \u003ca href=\"#types\"\u003eIterator\u003c/a\u003e, commonly a\ngenerator-function, and chains every produced Future over the previous.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ego\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ething\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'world'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Hello '\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nx\"\u003ething\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!'\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Hello world!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eA rejected Future short-circuits the whole coroutine.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ego\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ething\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Hello '\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"nx\"\u003ething\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!'\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eTo handle rejections \u003cem\u003einside\u003c/em\u003e the coroutine, we need to \u003ca href=\"#coalesce\"\u003e\u003ccode\u003ecoalesce\u003c/code\u003e\u003c/a\u003e\nthe error into our control domain.\u003c/p\u003e\n\u003cp\u003eI recommend using coalesce with an \u003ca href=\"https://sanctuary.js.org/#either-type\" rel=\"nofollow\"\u003e\u003ccode\u003eEither\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econtrol\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecoalesce\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ego\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ething\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eyield\u003c/span\u003e \u003cspan class=\"nx\"\u003econtrol\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eeither\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s2\"\u003e`Oh no! \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e                   \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s2\"\u003e`Yippee! \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e                   \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ething\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Oh no! It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"attempt\" class=\"anchor\" href=\"#attempt\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eattempt\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eattempt\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eThrowing\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"kt\"\u003eUndefined\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which resolves with the result of calling the given function,\nor rejects with the error thrown by the given function.\u003c/p\u003e\n\u003cp\u003eShort for \u003ca href=\"#encase\"\u003e\u003ccode\u003eencase (f) (undefined)\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'bar'\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eattempt\u003c/span\u003e \u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebar\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaz\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypeError\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Cannot read property 'baz' of undefined\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"attemptp\" class=\"anchor\" href=\"#attemptp\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eattemptP\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eattemptP\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eUndefined\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003ePromise\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreate a Future which when forked spawns a Promise using the given function and\nresolves with its resolution value, or rejects with its rejection reason.\u003c/p\u003e\n\u003cp\u003eShort for \u003ca href=\"#encasep\"\u003e\u003ccode\u003eencaseP (f) (undefined)\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eattemptP\u003c/span\u003e \u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"node\" class=\"anchor\" href=\"#node\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003enode\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003enode\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eNodeback\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which rejects with the first argument given to the function,\nor resolves with the second if the first is not present.\u003c/p\u003e\n\u003cp\u003eNote that this function \u003cstrong\u003edoes not support cancellation\u003c/strong\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"encase\" class=\"anchor\" href=\"#encase\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eencase\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eencase\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eThrowing\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eTakes a function and a value, and returns a Future which when forked calls the\nfunction with the value and resolves with the result. If the function throws\nan exception, it is caught and the Future will reject with the exception.\u003c/p\u003e\n\u003cp\u003eApplying \u003ccode\u003eencase\u003c/code\u003e with a function \u003ccode\u003ef\u003c/code\u003e creates a \"safe\" version of \u003ccode\u003ef\u003c/code\u003e. Instead\nof throwing exceptions, the encased version always returns a Future.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eencase\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eparse\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'{\"foo\" = \"bar\"}'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eSyntaxError\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Unexpected token ='\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"encasep\" class=\"anchor\" href=\"#encasep\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eencaseP\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eencaseP\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003ePromise\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e \u003cspan class=\"n\"\u003er\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eTurns Promise-returning functions into Future-returning functions.\u003c/p\u003e\n\u003cp\u003eTakes a function which returns a Promise, and a value, and returns a Future.\nWhen forked, the Future calls the function with the value to produce the\nPromise, and resolves with its resolution value, or rejects with its rejection\nreason.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eencaseP\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://api.github.com/users/Avaq'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eencaseP\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eres\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e \u003cspan class=\"p\"\u003e())))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Aldwin Vlasblom\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"transforming-futures\" class=\"anchor\" href=\"#transforming-futures\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eTransforming Futures\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"map\" class=\"anchor\" href=\"#map\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003emap\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003emap\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFunctor\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eTransforms the resolution value inside the Future or \u003ca href=\"https://github.com/fantasyland/fantasy-land#functor\" rel=\"nofollow\"\u003eFunctor\u003c/a\u003e,\nand returns a Future or Functor with the new value. The transformation is only\napplied to the resolution branch: if the Future is rejected, the transformation\nis ignored.\u003c/p\u003e\n\u003cp\u003eSee also \u003ca href=\"#chain\"\u003e\u003ccode\u003echain\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"#maprej\"\u003e\u003ccode\u003emapRej\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"bimap\" class=\"anchor\" href=\"#bimap\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ebimap\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ebimap\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eBifunctor\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eMaps the left function over the rejection reason, or the right function over\nthe resolution value, depending on which is present. Can be used on any\n\u003ca href=\"https://github.com/fantasyland/fantasy-land#bifunctor\" rel=\"nofollow\"\u003eBifunctor\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebimap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebimap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke!!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke!!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"chain\" class=\"anchor\" href=\"#chain\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003echain\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003echain\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eChain\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eSequence a new Future or \u003ca href=\"https://github.com/fantasyland/fantasy-land#chain\" rel=\"nofollow\"\u003eChain\u003c/a\u003e using the resolution value from\nanother. Similarly to \u003ca href=\"#map\"\u003e\u003ccode\u003emap\u003c/code\u003e\u003c/a\u003e, \u003ccode\u003echain\u003c/code\u003e expects a function. But instead\nof returning the new \u003cem\u003evalue\u003c/em\u003e, chain expects a Future (or instance of the same\nChain) to be returned.\u003c/p\u003e\n\u003cp\u003eThe transformation is only applied to the resolution branch: if the Future is\nrejected, the transformation is ignored.\u003c/p\u003e\n\u003cp\u003eSee also \u003ca href=\"#chainrej\"\u003e\u003ccode\u003echainRej\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"bichain\" class=\"anchor\" href=\"#bichain\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ebichain\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ebichain\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eSequence a new Future using either the resolution or the rejection value from\nanother. Similarly to \u003ca href=\"#bimap\"\u003e\u003ccode\u003ebimap\u003c/code\u003e\u003c/a\u003e, \u003ccode\u003ebichain\u003c/code\u003e expects two functions. But\ninstead of returning the new \u003cem\u003evalue\u003c/em\u003e, bichain expects Futures to be returned.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebichain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebichain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"swap\" class=\"anchor\" href=\"#swap\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eswap\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eswap\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eSwap the rejection and resolution branches.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eswap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eswap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"maprej\" class=\"anchor\" href=\"#maprej\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003emapRej\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003emapRej\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eMap over the \u003cstrong\u003erejection\u003c/strong\u003e reason of the Future. This is like \u003ca href=\"#map\"\u003e\u003ccode\u003emap\u003c/code\u003e\u003c/a\u003e,\nbut for the rejection branch.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emapRej\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s2\"\u003e`Oh no! \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Oh no! It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`Oh no! \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Oh no! It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"chainrej\" class=\"anchor\" href=\"#chainrej\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003echainRej\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003echainRej\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eChain over the \u003cstrong\u003erejection\u003c/strong\u003e reason of the Future. This is like\n\u003ca href=\"#chain\"\u003e\u003ccode\u003echain\u003c/code\u003e\u003c/a\u003e, but for the rejection branch.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003echainRej\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e But it's all good.`\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke! But it's all good.\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003es\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e But it's all good.`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke! But it's all good.\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"coalesce\" class=\"anchor\" href=\"#coalesce\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ecoalesce\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ecoalesce\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eApplies the left function to the rejection value, or the right function to the\nresolution value, depending on which is present, and resolves with the result.\u003c/p\u003e\n\u003cp\u003eThis provides a convenient means to ensure a Future is always resolved. It can\nbe used with other type constructors, like \u003ca href=\"https://sanctuary.js.org/#either-type\" rel=\"nofollow\"\u003e\u003ccode\u003eS.Either\u003c/code\u003e\u003c/a\u003e, to maintain\na representation of failure.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecoalesce\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'hello'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eRight\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"hello\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecoalesce\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor comparison, an approximation with Promises is:\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'hello'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eRight\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"hello\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"combining-futures\" class=\"anchor\" href=\"#combining-futures\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCombining Futures\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"ap\" class=\"anchor\" href=\"#ap\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eap\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eap\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eApply\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003em\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eApplies the function contained in the right-hand Future or \u003ca href=\"https://github.com/fantasyland/fantasy-land#apply\" rel=\"nofollow\"\u003eApply\u003c/a\u003e\nto the value contained in the left-hand Future or Apply. This process can be\nrepeated to gradually fill out multiple function arguments of a curried\nfunction, as shown below.\u003c/p\u003e\n\u003cp\u003eNote that the Futures will be executed in sequence - not in parallel* -\nbecause of the Monadic nature of Futures. The execution order is, as\nspecified by Fantasy Land, \u003ccode\u003em (a -\u0026gt; b)\u003c/code\u003e first followed by \u003ccode\u003em a\u003c/code\u003e.\nSo that's \u003cem\u003eright before left\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003e* Have a look at \u003ca href=\"#pap\"\u003e\u003ccode\u003epap\u003c/code\u003e\u003c/a\u003e for an \u003ccode\u003eap\u003c/code\u003e function that runs its arguments\nin parallel. If you must use \u003ccode\u003eap\u003c/code\u003e (because you're creating a generalized\nfunction), but still want Futures passed into it to run in parallel, then\nyou could use \u003ca href=\"#concurrentfuture\"\u003eConcurrentFuture\u003c/a\u003e instead.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e49\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"nx\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"pap\" class=\"anchor\" href=\"#pap\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003epap\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003epap\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eHas the same signature and function as \u003ca href=\"#ap\"\u003e\u003ccode\u003eap\u003c/code\u003e\u003c/a\u003e, but runs the two Futures\ngiven to it in parallel. See also \u003ca href=\"#concurrentfuture\"\u003eConcurrentFuture\u003c/a\u003e for a\nmore general way to achieve this.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e49\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"nx\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"alt\" class=\"anchor\" href=\"#alt\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ealt\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ealt\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eAlt\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ef\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eSelect one of two \u003ca href=\"#types\"\u003eAlts\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eBehaves like logical \u003cem\u003eor\u003c/em\u003e on \u003ca href=\"#future\"\u003e\u003ccode\u003eFuture\u003c/code\u003e\u003c/a\u003e instances, returning a new\nFuture which either resolves with the first resolution value, or rejects with\nthe last rejection reason. We can use it if we want a computation to run only\nif another has failed.\u003c/p\u003e\n\u003cp\u003eNote that the Futures will be executed in sequence - not in parallel* -\nbecause of the Monadic nature of Futures. The \u003cem\u003eright\u003c/em\u003e Future is evaluated\nbefore the \u003cem\u003eleft\u003c/em\u003e Future.\u003c/p\u003e\n\u003cp\u003eSee also \u003ca href=\"#and\"\u003e\u003ccode\u003eand\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"#lastly\"\u003e\u003ccode\u003elastly\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e* If you'd like to use a parallel implementation of \u003ccode\u003ealt\u003c/code\u003e, you could simply\nuse \u003ca href=\"#race\"\u003e\u003ccode\u003erace\u003c/code\u003e\u003c/a\u003e. Alternatively you could wrap your Future instances\nwith \u003ca href=\"#concurrentfuture\"\u003e\u003ccode\u003ePar\u003c/code\u003e\u003c/a\u003e before passing them to \u003ccode\u003ealt\u003c/code\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ealt\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'right'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"right\"\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ealt\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"left\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"and\" class=\"anchor\" href=\"#and\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eand\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eand\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eLogical \u003cem\u003eand\u003c/em\u003e for Futures.\u003c/p\u003e\n\u003cp\u003eReturns a new Future which either rejects with the first rejection reason, or\nresolves with the last resolution value once and if both Futures resolve. We\ncan use it if we want a computation to run only after another has succeeded.\nThe \u003cem\u003eright\u003c/em\u003e Future is evaluated before the \u003cem\u003eleft\u003c/em\u003e Future.\u003c/p\u003e\n\u003cp\u003eSee also \u003ca href=\"#alt\"\u003e\u003ccode\u003ealt\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"#lastly\"\u003e\u003ccode\u003elastly\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eand\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'right'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"left\"\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eand\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"lastly\" class=\"anchor\" href=\"#lastly\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003elastly\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003elastly\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eRun a second Future after the first settles (successfully or unsuccessfully).\nRejects with the rejection reason from the first or second Future, or resolves\nwith the resolution value from the first Future. This can be used to run a\ncomputation after another settles, successfully or unsuccessfully.\u003c/p\u003e\n\u003cp\u003eIf you're looking to clean up resources after running a computation which\nacquires them, you should use \u003ca href=\"#hook\"\u003e\u003ccode\u003ehook\u003c/code\u003e\u003c/a\u003e, which has many more fail-safes\nin place.\u003c/p\u003e\n\u003cp\u003eSee also \u003ca href=\"#and\"\u003e\u003ccode\u003eand\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"#alt\"\u003e\u003ccode\u003ealt\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elastly\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eencase\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'lastly'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'All done!'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003elastly\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"All done!\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"consuming-futures\" class=\"anchor\" href=\"#consuming-futures\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eConsuming Futures\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"fork\" class=\"anchor\" href=\"#fork\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003efork\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003efork\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eCancel\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eExecute the computation represented by a Future, passing \u003ccode\u003ereject\u003c/code\u003e and \u003ccode\u003eresolve\u003c/code\u003e\ncallbacks to continue once there is a result.\u003c/p\u003e\n\u003cp\u003eThis function is called \u003ccode\u003efork\u003c/code\u003e because it literally represents a fork in our\nprogram: a point where a single code-path splits in two. It is recommended to\nkeep the number of calls to \u003ccode\u003efork\u003c/code\u003e at a minimum for this reason. The more\nforks, the higher the code complexity.\u003c/p\u003e\n\u003cp\u003eGenerally, one only needs to call \u003ccode\u003efork\u003c/code\u003e in a single place in the entire\nprogram.\u003c/p\u003e\n\u003cp\u003eAfter we \u003ccode\u003efork\u003c/code\u003e a Future, the computation will start running. If the program\ndecides halfway through that it's no longer interested in the result of the\ncomputation, it can call the \u003ccode\u003eunsubscribe\u003c/code\u003e function returned by \u003ccode\u003efork\u003c/code\u003e. See\n\u003ca href=\"#cancellation\"\u003eCancellation\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eIf an exception was encountered during the computation, it will be re-thrown\nby \u003ccode\u003efork\u003c/code\u003e and likely not be catchable. You can handle it using\n\u003ccode\u003eprocess.on('uncaughtException')\u003c/code\u003e in Node, or use \u003ca href=\"#forkcatch\"\u003e\u003ccode\u003eforkCatch\u003c/code\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eAlmost all code examples in Fluture use \u003ccode\u003efork\u003c/code\u003e to run the computation. There\nare some variations on \u003ccode\u003efork\u003c/code\u003e that serve different purposes below.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"forkcatch\" class=\"anchor\" href=\"#forkcatch\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eforkCatch\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eforkCatch\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eError\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eCancel\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eAn advanced version of \u003ca href=\"#fork\"\u003efork\u003c/a\u003e that allows us to react to a fatal error\nin a custom way. Fatal errors occur when unexpected exceptions are thrown, when\nthe Fluture API is used incorrectly, or when resources couldn't be disposed.\u003c/p\u003e\n\u003cp\u003eThe exception handler will always be called with an instance of \u003ccode\u003eError\u003c/code\u003e,\nindependent of what caused the crash.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUsing this function is a trade-off;\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eGenerally it's best to let a program crash and restart when an a fatal error\noccurs. Restarting is the surest way to restore the memory that was allocated\nby the program to an expected state.\u003c/p\u003e\n\u003cp\u003eBy using \u003ccode\u003eforkCatch\u003c/code\u003e, we can keep our program alive after a fatal error, which\ncan be very beneficial when the program is being used by multiple clients.\nHowever, since fatal errors might indicate that something, somewhere has\nentered an invalid state, it's probably still best to restart our program upon\nencountering one.\u003c/p\u003e\n\u003cp\u003eSee \u003ca href=\"#debugging\"\u003eDebugging\u003c/a\u003e for information about the Error object that is\npassed to your exception handler.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eforkCatch\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'fatal error'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e           \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e           \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e           \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003efatal\u003c/span\u003e \u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nb\"\u003eError\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Cannot read property 'foo' of null\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"value\" class=\"anchor\" href=\"#value\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003evalue\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eAny\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eCancel\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eLike \u003ca href=\"#fork\"\u003e\u003ccode\u003efork\u003c/code\u003e\u003c/a\u003e but for the resolution branch only. Only use this function\nif you are sure the Future is going to be resolved, for example; after using\n\u003ca href=\"#coalesce\"\u003e\u003ccode\u003ecoalesce\u003c/code\u003e\u003c/a\u003e. If the Future rejects, \u003ccode\u003evalue\u003c/code\u003e will throw an Error.\u003c/p\u003e\n\u003cp\u003eAs with \u003ca href=\"#fork\"\u003e\u003ccode\u003efork\u003c/code\u003e\u003c/a\u003e, \u003ccode\u003evalue\u003c/code\u003e returns an \u003ccode\u003eunsubscribe\u003c/code\u003e function. See\n\u003ca href=\"#cancellation\"\u003eCancellation\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"done\" class=\"anchor\" href=\"#done\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003edone\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eNodeback\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eCancel\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eRun the Future using a \u003ca href=\"#types\"\u003eNodeback\u003c/a\u003e as the continuation.\u003c/p\u003e\n\u003cp\u003eThis is like \u003ca href=\"#fork\"\u003e\u003ccode\u003efork\u003c/code\u003e\u003c/a\u003e, but instead of taking two unary functions, it\ntakes a single binary function.\u003c/p\u003e\n\u003cp\u003eAs with \u003ca href=\"#fork\"\u003e\u003ccode\u003efork\u003c/code\u003e\u003c/a\u003e, \u003ccode\u003edone\u003c/code\u003e returns an \u003ccode\u003eunsubscribe\u003c/code\u003e function. See\n\u003ca href=\"#cancellation\"\u003eCancellation\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"promise\" class=\"anchor\" href=\"#promise\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003epromise\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003epromise\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"kt\"\u003eError\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003ePromise\u003c/span\u003e \u003cspan class=\"kt\"\u003eError\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eRun the Future and get a Promise to represent its continuation.\u003c/p\u003e\n\u003cp\u003eReturns a Promise which resolves with the resolution value, or rejects with\nthe rejection reason of the Future.\u003c/p\u003e\n\u003cp\u003eIf an exception was encountered during the computation, the promise will reject\nwith it. I recommend using \u003ca href=\"#coalesce\"\u003e\u003ccode\u003ecoalesce\u003c/code\u003e\u003c/a\u003e before \u003ccode\u003epromise\u003c/code\u003e to ensure\nthat exceptions and rejections are not mixed into the Promise rejection branch.\u003c/p\u003e\n\u003cp\u003eCancellation capabilities are lost when using \u003ccode\u003epromise\u003c/code\u003e to consume the Future.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003epromise\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003epromise\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'failure'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ethen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erejection\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"failure\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"parallelism\" class=\"anchor\" href=\"#parallelism\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eParallelism\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"race\" class=\"anchor\" href=\"#race\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003erace\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003erace\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eRace two Futures against each other. Creates a new Future which resolves or\nrejects with the resolution or rejection value of the first Future to settle.\u003c/p\u003e\n\u003cp\u003eWhen one Future settles, the other gets cancelled automatically.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erace\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'right'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"left\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"both\" class=\"anchor\" href=\"#both\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eboth\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eboth\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003ePair\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eRun two Futures in parallel and get a \u003ca href=\"#types\"\u003e\u003ccode\u003ePair\u003c/code\u003e\u003c/a\u003e of the results. When\neither Future rejects, the other Future will be cancelled and the resulting\nFuture will reject.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eboth\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'right'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"left\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"right\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"parallel\" class=\"anchor\" href=\"#parallel\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eparallel\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eparallel\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003ePositiveInteger\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eArray\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eArray\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCreates a Future which when forked runs all Futures in the given Array in\nparallel, ensuring no more than \u003ccode\u003elimit\u003c/code\u003e Futures are running at once.\u003c/p\u003e\n\u003cp\u003eIn the following example, we're running up to 5 Futures in parallel. Every\nFuture takes about 20ms to settle, which means the result should appear after\nabout 40ms.\u003c/p\u003e\n\u003cp\u003eIf we use \u003ccode\u003e1\u003c/code\u003e for the limit, the Futures would run in sequence, causing the\nresult to appear only after 200ms.\u003c/p\u003e\n\u003cp\u003eWe can also use \u003ccode\u003eInfinity\u003c/code\u003e as the limit. This would create a function similar\nto \u003ccode\u003ePromise.all\u003c/code\u003e, which always runs all Futures in parallel. This can easily\ncause the computation to consume too many resources, however, so I would\nadvise using a number roughly equal to maximum size of Array you think your\nprogram should handle.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparallel\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eArray\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ekeys\u003c/span\u003e \u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e8\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e9\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eWhen one Future rejects, all currently running Futures will be cancelled and\nthe resulting Future will reject. If you want to settle all Futures, even if\nsome may fail, you can use \u003ccode\u003eparallel\u003c/code\u003e in combination with\n\u003ca href=\"#coalesce\"\u003ecoalesce\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparallel\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003ereject\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'It broke!'\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e                     \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecoalesce\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eRight\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003eLeft\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"It broke!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"concurrentfuture\" class=\"anchor\" href=\"#concurrentfuture\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eConcurrentFuture\u003c/h4\u003e\n\u003cp\u003eThe \u003ccode\u003eConcurrentFuture\u003c/code\u003e type is very similar to the \u003ccode\u003eFuture\u003c/code\u003e type, except that\nit has \u003cem\u003eparallel\u003c/em\u003e semantics where \u003ccode\u003eFuture\u003c/code\u003e has \u003cem\u003esequential\u003c/em\u003e semantics.\u003c/p\u003e\n\u003cp\u003eThese sematics are most notable in the implementation of Applicative for\n\u003ccode\u003eConcurrentFuture\u003c/code\u003e. When using \u003ca href=\"#ap\"\u003e\u003ccode\u003eap\u003c/code\u003e\u003c/a\u003e on two ConcurrentFutures, they\nrun parallely, whereas regular \u003ccode\u003eFuture\u003c/code\u003e instances would've run sequentially.\nThis means that \u003ccode\u003eConcurrentFuture\u003c/code\u003e cannot be a Monad, which is why we have\nit as a separate type.\u003c/p\u003e\n\u003cp\u003eThe implementation of Alternative on \u003ccode\u003eConcurrentFuture\u003c/code\u003e has parallel semantics\nas well. Whereas \u003ca href=\"#alt\"\u003e\u003ccode\u003ealt\u003c/code\u003e\u003c/a\u003e on regular Futures uses the failure effect to\ndetermine a winner, on ConcurrentFutures \u003cem\u003etiming\u003c/em\u003e is used, and the winner will\nbe whichever ConcurrentFuture settled first.\u003c/p\u003e\n\u003cp\u003eThe idea is that we can switch back and forth between \u003ccode\u003eFuture\u003c/code\u003e and\n\u003ccode\u003eConcurrentFuture\u003c/code\u003e, using \u003ca href=\"#par\"\u003e\u003ccode\u003ePar\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"#seq\"\u003e\u003ccode\u003eseq\u003c/code\u003e\u003c/a\u003e, to get sequential or\nconcurrent behaviour respectively. It's a useful type to pass to abstractions\nthat don't know about Future-specific functions like \u003ca href=\"#parallel\"\u003e\u003ccode\u003eparallel\u003c/code\u003e\u003c/a\u003e or\n\u003ca href=\"#race\"\u003e\u003ccode\u003erace\u003c/code\u003e\u003c/a\u003e, but \u003cem\u003edo\u003c/em\u003e know how to operate on Apply and Alternative.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"c1\"\u003e//Some dummy values\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ef\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//The following two are equal ways to construct a ConcurrentFuture\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eparx\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003eof\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ePar\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eparf\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ePar\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003eof\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eFuture\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//We can make use of parallel apply\u003c/span\u003e\n\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eseq\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparx\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparf\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//Concurrent sequencing\u003c/span\u003e\n\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eseq\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esequence\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ePar\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nx\"\u003eparx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eparx\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eparx\u003c/span\u003e\u003cspan class=\"p\"\u003e])))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e41\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e//And concurrent alt\u003c/span\u003e\n\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ealt\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e15\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'left'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'right'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"left\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch5\u003e\n\u003ca id=\"par\" class=\"anchor\" href=\"#par\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ePar\u003c/h5\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"kt\"\u003ePar\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eConcurrentFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eConverts a Future to a ConcurrentFuture.\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"seq\" class=\"anchor\" href=\"#seq\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eseq\u003c/h5\u003e\n\u003cp\u003eConverts a ConcurrentFuture to a Future.\u003c/p\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eseq\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eConcurrentFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch3\u003e\n\u003ca id=\"resource-management\" class=\"anchor\" href=\"#resource-management\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eResource management\u003c/h3\u003e\n\u003cp\u003eFunctions listed under this category allow for more fine-grained control over\nthe flow of acquired values.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"hook\" class=\"anchor\" href=\"#hook\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ehook\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ehook\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e \u003cspan class=\"n\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eCombines resource acquisition, consumption, and disposal in such a way that you\ncan be sure that a resource will always be disposed if it was acquired, even if\nan exception is thrown during consumption; Sometimes referred to as bracketing.\u003c/p\u003e\n\u003cp\u003eThe signature is like \u003ccode\u003ehook (acquire, dispose, consume)\u003c/code\u003e, where:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eacquire\u003c/code\u003e is a Future which might create connections, open files, etc.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003edispose\u003c/code\u003e is a function that takes the result from \u003ccode\u003eacquire\u003c/code\u003e and should be\nused to clean up (close connections etc). The Future it returns must\nresolve, and its resolution value is ignored. If it rejects, a fatal error\nis raised which can only be handled with \u003ca href=\"#forkcatch\"\u003e\u003ccode\u003eforkCatch\u003c/code\u003e\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003econsume\u003c/code\u003e is another Function takes the result from \u003ccode\u003eacquire\u003c/code\u003e, and may be\nused to perform any arbitrary computations using the resource.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTypically, you'd want to partially apply this function with the first two\narguments (acquisition and disposal), as shown in the example.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eopen\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eread\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eclose\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fs'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewithFile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ehook\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eopen\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'package.json'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'r'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e                       \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eclose\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ewithFile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e        \u003cspan class=\"nx\"\u003eread\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBuffer\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ealloc\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBuffer\u003c/span\u003e \u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"nx\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eWhen a hooked Future is cancelled while acquiring its resource, nothing else\nwill happen. When it's cancelled after acquistion completes, however, the\ndisposal will still run, and if it fails, an exception will be thrown.\u003c/p\u003e\n\u003cp\u003eIf you have multiple resources that you'd like to consume all at once, you can\nuse \u003ca href=\"https://github.com/fluture-js/fluture-hooks\" rel=\"nofollow\"\u003eFluture Hooks\u003c/a\u003e to combine\nmultiple hooks into one.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"utility-functions\" class=\"anchor\" href=\"#utility-functions\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eUtility functions\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"pipe\" class=\"anchor\" href=\"#pipe\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003epipe\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprototype\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epipe\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ec\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eA method available on all Futures to allow arbitrary functions over Futures to\nbe included in a fluent-style method chain.\u003c/p\u003e\n\u003cp\u003eYou can think of this as a fallback for the \u003ca href=\"https://github.com/tc39/proposal-pipeline-operator\" rel=\"nofollow\"\u003eESNext pipe operator (\u003ccode\u003e|\u0026gt;\u003c/code\u003e)\u003c/a\u003e.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nx\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ePI\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eafter\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mf\"\u003e13.37\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eround\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"mi\"\u003e42\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"cache\" class=\"anchor\" href=\"#cache\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ecache\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003ecache\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eReturns a Future which caches the resolution value or rejection reason of the\ngiven Future so that whenever it's forked, it can load the value from cache\nrather than re-executing the underlying computation.\u003c/p\u003e\n\u003cp\u003eThis essentially turns a unicast Future into a multicast Future, allowing\nmultiple consumers to subscribe to the same result. The underlying computation\nis never \u003ca href=\"#cancellation\"\u003ecancelled\u003c/a\u003e unless \u003cem\u003eall\u003c/em\u003e consumers unsubscribe before\nit completes.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThere is a glaring drawback to using \u003ccode\u003ecache\u003c/code\u003e\u003c/strong\u003e, which is that returned\nFutures are no longer referentially transparent, making reasoning about them\nmore difficult and refactoring code that uses them harder.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003ereadFile\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fs'\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eeventualPackageName\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"nx\"\u003enode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ereadFile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'package.json'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'utf8'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eencase\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eparse\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003echain\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eencase\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e   \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epipe\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emap\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'debug'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Read, parsed, and traversed the package data'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e    \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eeventualPackageName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edebug\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Read, parsed, and traversed the package data\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Fluture\"\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eeventualPackageName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edebug\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Read, parsed, and traversed the package data\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Fluture\"\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eeventualCachedPackageName\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecache\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eeventualPackageName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eeventualCachedPackageName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edebug\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Read, parsed, and traversed the package data\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Fluture\"\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003efork\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'rejection'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'resolution'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eeventualCachedPackageName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolution\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Fluture\"\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"isfuture\" class=\"anchor\" href=\"#isfuture\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eisFuture\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eisFuture\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eBoolean\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eReturns true for \u003ca href=\"#types\"\u003eFutures\u003c/a\u003e and false for everything else. This function\n(and \u003ca href=\"https://sanctuary.js.org/#is\" rel=\"nofollow\"\u003e\u003ccode\u003eS.is\u003c/code\u003e\u003c/a\u003e) also return \u003ccode\u003etrue\u003c/code\u003e for instances of Future that were\ncreated within other contexts. It is therefore recommended to use this over\n\u003ccode\u003einstanceof\u003c/code\u003e, unless your intent is to explicitly check for Futures created\nusing the exact \u003ccode\u003eFuture\u003c/code\u003e constructor you're testing against.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eisFuture\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresolve\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eisFuture\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e42\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"never\" class=\"anchor\" href=\"#never\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003enever\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003enever\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eA Future that never settles. Can be useful as an initial value when reducing\nwith \u003ca href=\"#race\"\u003e\u003ccode\u003erace\u003c/code\u003e\u003c/a\u003e, for example.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"isnever\" class=\"anchor\" href=\"#isnever\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eisNever\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eisNever\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eBoolean\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eReturns \u003ccode\u003etrue\u003c/code\u003e if the given input is a \u003ccode\u003enever\u003c/code\u003e.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"extractleft\" class=\"anchor\" href=\"#extractleft\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eextractLeft\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eextractLeft\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eArray\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eReturns an array whose only element is the rejection reason of the Future.\nIn many cases it will be impossible to extract this value; In those cases, the\narray will be empty. This function is meant to be used for type introspection:\nit is \u003cstrong\u003enot\u003c/strong\u003e the correct way to \u003ca href=\"#consuming-futures\"\u003econsume a Future\u003c/a\u003e.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"extractright\" class=\"anchor\" href=\"#extractright\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eextractRight\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003eextractRight\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eArray\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eReturns an array whose only element is the resolution value of the Future.\nIn many cases it will be impossible to extract this value; In those cases, the\narray will be empty. This function is meant to be used for type introspection:\nit is \u003cstrong\u003enot\u003c/strong\u003e the correct way to \u003ca href=\"#consuming-futures\"\u003econsume a Future\u003c/a\u003e.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"debugmode\" class=\"anchor\" href=\"#debugmode\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003edebugMode\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"n\"\u003edebugMode\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eBoolean\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eUndefined\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eEnable or disable Fluture's debug mode. Debug mode is disabled by default.\nPass \u003ccode\u003etrue\u003c/code\u003e to enable, or \u003ccode\u003efalse\u003c/code\u003e to disable.\u003c/p\u003e\n\u003cpre lang=\"js\" class=\"highlight-js\"\u003e\u003cspan class=\"nx\"\u003edebugMode\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eFor more information, see \u003ca href=\"#debugging\"\u003eDebugging\u003c/a\u003e and \u003ca href=\"#context\"\u003eContext\u003c/a\u003e.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"context\" class=\"anchor\" href=\"#context\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003econtext\u003c/h4\u003e\n\u003cpre lang=\"hs\" class=\"highlight-hs\"\u003e\u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eprototype\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econtext\u003c/span\u003e \u003cspan class=\"o\"\u003e::\u003c/span\u003e \u003cspan class=\"kt\"\u003eFuture\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e~\u0026gt;\u003c/span\u003e \u003cspan class=\"kt\"\u003eList\u003c/span\u003e \u003cspan class=\"kt\"\u003eContext\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eA linked list of debugging contexts made available on every instance of\n\u003ccode\u003eFuture\u003c/code\u003e. When \u003ca href=\"#debugmode\"\u003edebug mode\u003c/a\u003e is disabled, the list is always empty.\u003c/p\u003e\n\u003cp\u003eThe context objects have \u003ccode\u003estack\u003c/code\u003e properties which contain snapshots of the\nstacktraces leading up to the creation of the \u003ccode\u003eFuture\u003c/code\u003e instance. They are used\nby Fluture to generate contextual stack traces.\u003c/p\u003e\n\u003ch2\u003e\n\u003ca id=\"license\" class=\"anchor\" href=\"#license\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eLicense\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/fluture-js/Fluture/blob/master/LICENSE\" rel=\"nofollow\"\u003eMIT licensed\u003c/a\u003e\u003c/p\u003e\n\u003c/body\u003e\u003c/html\u003e\n","project_id":53253439,"name":"Fluture","owner_login":"fluture-js","description":"ðŸ¦‹ Fantasy Land compliant (monadic) alternative to Promises","pushed_at":"2021-01-11T08:46:23.000Z","stargazers_count":2063,"open_issues_count":9,"has_downloads":true,"archived":false,"license_key":"mit","homepage":"","private":false,"project_created_at":"2016-03-06T12:20:57.000Z","project_updated_at":"2021-01-14T04:47:09.000Z","language":"JavaScript","added_language_topic":true},"categories":[{"name":"Advertising","topicsCount":10},{"name":"Application Programming Interfaces","topicsCount":124},{"name":"Applications","topicsCount":192},{"name":"Artificial Intelligence","topicsCount":78},{"name":"Blockchain","topicsCount":73},{"name":"Build Tools","topicsCount":113},{"name":"Cloud Computing","topicsCount":80},{"name":"Code Quality","topicsCount":28},{"name":"Collaboration","topicsCount":32},{"name":"Command Line Interface","topicsCount":49},{"name":"Community","topicsCount":83},{"name":"Companies","topicsCount":60},{"name":"Compilers","topicsCount":63},{"name":"Computer Science","topicsCount":80},{"name":"Configuration Management","topicsCount":42},{"name":"Content Management","topicsCount":175},{"name":"Control Flow","topicsCount":213},{"name":"Data Formats","topicsCount":78},{"name":"Data Processing","topicsCount":276},{"name":"Data Storage","topicsCount":135},{"name":"Economics","topicsCount":64},{"name":"Frameworks","topicsCount":215},{"name":"Games","topicsCount":129},{"name":"Graphics","topicsCount":110},{"name":"Hardware","topicsCount":152},{"name":"Integrated Development Environments","topicsCount":49},{"name":"Learning Resources","topicsCount":166},{"name":"Legal","topicsCount":29},{"name":"Libraries","topicsCount":129},{"name":"Lists Of Projects","topicsCount":22},{"name":"Machine Learning","topicsCount":347},{"name":"Mapping","topicsCount":64},{"name":"Marketing","topicsCount":15},{"name":"Mathematics","topicsCount":55},{"name":"Media","topicsCount":239},{"name":"Messaging","topicsCount":98},{"name":"Networking","topicsCount":315},{"name":"Operating Systems","topicsCount":89},{"name":"Operations","topicsCount":121},{"name":"Package Managers","topicsCount":55},{"name":"Programming Languages","topicsCount":245},{"name":"Runtime Environments","topicsCount":100},{"name":"Science","topicsCount":42},{"name":"Security","topicsCount":396},{"name":"Social Media","topicsCount":27},{"name":"Software Architecture","topicsCount":72},{"name":"Software Development","topicsCount":72},{"name":"Software Performance","topicsCount":58},{"name":"Software Quality","topicsCount":133},{"name":"Text Editors","topicsCount":49},{"name":"Text Processing","topicsCount":136},{"name":"User Interface","topicsCount":330},{"name":"User Interface Components","topicsCount":514},{"name":"Version Control","topicsCount":30},{"name":"Virtualization","topicsCount":71},{"name":"Web Browsers","topicsCount":42},{"name":"Web Servers","topicsCount":26},{"name":"Web User Interface","topicsCount":210},{"name":"All Projects","topicsCount":0}],"advertisement":{"variation":"project","title":"Become A Software Engineer At Top Companies","description":"Identify your strengths with a free online coding quiz, and skip resume and recruiter screens at multiple companies at once.  It's free, confidential, includes a free flight and hotel, along with help to study to pass interviews and negotiate a high salary!","url":"https://triplebyte.com/a/PGNifkM/pt2"},"nonCommercial":false,"nonDerivative":false}</script>
      



    <!-- load synchronously before app bundle so adsbygoogle is always defined, google's new ad code doesn't seem to like this, at least for the initial review  -->
    <!-- try loading programatically and async with a callback to push the ads and see if it helps page load speed -->
    <!--script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script-->
    <script src="/packs/root-bundle-1f53b6db74aa6b1bef19.js"></script>
  </body>
</html>
