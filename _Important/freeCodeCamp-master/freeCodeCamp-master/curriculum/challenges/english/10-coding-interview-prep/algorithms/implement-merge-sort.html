<h1 id="description">–description–</h1>
<p>Another common intermediate sorting algorithm is merge sort. Like quick sort, merge sort also uses a divide-and-conquer, recursive methodology to sort an array. It takes advantage of the fact that it is relatively easy to sort two arrays as long as each is sorted in the first place. But we’ll start with only one array as input, so how do we get to two sorted arrays from that? Well, we can recursively divide the original input in two until we reach the base case of an array with one item. A single-item array is naturally sorted, so then we can start combining. This combination will unwind the recursive calls that split the original array, eventually producing a final sorted array of all the elements. The steps of merge sort, then, are:</p>
<p><strong>1)</strong> Recursively split the input array in half until a sub-array with only one element is produced.</p>
<p><strong>2)</strong> Merge each sorted sub-array together to produce the final sorted array.</p>
<p>Merge sort is an efficient sorting method, with time complexity of <em>O(nlog(n))</em>. This algorithm is popular because it is performant and relatively easy to implement.</p>
<p>As an aside, this will be the last sorting algorithm we cover here. However, later in the section on tree data structures we will describe heap sort, another efficient sorting method that requires a binary heap in its implementation.</p>
<p><strong>Instructions:</strong> Write a function <code>mergeSort</code> which takes an array of integers as input and returns an array of these integers in sorted order from least to greatest. A good way to implement this is to write one function, for instance <code>merge</code>, which is responsible for merging two sorted arrays, and another function, for instance <code>mergeSort</code>, which is responsible for the recursion that produces single-item arrays to feed into merge. Good luck!</p>
<p><strong>Note:</strong><br />
We are calling this function from behind the scenes; the test array we are using is commented out in the editor. Try logging <code>array</code> to see your sorting algorithm in action!</p>
<h1 id="hints">–hints–</h1>
<p><code>mergeSort</code> should be a function.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="at">assert</span>(<span class="kw">typeof</span> mergeSort <span class="op">==</span> <span class="st">&#39;function&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><code>mergeSort</code> should return a sorted array (least to greatest).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="at">assert</span>(</a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="at">isSorted</span>(</a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="at">mergeSort</span>([</a>
<a class="sourceLine" id="cb2-4" title="4">      <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="dv">4</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-6" title="6">      <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-7" title="7">      <span class="dv">8</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-8" title="8">      <span class="dv">345</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-9" title="9">      <span class="dv">123</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-10" title="10">      <span class="dv">43</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-11" title="11">      <span class="dv">32</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-12" title="12">      <span class="dv">5643</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-13" title="13">      <span class="dv">63</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-14" title="14">      <span class="dv">123</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-15" title="15">      <span class="dv">43</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-16" title="16">      <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-17" title="17">      <span class="dv">55</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-18" title="18">      <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-19" title="19">      <span class="dv">234</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-20" title="20">      <span class="dv">92</span></a>
<a class="sourceLine" id="cb2-21" title="21">    ])</a>
<a class="sourceLine" id="cb2-22" title="22">  )</a>
<a class="sourceLine" id="cb2-23" title="23">)<span class="op">;</span></a></code></pre></div>
<p><code>mergeSort</code> should return an array that is unchanged except for order.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="va">assert</span>.<span class="at">sameMembers</span>(</a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="at">mergeSort</span>([</a>
<a class="sourceLine" id="cb3-3" title="3">    <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="dv">4</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="dv">8</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="dv">345</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="dv">123</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-9" title="9">    <span class="dv">43</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="dv">32</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-11" title="11">    <span class="dv">5643</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="dv">63</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-13" title="13">    <span class="dv">123</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-14" title="14">    <span class="dv">43</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-15" title="15">    <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-16" title="16">    <span class="dv">55</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-18" title="18">    <span class="dv">234</span><span class="op">,</span></a>
<a class="sourceLine" id="cb3-19" title="19">    <span class="dv">92</span></a>
<a class="sourceLine" id="cb3-20" title="20">  ])<span class="op">,</span></a>
<a class="sourceLine" id="cb3-21" title="21">  [<span class="dv">1</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">345</span><span class="op">,</span> <span class="dv">123</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">32</span><span class="op">,</span> <span class="dv">5643</span><span class="op">,</span> <span class="dv">63</span><span class="op">,</span> <span class="dv">123</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">55</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">234</span><span class="op">,</span> <span class="dv">92</span>]</a>
<a class="sourceLine" id="cb3-22" title="22">)<span class="op">;</span></a></code></pre></div>
<p><code>mergeSort</code> should not use the built-in <code>.sort()</code> method.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="at">assert</span>(<span class="at">isBuiltInSortUsed</span>())<span class="op">;</span></a></code></pre></div>
<h1 id="seed">–seed–</h1>
<h2 id="after-user-code">–after-user-code–</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">function</span> <span class="at">isSorted</span>(a)<span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="cf">for</span>(<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">a</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i<span class="op">++</span>)</a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="cf">if</span>(a[i] <span class="op">&gt;</span> a[i <span class="op">+</span> <span class="dv">1</span>])</a>
<a class="sourceLine" id="cb5-4" title="4">      <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="kw">function</span> <span class="at">isBuiltInSortUsed</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="kw">let</span> sortUsed <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-10" title="10">  <span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">sort</span> <span class="op">=</span> () <span class="kw">=&gt;</span> sortUsed <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-11" title="11">  <span class="at">mergeSort</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12">  <span class="cf">return</span> <span class="op">!</span>sortUsed<span class="op">;</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="op">}</span></a></code></pre></div>
<h2 id="seed-contents">–seed-contents–</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">function</span> <span class="at">mergeSort</span>(array) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="co">// Only change code below this line</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="cf">return</span> array<span class="op">;</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="co">// Only change code above this line</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb6-6" title="6"></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="at">mergeSort</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">345</span><span class="op">,</span> <span class="dv">123</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">32</span><span class="op">,</span> <span class="dv">5643</span><span class="op">,</span> <span class="dv">63</span><span class="op">,</span> <span class="dv">123</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">55</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">234</span><span class="op">,</span> <span class="dv">92</span>])<span class="op">;</span></a></code></pre></div>
<h1 id="solutions">–solutions–</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">function</span> <span class="at">mergeSort</span>(array) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="cf">if</span> (<span class="va">array</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="cf">return</span> array<span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-5" title="5">    <span class="kw">const</span> splitIndex <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">array</span>.<span class="at">length</span> / <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="cf">return</span> <span class="at">merge</span>(</a>
<a class="sourceLine" id="cb7-7" title="7">      <span class="at">mergeSort</span>(<span class="va">array</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,</span> splitIndex))<span class="op">,</span></a>
<a class="sourceLine" id="cb7-8" title="8">      <span class="at">mergeSort</span>(<span class="va">array</span>.<span class="at">slice</span>(splitIndex))</a>
<a class="sourceLine" id="cb7-9" title="9">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="op">}</span></a>
<a class="sourceLine" id="cb7-11" title="11"></a>
<a class="sourceLine" id="cb7-12" title="12">  <span class="co">// Merge two sorted arrays</span></a>
<a class="sourceLine" id="cb7-13" title="13">  <span class="kw">function</span> <span class="at">merge</span>(array1<span class="op">,</span> array2) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-14" title="14">    <span class="kw">let</span> merged <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb7-15" title="15">    <span class="cf">while</span> (<span class="va">array1</span>.<span class="at">length</span> <span class="op">&amp;&amp;</span> <span class="va">array2</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-16" title="16">      <span class="cf">if</span> (array1[<span class="dv">0</span>] <span class="op">&lt;</span> array2[<span class="dv">0</span>]) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-17" title="17">        <span class="va">merged</span>.<span class="at">push</span>(<span class="va">array1</span>.<span class="at">shift</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb7-18" title="18">      <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (array1[<span class="dv">0</span>] <span class="op">&gt;</span> array2[<span class="dv">0</span>]) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-19" title="19">        <span class="va">merged</span>.<span class="at">push</span>(<span class="va">array2</span>.<span class="at">shift</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb7-20" title="20">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-21" title="21">        <span class="va">merged</span>.<span class="at">push</span>(<span class="va">array1</span>.<span class="at">shift</span>()<span class="op">,</span> <span class="va">array2</span>.<span class="at">shift</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb7-22" title="22">      <span class="op">}</span></a>
<a class="sourceLine" id="cb7-23" title="23">    <span class="op">}</span></a>
<a class="sourceLine" id="cb7-24" title="24"></a>
<a class="sourceLine" id="cb7-25" title="25">    <span class="co">// After looping ends, one array is empty, and other array contains only</span></a>
<a class="sourceLine" id="cb7-26" title="26">    <span class="co">// values greater than all values in `merged`</span></a>
<a class="sourceLine" id="cb7-27" title="27">    <span class="cf">return</span> [...<span class="at">merged</span><span class="op">,</span> ...<span class="at">array1</span><span class="op">,</span> ...<span class="at">array2</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb7-28" title="28">  <span class="op">}</span></a>
<a class="sourceLine" id="cb7-29" title="29"><span class="op">}</span></a>
<a class="sourceLine" id="cb7-30" title="30"></a>
<a class="sourceLine" id="cb7-31" title="31"><span class="at">mergeSort</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">345</span><span class="op">,</span> <span class="dv">123</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">32</span><span class="op">,</span> <span class="dv">5643</span><span class="op">,</span> <span class="dv">63</span><span class="op">,</span> <span class="dv">123</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">55</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">234</span><span class="op">,</span> <span class="dv">92</span>])<span class="op">;</span></a></code></pre></div>
