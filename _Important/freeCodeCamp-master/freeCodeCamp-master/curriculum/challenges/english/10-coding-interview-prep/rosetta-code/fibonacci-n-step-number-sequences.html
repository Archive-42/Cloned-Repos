<h1 id="description">–description–</h1>
<p>These number series are an expansion of the ordinary <a href="https://rosettacode.org/wiki/Fibonacci%20sequence" title="Fibonacci sequence">Fibonacci sequence</a> where:</p>
<ol>
<li>
For <span class="math inline"><em>n</em> = 2</span> we have the Fibonacci sequence; with initial values <span class="math inline">[1, 1]</span> and <span class="math inline"><em>F</em><sub><em>k</em></sub><sup>2</sup> = <em>F</em><sub><em>k</em> − 1</sub><sup>2</sup> + <em>F</em><sub><em>k</em> − 2</sub><sup>2</sup></span>
</li>
<li>
For <span class="math inline"><em>n</em> = 3</span> we have the tribonacci sequence; with initial values <span class="math inline">[1, 1, 2]</span> and <span class="math inline"><em>F</em><sub><em>k</em></sub><sup>3</sup> = <em>F</em><sub><em>k</em> − 1</sub><sup>3</sup> + <em>F</em><sub><em>k</em> − 2</sub><sup>3</sup> + <em>F</em><sub><em>k</em> − 3</sub><sup>3</sup></span>
</li>
<li>
For <span class="math inline"><em>n</em> = 4</span> we have the tetranacci sequence; with initial values <span class="math inline">[1, 1, 2, 4]</span> and <span class="math inline"><em>F</em><sub><em>k</em></sub><sup>4</sup> = <em>F</em><sub><em>k</em> − 1</sub><sup>4</sup> + <em>F</em><sub><em>k</em> − 2</sub><sup>4</sup> + <em>F</em><sub><em>k</em> − 3</sub><sup>4</sup> + <em>F</em><sub><em>k</em> − 4</sub><sup>4</sup></span>…
</li>
<li>
For general <span class="math inline"><em>n</em> &gt; 2</span> we have the Fibonacci <span class="math inline"><em>n</em></span>-step sequence - <span class="math inline"><em>F</em><sub><em>k</em></sub><sup><em>n</em></sup></span>; with initial values of the first <span class="math inline"><em>n</em></span> values of the <span class="math inline">(<em>n</em> − 1)</span>’th Fibonacci <span class="math inline"><em>n</em></span>-step sequence <span class="math inline"><em>F</em><sub><em>k</em></sub><sup><em>n</em> − 1</sup></span>; and <span class="math inline"><em>k</em></span>’th value of this <span class="math inline"><em>n</em></span>’th sequence being <span class="math inline">$F_k^n = \sum_{i=1}^{(n)} {F_{k-i}^{(n)}}$</span>
</li>
</ol>
<p>For small values of <span class="math inline"><em>n</em></span>, <a href="https://en.wikipedia.org/wiki/Number%20prefix#Greek_series" title="wp: Number prefix#Greek_series">Greek numeric prefixes</a> are sometimes used to individually name each series.</p>
<p>Fibonacci <span class="math inline"><em>n</em></span>-step sequences:</p>
<table>
<thead>
<tr class="header">
<th><span class="math inline"><em>n</em></span></th>
<th>Series name</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>fibonacci</td>
<td>1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 …</td>
</tr>
<tr class="even">
<td>3</td>
<td>tribonacci</td>
<td>1 1 2 4 7 13 24 44 81 149 274 504 927 1705 3136 …</td>
</tr>
<tr class="odd">
<td>4</td>
<td>tetranacci</td>
<td>1 1 2 4 8 15 29 56 108 208 401 773 1490 2872 5536 …</td>
</tr>
<tr class="even">
<td>5</td>
<td>pentanacci</td>
<td>1 1 2 4 8 16 31 61 120 236 464 912 1793 3525 6930 …</td>
</tr>
<tr class="odd">
<td>6</td>
<td>hexanacci</td>
<td>1 1 2 4 8 16 32 63 125 248 492 976 1936 3840 7617 …</td>
</tr>
<tr class="even">
<td>7</td>
<td>heptanacci</td>
<td>1 1 2 4 8 16 32 64 127 253 504 1004 2000 3984 7936 …</td>
</tr>
<tr class="odd">
<td>8</td>
<td>octonacci</td>
<td>1 1 2 4 8 16 32 64 128 255 509 1016 2028 4048 8080 …</td>
</tr>
<tr class="even">
<td>9</td>
<td>nonanacci</td>
<td>1 1 2 4 8 16 32 64 128 256 511 1021 2040 4076 8144 …</td>
</tr>
<tr class="odd">
<td>10</td>
<td>decanacci</td>
<td>1 1 2 4 8 16 32 64 128 256 512 1023 2045 4088 8172 …</td>
</tr>
</tbody>
</table>
<p>Allied sequences can be generated where the initial values are changed: The <a href="https://en.wikipedia.org/wiki/Lucas%20number" title="wp: Lucas number">Lucas series</a> sums the two preceding values like the fibonacci series for <span class="math inline"><em>n</em> = 2</span> but uses <span class="math inline">$\[2, 1]$</span> as its initial values.</p>
<h1 id="instructions">–instructions–</h1>
<p>Write a function to generate Fibonacci <span class="math inline"><em>n</em></span>-step number sequences and Lucas sequences. The first parameter will be <span class="math inline"><em>n</em></span>. The second parameter will be the number of elements to be returned. The third parameter will specify whether to output the Fibonacci sequence or the Lucas sequence. If the parameter is <code>"f"</code> then return the Fibonacci sequence and if it is <code>"l"</code>, then return the Lucas sequence. The sequences must be returned as an array.</p>
<h1 id="hints">–hints–</h1>
<p><code>fib_luc</code> should be a function.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="at">assert</span>(<span class="kw">typeof</span> fib_luc <span class="op">===</span> <span class="st">&#39;function&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(2,10,"f")</code> should return <code>[1,1,2,3,5,8,13,21,34,55]</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="st">&#39;f&#39;</span>)<span class="op">,</span> ans[<span class="dv">0</span>])<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(3,15,"f")</code> should return <code>[1,1,2,4,7,13,24,44,81,149,274,504,927,1705,3136]</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="st">&#39;f&#39;</span>)<span class="op">,</span> ans[<span class="dv">1</span>])<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(4,15,"f")</code> should return <code>[1,1,2,4,8,15,29,56,108,208,401,773,1490,2872,5536]</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="st">&#39;f&#39;</span>)<span class="op">,</span> ans[<span class="dv">2</span>])<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(2,10,"l")</code> should return <code>[ 2, 1, 3, 4, 7, 11, 18, 29, 47, 76]</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="st">&#39;l&#39;</span>)<span class="op">,</span> ans[<span class="dv">3</span>])<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(3,15,"l")</code> should return <code>[ 2, 1, 3, 6, 10, 19, 35, 64, 118, 217, 399, 734, 1350, 2483, 4567 ]</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="st">&#39;l&#39;</span>)<span class="op">,</span> ans[<span class="dv">4</span>])<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(4,15,"l")</code> should return <code>[ 2, 1, 3, 6, 12, 22, 43, 83, 160, 308, 594, 1145, 2207, 4254, 8200 ]</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="st">&#39;l&#39;</span>)<span class="op">,</span> ans[<span class="dv">5</span>])<span class="op">;</span></a></code></pre></div>
<p><code>fib_luc(5,15,"l")</code> should return <code>[ 2, 1, 3, 6, 12, 24, 46, 91, 179, 352, 692, 1360, 2674, 5257, 10335 ]</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">assert</span>.<span class="at">deepEqual</span>(<span class="at">fib_luc</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="st">&#39;l&#39;</span>)<span class="op">,</span> ans[<span class="dv">6</span>])<span class="op">;</span></a></code></pre></div>
<h1 id="seed">–seed–</h1>
<h2 id="after-user-code">–after-user-code–</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">const</span> ans <span class="op">=</span> [[<span class="dv">1</span><span class="op">,</span><span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span><span class="op">,</span><span class="dv">5</span><span class="op">,</span><span class="dv">8</span><span class="op">,</span><span class="dv">13</span><span class="op">,</span><span class="dv">21</span><span class="op">,</span><span class="dv">34</span><span class="op">,</span><span class="dv">55</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-2" title="2">[<span class="dv">1</span><span class="op">,</span><span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">4</span><span class="op">,</span><span class="dv">7</span><span class="op">,</span><span class="dv">13</span><span class="op">,</span><span class="dv">24</span><span class="op">,</span><span class="dv">44</span><span class="op">,</span><span class="dv">81</span><span class="op">,</span><span class="dv">149</span><span class="op">,</span><span class="dv">274</span><span class="op">,</span><span class="dv">504</span><span class="op">,</span><span class="dv">927</span><span class="op">,</span><span class="dv">1705</span><span class="op">,</span><span class="dv">3136</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-3" title="3">[<span class="dv">1</span><span class="op">,</span><span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">4</span><span class="op">,</span><span class="dv">8</span><span class="op">,</span><span class="dv">15</span><span class="op">,</span><span class="dv">29</span><span class="op">,</span><span class="dv">56</span><span class="op">,</span><span class="dv">108</span><span class="op">,</span><span class="dv">208</span><span class="op">,</span><span class="dv">401</span><span class="op">,</span><span class="dv">773</span><span class="op">,</span><span class="dv">1490</span><span class="op">,</span><span class="dv">2872</span><span class="op">,</span><span class="dv">5536</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-4" title="4">[ <span class="dv">2</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">11</span><span class="op">,</span> <span class="dv">18</span><span class="op">,</span> <span class="dv">29</span><span class="op">,</span> <span class="dv">47</span><span class="op">,</span> <span class="dv">76</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-5" title="5">[ <span class="dv">2</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">19</span><span class="op">,</span> <span class="dv">35</span><span class="op">,</span> <span class="dv">64</span><span class="op">,</span> <span class="dv">118</span><span class="op">,</span> <span class="dv">217</span><span class="op">,</span> <span class="dv">399</span><span class="op">,</span> <span class="dv">734</span><span class="op">,</span> <span class="dv">1350</span><span class="op">,</span> <span class="dv">2483</span><span class="op">,</span> <span class="dv">4567</span> ]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-6" title="6">[ <span class="dv">2</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">22</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">83</span><span class="op">,</span> <span class="dv">160</span><span class="op">,</span> <span class="dv">308</span><span class="op">,</span> <span class="dv">594</span><span class="op">,</span> <span class="dv">1145</span><span class="op">,</span> <span class="dv">2207</span><span class="op">,</span> <span class="dv">4254</span><span class="op">,</span> <span class="dv">8200</span> ]<span class="op">,</span></a>
<a class="sourceLine" id="cb9-7" title="7">[ <span class="dv">2</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">24</span><span class="op">,</span> <span class="dv">46</span><span class="op">,</span> <span class="dv">91</span><span class="op">,</span> <span class="dv">179</span><span class="op">,</span> <span class="dv">352</span><span class="op">,</span> <span class="dv">692</span><span class="op">,</span> <span class="dv">1360</span><span class="op">,</span> <span class="dv">2674</span><span class="op">,</span> <span class="dv">5257</span><span class="op">,</span> <span class="dv">10335</span> ]]<span class="op">;</span></a></code></pre></div>
<h2 id="seed-contents">–seed-contents–</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">function</span> <span class="at">fib_luc</span>(n<span class="op">,</span> len<span class="op">,</span> w) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="op">}</span></a></code></pre></div>
<h1 id="solutions">–solutions–</h1>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">function</span> <span class="at">fib_luc</span>(n<span class="op">,</span> len<span class="op">,</span> w) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">    <span class="kw">function</span> <span class="at">nacci</span>(a<span class="op">,</span> n<span class="op">,</span> len) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-3" title="3">        <span class="cf">while</span> (<span class="va">a</span>.<span class="at">length</span> <span class="op">&lt;</span> len) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-4" title="4">            <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5">            <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="va">Math</span>.<span class="at">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="va">a</span>.<span class="at">length</span> <span class="op">-</span> n)<span class="op">;</span> i <span class="op">&lt;</span> <span class="va">a</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>)</a>
<a class="sourceLine" id="cb11-6" title="6">                sum <span class="op">+=</span> a[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb11-7" title="7">            <span class="va">a</span>.<span class="at">push</span>(sum)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-8" title="8">        <span class="op">}</span></a>
<a class="sourceLine" id="cb11-9" title="9">        <span class="cf">return</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb11-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb11-11" title="11">    <span class="cf">if</span>(w<span class="op">==</span><span class="st">&quot;f&quot;</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb11-12" title="12">        <span class="cf">return</span> <span class="at">nacci</span>(<span class="at">nacci</span>([<span class="dv">1</span><span class="op">,</span><span class="dv">1</span>]<span class="op">,</span> n<span class="op">,</span> n)<span class="op">,</span> n<span class="op">,</span> len)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-13" title="13">    <span class="op">}</span><span class="cf">else</span><span class="op">{</span></a>
<a class="sourceLine" id="cb11-14" title="14">        <span class="cf">return</span> <span class="at">nacci</span>(<span class="at">nacci</span>([<span class="dv">2</span><span class="op">,</span><span class="dv">1</span>]<span class="op">,</span> n<span class="op">,</span> n)<span class="op">,</span> n<span class="op">,</span> len)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-15" title="15">    <span class="op">}</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="op">}</span></a></code></pre></div>
