<h1 id="description">–description–</h1>
<p>A given rectangle is made from <em>m</em> × <em>n</em> squares. If <em>m</em> and <em>n</em> are not both odd, then it is possible to cut a path through the rectangle along the square edges such that the rectangle splits into two connected pieces with the same shape (after rotating one of the pieces by 180°). All such paths for 2 × 2 and 4 × 3 rectangles are shown below.</p>
<div style="width: 100%; text-align: center;">
<svg xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" width="520" height="170" aria-hidden="true" alt="Diagram showing the possible paths for 2 by 2 and 4 by 3 rectangles">
<style>
    .g { fill: none; stroke: #ccc }
    .s, .s2 { fill: #bff; stroke: black; fill-opacity: .4 }
    .s2 { fill: #fbf }
    .d { stroke:black; fill:none}
    </style>
<pre><code>&lt;defs&gt;  &lt;g id=&quot;m&quot;&gt;
  &lt;g id=&quot;h4&quot;&gt;&lt;g id=&quot;h2&quot;&gt;
  &lt;path id=&quot;h&quot; d=&quot;m0 10h 640&quot; class=&quot;g&quot;/&gt;
  &lt;use xlink:href=&quot;#h&quot; transform=&quot;translate(0,20)&quot;/&gt;&lt;/g&gt;
  &lt;use xlink:href=&quot;#h2&quot; transform=&quot;translate(0, 40)&quot;/&gt;&lt;/g&gt;
  &lt;use xlink:href=&quot;#h4&quot; transform=&quot;translate(0,80)&quot;/&gt;
  &lt;g id=&quot;v8&quot;&gt;&lt;g id=&quot;v4&quot;&gt;&lt;g id=&quot;v2&quot;&gt;
  &lt;path id=&quot;v&quot; d=&quot;m10 0v160 m 20 0 v-160&quot; class=&quot;g&quot;/&gt;
  &lt;use xlink:href=&quot;#v&quot; transform=&quot;translate(40,0)&quot;/&gt;&lt;/g&gt;
  &lt;use xlink:href=&quot;#v2&quot; transform=&quot;translate(80,0)&quot;/&gt;&lt;/g&gt;
  &lt;use xlink:href=&quot;#v4&quot; transform=&quot;translate(160,0)&quot;/&gt;&lt;/g&gt;
  &lt;use xlink:href=&quot;#v8&quot; transform=&quot;translate(320,0)&quot;/&gt;&lt;/g&gt;
  &lt;path id=&quot;b&quot; d=&quot;m0 0h80v60h-80z&quot; class=&quot;s&quot;/&gt;
&lt;/defs&gt;
&lt;g transform=&quot;translate(.5,.5)&quot;&gt;
&lt;use xlink:href=&quot;#m&quot;/&gt;
&lt;g transform=&quot;translate(10,10)&quot;&gt;
&lt;path d=&quot;m0 0v40h40v-40z&quot; class=&quot;s2&quot;/&gt;&lt;path d=&quot;m20 0v40&quot; class=&quot;d&quot;/&gt;
&lt;path d=&quot;m60 0v40h40v-40z&quot; class=&quot;s2&quot;/&gt;&lt;path d=&quot;m60 20h40&quot; class=&quot;d&quot;/&gt;
&lt;g transform=&quot;translate(120, 0)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m0 20h40v20h40&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(220, 0)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m0 40h40v-20h40&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(320, 0)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m20 0v40h20v-20h20v40&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(420, 0)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m60 0v40h-20v-20h-20v40&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(20, 80)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m40 0v60&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(120, 80)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m60 0v20h-20v20h-20v20&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(220, 80)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m20 0v20h20v20h20v20&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(320, 80)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m0 20h20v20h20v-20h20v20h20&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;g transform=&quot;translate(420, 80)&quot;&gt;
&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;path d=&quot;m0 40h20v-20h20v20h20v-20h20&quot; class=&quot;d&quot;/&gt;&lt;/g&gt;
&lt;/g&gt;&lt;/g&gt;
&lt;/svg&gt;</code></pre>
</div>
<h1 id="instructions">–instructions–</h1>
<p>Write a function that calculates the number of different ways to cut an <em>m</em> × <em>n</em> rectangle.</p>
<h1 id="hints">–hints–</h1>
<p><code>cutRectangle</code> should be a function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="at">assert</span>(<span class="kw">typeof</span> cutRectangle <span class="op">==</span> <span class="st">&#39;function&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><code>cutRectangle(2, 2)</code> should return a number.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="at">assert</span>(<span class="kw">typeof</span> <span class="at">cutRectangle</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>) <span class="op">==</span> <span class="st">&#39;number&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><code>cutRectangle(2, 2)</code> should return <code>2</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="va">assert</span>.<span class="at">equal</span>(<span class="at">cutRectangle</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></a></code></pre></div>
<p><code>cutRectangle(4, 3)</code> should return <code>9</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">assert</span>.<span class="at">equal</span>(<span class="at">cutRectangle</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">,</span> <span class="dv">9</span>)<span class="op">;</span></a></code></pre></div>
<p><code>cutRectangle(4, 4)</code> should return <code>22</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="va">assert</span>.<span class="at">equal</span>(<span class="at">cutRectangle</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>)<span class="op">,</span> <span class="dv">22</span>)<span class="op">;</span></a></code></pre></div>
<p><code>cutRectangle(8, 3)</code> should return <code>53</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="va">assert</span>.<span class="at">equal</span>(<span class="at">cutRectangle</span>(<span class="dv">8</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">,</span> <span class="dv">53</span>)<span class="op">;</span></a></code></pre></div>
<p><code>cutRectangle(7, 4)</code> should return <code>151</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="va">assert</span>.<span class="at">equal</span>(<span class="at">cutRectangle</span>(<span class="dv">7</span><span class="op">,</span> <span class="dv">4</span>)<span class="op">,</span> <span class="dv">151</span>)<span class="op">;</span></a></code></pre></div>
<h1 id="seed">–seed–</h1>
<h2 id="seed-contents">–seed-contents–</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">function</span> <span class="at">cutRectangle</span>(w<span class="op">,</span> h) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="op">}</span></a></code></pre></div>
<h1 id="solutions">–solutions–</h1>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">function</span> <span class="at">cutRectangle</span>(w<span class="op">,</span> h) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="cf">if</span> (w <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span> <span class="op">&amp;&amp;</span> h <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span>) <span class="cf">return</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="kw">var</span> dirs <span class="op">=</span> [[<span class="dv">0</span><span class="op">,</span> <span class="dv">-1</span>]<span class="op">,</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>]<span class="op">,</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">0</span>]]<span class="op">;</span></a>
<a class="sourceLine" id="cb10-5" title="5"></a>
<a class="sourceLine" id="cb10-6" title="6">  <span class="kw">var</span> grid <span class="op">=</span> <span class="kw">new</span> <span class="at">Array</span>(h)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-7" title="7">  <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">grid</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) grid[i] <span class="op">=</span> <span class="kw">new</span> <span class="at">Array</span>(w)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-8" title="8">  <span class="kw">var</span> stack <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb10-9" title="9"></a>
<a class="sourceLine" id="cb10-10" title="10">  <span class="kw">var</span> half <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>((w <span class="op">*</span> h) / <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-11" title="11">  <span class="kw">var</span> bits <span class="op">=</span> <span class="va">Math</span>.<span class="at">pow</span>(<span class="dv">2</span><span class="op">,</span> half) <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-12" title="12">  <span class="kw">var</span> result <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-13" title="13">  <span class="cf">for</span> (<span class="op">;</span> bits <span class="op">&gt;</span> <span class="dv">0</span><span class="op">;</span> bits <span class="op">-=</span> <span class="dv">2</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-14" title="14">    <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> half<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-15" title="15">      <span class="kw">var</span> r <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>(i / w)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-16" title="16">      <span class="kw">var</span> c <span class="op">=</span> i <span class="op">%</span> w<span class="op">;</span></a>
<a class="sourceLine" id="cb10-17" title="17">      grid[r][c] <span class="op">=</span> (bits <span class="op">&amp;</span> (<span class="dv">1</span> <span class="op">&lt;&lt;</span> i)) <span class="op">!=</span> <span class="dv">0</span> <span class="op">?</span> <span class="dv">1</span> : <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-18" title="18">      grid[h <span class="op">-</span> r <span class="op">-</span> <span class="dv">1</span>][w <span class="op">-</span> c <span class="op">-</span> <span class="dv">1</span>] <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> grid[r][c]<span class="op">;</span></a>
<a class="sourceLine" id="cb10-19" title="19">    <span class="op">}</span></a>
<a class="sourceLine" id="cb10-20" title="20"></a>
<a class="sourceLine" id="cb10-21" title="21">    <span class="va">stack</span>.<span class="at">push</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-22" title="22">    grid[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-23" title="23">    <span class="kw">var</span> count <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-24" title="24">    <span class="cf">while</span> (<span class="va">stack</span>.<span class="at">length</span> <span class="op">!=</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-25" title="25">      <span class="kw">var</span> pos <span class="op">=</span> <span class="va">stack</span>.<span class="at">pop</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-26" title="26">      <span class="kw">var</span> r <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>(pos / w)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-27" title="27">      <span class="kw">var</span> c <span class="op">=</span> pos <span class="op">%</span> w<span class="op">;</span></a>
<a class="sourceLine" id="cb10-28" title="28"></a>
<a class="sourceLine" id="cb10-29" title="29">      <span class="cf">for</span> (<span class="kw">var</span> dir <span class="kw">of</span> dirs) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-30" title="30">        <span class="kw">var</span> nextR <span class="op">=</span> r <span class="op">+</span> dir[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb10-31" title="31">        <span class="kw">var</span> nextC <span class="op">=</span> c <span class="op">+</span> dir[<span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb10-32" title="32"></a>
<a class="sourceLine" id="cb10-33" title="33">        <span class="cf">if</span> (nextR <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> nextR <span class="op">&lt;</span> h <span class="op">&amp;&amp;</span> nextC <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> nextC <span class="op">&lt;</span> w) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-34" title="34">          <span class="cf">if</span> (grid[nextR][nextC] <span class="op">==</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-35" title="35">            <span class="va">stack</span>.<span class="at">push</span>(nextR <span class="op">*</span> w <span class="op">+</span> nextC)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-36" title="36">            grid[nextR][nextC] <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-37" title="37">            count<span class="op">++;</span></a>
<a class="sourceLine" id="cb10-38" title="38">          <span class="op">}</span></a>
<a class="sourceLine" id="cb10-39" title="39">        <span class="op">}</span></a>
<a class="sourceLine" id="cb10-40" title="40">      <span class="op">}</span></a>
<a class="sourceLine" id="cb10-41" title="41">    <span class="op">}</span></a>
<a class="sourceLine" id="cb10-42" title="42"></a>
<a class="sourceLine" id="cb10-43" title="43">    <span class="cf">if</span> (count <span class="op">==</span> half) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-44" title="44">      result<span class="op">++;</span></a>
<a class="sourceLine" id="cb10-45" title="45">    <span class="op">}</span></a>
<a class="sourceLine" id="cb10-46" title="46">  <span class="op">}</span></a>
<a class="sourceLine" id="cb10-47" title="47"></a>
<a class="sourceLine" id="cb10-48" title="48">  <span class="cf">return</span> result<span class="op">;</span></a>
<a class="sourceLine" id="cb10-49" title="49"><span class="op">}</span></a></code></pre></div>
