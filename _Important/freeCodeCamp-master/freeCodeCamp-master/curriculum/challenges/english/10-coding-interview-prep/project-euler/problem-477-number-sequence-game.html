<h1 id="description">–description–</h1>
<p>The number sequence game starts with a sequence S of N numbers written on a line.</p>
<p>Two players alternate turns. At his turn, a player must select and remove either the first or the last number remaining in the sequence.</p>
<p>The player score is the sum of all the numbers he has taken. Each player attempts to maximize his own sum.</p>
<p>If N = 4 and S = {1, 2, 10, 3}, then each player maximizes his score as follows:</p>
<p>Player 1: removes the first number (1)</p>
<p>Player 2: removes the last number from the remaining sequence (3)</p>
<p>Player 1: removes the last number from the remaining sequence (10)</p>
<p>Player 2: removes the remaining number (2)</p>
<p>Player 1 score is 1 + 10 = 11.</p>
<p>Let F(N) be the score of player 1 if both players follow the optimal strategy for the sequence S = {s1, s2, …, sN} defined as:</p>
<p>s1 = 0</p>
<p>si+1 = (si2 + 45) modulo 1 000 000 007</p>
<p>The sequence begins with S = {0, 45, 2070, 4284945, 753524550, 478107844, 894218625, …}.</p>
<p>You are given F(2) = 45, F(4) = 4284990, F(100) = 26365463243, F(104) = 2495838522951.</p>
<p>Find F(108).</p>
<h1 id="hints">–hints–</h1>
<p><code>euler477()</code> should return 25044905874565164.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">assert</span>.<span class="at">strictEqual</span>(<span class="at">euler477</span>()<span class="op">,</span> <span class="dv">25044905874565164</span>)<span class="op">;</span></a></code></pre></div>
<h1 id="seed">–seed–</h1>
<h2 id="seed-contents">–seed-contents–</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="at">euler477</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="at">euler477</span>()<span class="op">;</span></a></code></pre></div>
<h1 id="solutions">–solutions–</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// solution required</span></a></code></pre></div>
